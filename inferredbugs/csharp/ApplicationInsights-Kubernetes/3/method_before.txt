        [Fact(DisplayName = "Return true when certificate chain is valid")]
        public void TrueWhenValidCertificate()
        {
            KubeHttpClientSettingsProvider target = new KubeHttpClientSettingsProvider(
                GetConatinerIdProviders(),
                pathToNamespace: "namespace",
                kubernetesServiceHost: "127.0.0.1",
                kubernetesServicePort: "8001");
            Assert.NotNull(target);

            // The following certificates are valid in a chain.
            X509Certificate2 serverCert = new X509Certificate2(Convert.FromBase64String("MIIDhTCCAm2gAwIBAgIBTTANBgkqhkiG9w0BAQ0FADAAMB4XDTE4MDcyNzE5MDMwMFoXDTE5MDcyNzE5MDMwMFowajELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAldBMRAwDgYDVQQHEwdSZWRtb25kMRIwEAYDVQQKEwlNaWNyb3NvZnQxDzANBgNVBAsTBkRldkRpdjEXMBUGA1UEAwwOKi5zYWFyc2FzZS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDRyPPbX6H7RcFr6w3qHxoCe72XhkHhxJFjyth49LFINb0ZQtmZYjGEYkh88jZFFnNU7eHS3wSmL5nmmHVZDBdqWvP2Jwhla8NH7ZkMs1romf6QUG2ZWD/jF2v7gHefBrlz7ydJS8IPNbHHmSayofwjSiET3h+e5bl46n3tpDoFcy0EKfHNFuVScdjGMnFxOWfCCdC+DSPWuO26pinTkpeKMYaW2RAORT3nmnZQW+djFrAar7qPkjXPPHw8gYEcHexwaaiDxmi6G7xBiuW8bivQtONoM4Q190FK20WzqtZ2AxYJMGFcgZIpYFBaJzJ/p6Ykt1x5ToCZVWMaWABIPKYJAgMBAAGjgZ8wgZwwDAYDVR0TAQH/BAIwADAdBgNVHQ4EFgQUa83fBElj1T6wiDWEposkT9LdL7EwCwYDVR0PBAQDAgXgMC0GA1UdEQQmMCSCDiouc2FhcnNhc2UuY29tghIqLnNjbS5zYWFyc2FzZS5jb20wEQYJYIZIAYb4QgEBBAQDAgZAMB4GCWCGSAGG+EIBDQQRFg94Y2EgY2VydGlmaWNhdGUwDQYJKoZIhvcNAQENBQADggEBAKpj+RIIjrTsb5j7fCwXpT8ThtZUqzaBLBzBhOmHyMRClaRYTmaNUfCRWhCKe/J9U0fuF79D30egr5vv+VO3Y4PFQ2FrNiqhz8hrNpdEbFW5lHSjjYkCWF/UM4BppRrRiKyVcj5CBJuhTyi+0yl1laZMQ2VZAWYcCAofK7DE+5tUTAZBNcNEfCmlERmFr3WS2gkTPAbNUhNFhJ07oL7O8iBuild4N3t1l4DowRz1LP4epXXnrIbX6BMCNbsRnH2F5edPevTBIVgzRKrBFRhGg/meOoSOC2GUzALxEbVYX2GFUVWceq4dH94wNntNJ4gbSA77tzAtgLqLTwlkZLPHAeY="));
            X509Certificate2 clientCert = new X509Certificate2(Convert.FromBase64String("MIIC7TCCAdWgAwIBAgIBAzANBgkqhkiG9w0BAQ0FADAAMB4XDTE4MDcyNzE4NTQwMFoXDTI4MDcyNzE4NTQwMFowADCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALT8CmzKuVxIJD6PkXS+MzFewvLc+R3LCZBoEX06oSziTpEO1jbnm14dGdNIFg4ZsmaLcM9MZsnl9etb44n11JXvFTBLR0vniF0e9bw+qfHHZ0tO92oW9SBlJCdwdZiSdg0zHfcxT8IoUDi+iE4OIBNgiwHwxkHnQsIMTN6MLtsbFtD8LKsfoDHbD4yU12jaicPdn6ifVJShuq6oI2pkFgzh1xUzNpGmcNzXTNci0qU2KGbpnzlY6ufbJROtNaNmADm5AMmoz6cYb2iYUpuf6M92xmWciTpcEDEf4cumkdPD3BVxIxWf9/klzf6vXpHeY5EJJxow5NmnTZ9hNY24HgkCAwEAAaNyMHAwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUU4m02sIVMgcrCh1VmSPQxnio808wCwYDVR0PBAQDAgEGMBEGCWCGSAGG+EIBAQQEAwIABzAeBglghkgBhvhCAQ0EERYPeGNhIGNlcnRpZmljYXRlMA0GCSqGSIb3DQEBDQUAA4IBAQAalR3w8vVXt49uul7+fr+tnILP9hBeQt9lHd5g/JTw2KWCbQUqU5aQElZMf6uvhr/jvgEK2Ft/dDYM4lY2gs1L6LjFLbF/MXEJPGPbTlLU1UHvP7jCmGbgj45XtVHr+7kOO6t9XoQftn0RuY7jGf7E8kqJBRVMrv3lumfiWD3u3b+hAeLhBgyUMD+kjd0VVTvkmughEQPz7QXV6aYu86kNtofXpvz9dyhTmhjPlZanJUeJjLP3RaMAUpFbLyXkdHq5XYnK6anf5T7r/C+QIYq/AeKd4xQ2rJCJmtu37sdX5g1wN2lR2NOnJx6GTrv8lzN7FzIAIn9oSJGVrXKdD1Kk"));
            bool result = target.CertificateValidationCallBack(null, serverCert, clientCert, new X509Chain(), System.Net.Security.SslPolicyErrors.RemoteCertificateChainErrors);
            Assert.True(result);
        }