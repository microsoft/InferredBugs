{
    "hash": "cc6a92619d808cfdb514087940fe8ce197c2a830",
    "message": "\u5e94\u7528\u914d\u7f6e\u548c\u5e94\u7528\u5386\u53f2\u9875\u9762",
    "file_num_lines": 483,
    "diff_parsed": {
        "added": [
            [
                12,
                "using NewLife.Security;"
            ],
            [
                67,
                "            if (app.Secret.IsNullOrEmpty())"
            ],
            [
                68,
                "                app.Secret = Rand.NextString(16);"
            ],
            [
                69,
                "            else"
            ],
            [
                79,
                "            var autoReg = app.ID == 0;"
            ],
            [
                80,
                ""
            ],
            [
                92,
                "            WriteHistory(\"\u767b\u5f55\", true, $\"[{user}/{pass}]\u5728[{machine}@{pid}]\u767b\u5f55[{app}]\u6210\u529f\");"
            ],
            [
                94,
                "            if (autoReg)"
            ],
            [
                95,
                "                return new"
            ],
            [
                96,
                "                {"
            ],
            [
                97,
                "                    app.Name,"
            ],
            [
                98,
                "                    app.Secret,"
            ],
            [
                99,
                "                    app.DisplayName,"
            ],
            [
                100,
                "                };"
            ],
            [
                101,
                "            else"
            ],
            [
                102,
                "                return new"
            ],
            [
                103,
                "                {"
            ],
            [
                104,
                "                    app.Name,"
            ],
            [
                105,
                "                    app.DisplayName,"
            ],
            [
                106,
                "                };"
            ],
            [
                170,
                ""
            ],
            [
                171,
                "                    WriteHistory(filterContext.ActionName, false, ex.GetMessage());"
            ]
        ],
        "deleted": [
            [
                66,
                "            if (!app.Secret.IsNullOrEmpty())"
            ],
            [
                87,
                "            WriteHistory(\"\u767b\u5f55\", true, $\"[{user}/{pass}]\u767b\u5f55[{app}]\u6210\u529f\");"
            ],
            [
                89,
                "            return new"
            ],
            [
                90,
                "            {"
            ],
            [
                91,
                "                app.Name,"
            ],
            [
                92,
                "                app.DisplayName,"
            ],
            [
                93,
                "            };"
            ]
        ]
    },
    "num_lines_added": 22,
    "num_lines_removed": 7
}