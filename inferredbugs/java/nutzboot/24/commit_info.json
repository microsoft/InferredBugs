{"hash": "4ebc516e5ee08972cf26bc7c52352e32cac3892f", "message": "add: \u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5\u652f\u6301", "file_num_lines": 342, "diff_parsed": {"added": [[175, "            if (execute()) {"], [176, "                synchronized (lock) {"], [177, "                    lock.wait();"], [178, "                }"], [179, "            }"], [180, "            // \u6536\u5c3e"], [181, "            _shutdown();"], [187, ""], [188, "    public boolean execute() {"], [191, "            // \u5404\u79cd\u9884\u5907\u64cd\u4f5c"], [192, "            listener.whenPrepare(this, EventType.before);"], [193, "            this.prepare();"], [194, "            listener.whenPrepare(this, EventType.after);"], [195, ""], [196, "            // \u4f9d\u6b21\u542f\u52a8"], [209, ""], [210, "            sw.stop();"], [211, "            log.infof(\"%s started : %sms\", ctx.getConf().get(\"nutz.application.name\", \"NB\"),  sw.du());"], [212, "            return true;"], [216, "            return false;"], [217, "        }"], [218, "    }"], [219, ""], [220, "    protected void _shutdown() {"], [221, "        try {"], [222, "            ctx.stopServers();"], [223, "            ctx.depose();"], [224, "        }"], [225, "        catch (Exception e) {"], [226, "            throw Lang.wrapThrow(e);"], [232, "        if (lock == null) {"], [233, "            _shutdown();"], [234, "        }"], [235, "        else {"], [236, "            synchronized (lock) {"], [237, "                lock.notify();"], [238, "            }"]], "deleted": [[175, "            _run();"], [181, ""], [182, "    /**"], [183, "     * \u542f\u52a8\u6574\u4e2aNbApp"], [184, "     */"], [185, "    public void _run() throws Exception {"], [187, ""], [188, "        // \u5404\u79cd\u9884\u5907\u64cd\u4f5c"], [189, "        listener.whenPrepare(this, EventType.before);"], [190, "        this.prepare();"], [191, "        listener.whenPrepare(this, EventType.after);"], [192, ""], [193, "        // \u4f9d\u6b21\u542f\u52a8"], [206, "            sw.stop();"], [207, ""], [209, "            log.infof(\"NB started : %sms\", sw.du());"], [210, "            synchronized (lock) {"], [211, "                lock.wait();"], [212, "            }"], [217, "        // \u6536\u5c3e"], [218, "        ctx.stopServers();"], [219, "        ctx.depose();"], [224, "        synchronized (lock) {"], [225, "            lock.notify();"]]}, "num_lines_added": 37, "num_lines_removed": 24}