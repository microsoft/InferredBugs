{"hash": "cbc1e9ed049705c9801376b02cc13ef86955715f", "message": "- add: \u65b0\u589e\u542f\u52a8\u626b\u63cf\u5916\u90e8jar\u5305\uff0c\u914d\u7f6e\u5b9e\u4f8b\uff1anutz.scans.paths=lib/", "file_num_lines": 399, "diff_parsed": {"added": [[3, "import java.io.File;"], [31, "import org.nutz.ioc.impl.PropertiesProxy;"], [35, "import org.nutz.lang.*;"], [43, "import org.nutz.resource.impl.JarResourceLocation;"], [64, "     * \u626b\u63cf\u5916\u90e8jar\u5305\u8def\u5f84"], [65, "     */"], [66, "    protected String scansPaths = \"nutz.scans.paths\";"], [67, ""], [68, "    /**"], [271, "        // \u914d\u7f6e\u4fe1\u606f\u51c6\u5907\u597d\u540e,\u8fdb\u884c\u5916\u90e8jar\u5305\u5bf9\u8c61Scan"], [272, "        PropertiesProxy propertiesProxy = ctx.getConf();"], [273, "        if(propertiesProxy.containsKey(scansPaths)) {"], [274, "            log.debugf(\"has scansPaths...\");"], [275, "            String scansPathsValue = propertiesProxy.get(scansPaths);"], [276, "            // \u9002\u914d\u591a\u8def\u5f84"], [277, "            for (String path : scansPathsValue.split(\";\")) {"], [278, "                path = AppContext.getDefault().getBasePath() + File.separator + path;"], [279, "                log.debugf(\"scan path %s\", path);"], [280, "                for (File jar : Files.ls(path, \".jar$\", null)) {"], [281, "                    log.infof(\"addResourceFile:%s\", jar.getPath());"], [282, "                    Scans.me().addResourceLocation(new JarResourceLocation(jar.getPath()));"], [283, "                }"], [284, "            }"], [285, "        }"], [286, ""]], "deleted": [[33, "import org.nutz.lang.Lang;"], [34, "import org.nutz.lang.Mirror;"], [35, "import org.nutz.lang.Stopwatch;"], [36, "import org.nutz.lang.Streams;"], [37, "import org.nutz.lang.Strings;"]]}, "num_lines_added": 25, "num_lines_removed": 5}