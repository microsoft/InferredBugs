{"hash": "4323f8e04243cdc044c9007ace6b7811e60b6f81", "message": "update: NbApp\u5b9e\u4f8b\u672c\u8eab\u4e5f\u653e\u5165Ioc\u5bb9\u5668", "file_num_lines": 289, "diff_parsed": {"added": [[92, "        ctx = AppContext.getDefault();"], [104, "        ctx = AppContext.getDefault();"], [105, "        setMainClass(mainClass);"], [106, "    }"], [107, ""], [108, "    public NbApp(AppContext ctx) {"], [109, "        this.ctx = ctx;"], [110, "        StackTraceElement[] ts = Thread.currentThread().getStackTrace();"], [111, "        if (ts.length > 2) {"], [112, "            setMainClass(Lang.loadClassQuite(ts[2].getClassName()));"], [113, "        }"], [114, "    }"], [115, ""], [116, "    public NbApp(AppContext ctx, Class<?> mainClass) {"], [117, "        this.ctx = ctx;"], [118, "        setMainClass(mainClass);"], [133, "        this.ctx.setMainClass(mainClass);"], [191, "            if (ctx.getMainClass().getAnnotation(IocBean.class) != null)"], [192, "                ctx.getIoc().get(ctx.getMainClass());"], [338, "            ioc2.getIocContext().save(\"app\", \"conf\", new ObjectProxy(ctx.getConf()));"], [339, "            ioc2.getIocContext().save(\"app\", \"nbApp\", new ObjectProxy(this));"]], "deleted": [[60, "     * \u4e3b\u542f\u52a8\u5668\u7c7b,\u5fc5\u987b\u8bbe\u7f6e"], [61, "     */"], [62, "    protected Class<?> mainClass;"], [63, ""], [64, "    /**"], [108, "        this.mainClass = mainClass;"], [123, "        this.mainClass = mainClass;"], [181, "            if (mainClass.getAnnotation(IocBean.class) != null)"], [182, "                ctx.getIoc().get(mainClass);"], [233, "    \tif (this.ctx == null) {"], [234, "            ctx = AppContext.getDefault();"], [235, "        }"], [236, "        if (ctx.getMainClass() == null && mainClass != null)"], [237, "            ctx.setMainClass(mainClass);"], [333, "            ioc2.getIocContext().save(\"app\", \"conf\", new ObjectProxy(ctx.getConfigureLoader().get()));"]]}, "num_lines_added": 21, "num_lines_removed": 15}