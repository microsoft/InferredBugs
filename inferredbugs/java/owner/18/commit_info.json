{"hash": "ba5de9fce96e694e513cf0c2801b1f850c4687da", "message": "refactoring", "file_num_lines": 120, "diff_parsed": {"added": [[22, "import java.util.Map;"], [23, "import java.util.Properties;"], [36, "    interface TimeProvider {"], [40, "    interface SystemProvider {"], [41, "        String getProperty(String key);"], [42, ""], [43, "        Map<?, ?> getenv();"], [44, ""], [45, "        Properties getProperties();"], [46, "    }"], [47, ""], [48, "    static TimeProvider timeProvider = new TimeProvider() {"], [54, "    static SystemProvider system = new SystemProvider() {"], [55, "        public String getProperty(String key) {"], [56, "            return System.getProperty(key);"], [57, "        }"], [58, ""], [59, "        public java.util.Map<String, String> getenv() {"], [60, "            return System.getenv();"], [61, "        }"], [62, ""], [63, "        public Properties getProperties() {"], [64, "            return System.getProperties();"], [65, "        }"], [66, "    };"], [67, ""], [90, "        if (text.equals(\"~\")) {"], [91, "            return system.getProperty(\"user.home\");"], [92, "        } else if (text.indexOf(\"~/\") == 0 || text.indexOf(\"file:~/\") == 0 || text.indexOf(\"jar:file:~/\") == 0) {"], [93, "            String safeHome = system.getProperty(\"user.home\").replace(\"\\\\\", \"\\\\\\\\\");"], [94, "            return text.replaceFirst(\"~/\", safeHome + \"/\");"], [95, "        }"], [133, "        return timeProvider.getTime();"], [160, "    static SystemProvider system() {"], [161, "        return system;"], [162, "    }"]], "deleted": [[34, "    interface Time {"], [38, "    static Time time = new Time() {"], [66, "\t    if (text.equals(\"~\")) {"], [67, "\t\t    return System.getProperty(\"user.home\");"], [68, "\t    } else if (text.indexOf(\"~/\") == 0 || text.indexOf(\"file:~/\") == 0 || text.indexOf(\"jar:file:~/\") == 0) {"], [69, "\t\t    String safeHome = System.getProperty(\"user.home\").replace(\"\\\\\", \"\\\\\\\\\");"], [70, "\t\t    return text.replaceFirst(\"~/\", safeHome + \"/\");"], [71, "\t    }"], [109, "        return time.getTime();"]]}, "num_lines_added": 36, "num_lines_removed": 9}