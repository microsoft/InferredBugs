{"hash": "53e99363d027495c67bd560a8ebdd3048b3ee5d5", "message": ":beetle: Allow to manage a very big amount a files (1 098 138 files is working for me)", "file_num_lines": 310, "diff_parsed": {"added": [[31, "import java.util.function.Consumer;"], [33, "import org.atteo.evo.inflector.English;"], [40, "\tprivate static int MAX_DISPLAYED_DIFFERENCES = 200;"], [41, ""], [123, "\t\tfinal String addedStr = String.format(stateFormat, \"Added:\");"], [124, "\t\tdisplayDifferences(addedStr, added,"], [125, "\t\t\tdiff -> System.out.printf(addedStr + \"%s%n\", diff.getFileState().getFileName()));"], [127, "\t\tfinal String copiedStr = String.format(stateFormat, \"Copied:\");"], [128, "\t\tdisplayDifferences(copiedStr, copied,"], [129, "\t\t\tdiff -> System.out.printf(copiedStr + \"%s \\t(was %s)%n\", diff.getFileState().getFileName(), diff.getPreviousFileState().getFileName()));"], [131, "\t\tfinal String duplicatedStr = String.format(stateFormat, \"Duplicated:\");"], [132, "\t\tdisplayDifferences(duplicatedStr, duplicated,"], [133, "\t\t\tdiff -> System.out.printf(duplicatedStr + \"%s = %s%s%n\", diff.getFileState().getFileName(), diff.getPreviousFileState().getFileName(), formatModifiedAttributes(diff, true)));"], [135, "\t\tfinal String dateModifiedStr = String.format(stateFormat, \"Date modified:\");"], [136, "\t\tdisplayDifferences(dateModifiedStr, dateModified,"], [137, "\t\t\tdiff -> System.out.printf(dateModifiedStr + \"%s \\t%s%n\", diff.getFileState().getFileName(), formatModifiedAttributes(diff, false)));"], [139, "\t\tfinal String contentModifiedStr = String.format(stateFormat, \"Content modified:\");"], [140, "\t\tdisplayDifferences(contentModifiedStr, contentModified,"], [141, "\t\t\tdiff -> System.out.printf(contentModifiedStr + \"%s \\t%s%n\", diff.getFileState().getFileName(), formatModifiedAttributes(diff, false)));"], [143, "\t\tfinal String attrsModifiedStr = String.format(stateFormat, \"Attrs. modified:\");"], [144, "\t\tdisplayDifferences(attrsModifiedStr, attributesModified,"], [145, "\t\t\tdiff -> System.out.printf(attrsModifiedStr + \"%s \\t%s%n\", diff.getFileState().getFileName(), formatModifiedAttributes(diff, false)));"], [147, "\t\tfinal String renamedStr = String.format(stateFormat, \"Renamed:\");"], [148, "\t\tdisplayDifferences(renamedStr, renamed,"], [149, "\t\t\tdiff -> System.out.printf(renamedStr + \"%s -> %s%s%n\", diff.getPreviousFileState().getFileName(), diff.getFileState().getFileName(), formatModifiedAttributes(diff, true)));"], [151, "\t\tfinal String deletedStr = String.format(stateFormat, \"Deleted:\");"], [152, "\t\tdisplayDifferences(deletedStr, deleted,"], [153, "\t\t\tdiff -> System.out.printf(deletedStr + \"%s%n\", diff.getFileState().getFileName()));"], [155, "\t\tfinal String corruptedStr = String.format(stateFormat, \"Corrupted?:\");"], [156, "\t\tdisplayDifferences(corruptedStr, corrupted,"], [157, "\t\t\tdiff -> System.out.printf(corruptedStr + \"%s \\t%s%n\", diff.getFileState().getFileName(), formatModifiedAttributes(diff, false)));"], [169, "\tprivate void displayDifferences(String actionStr, List<Difference> differences, Consumer<Difference> displayDifference)"], [170, "\t{"], [171, "\t\tfor (int index = 0; index < differences.size(); index++)"], [172, "\t\t{"], [173, "\t\t\tDifference difference = differences.get(index);"], [174, "\t\t\tif (index >= MAX_DISPLAYED_DIFFERENCES)"], [175, "\t\t\t{"], [176, "\t\t\t\tSystem.out.println(\" [Too many lines. Cutting the output] ...\");"], [177, "\t\t\t\tint moreFiles = differences.size() - index;"], [178, "\t\t\t\tSystem.out.printf(actionStr + \"%d %s more%n\", moreFiles, English.plural(\"file\", moreFiles));"], [179, "\t\t\t\tbreak;"], [180, "\t\t\t}"], [181, ""], [182, "\t\t\tdisplayDifference.accept(difference);"], [183, "\t\t}"], [184, "\t}"], [185, ""], [331, "\t\t\tattributesModified.size() + renamed.size() + deleted.size() + corrupted.size();"]], "deleted": [[119, "\t\tfor (Difference diff : added)"], [120, "\t\t{"], [121, "\t\t\tSystem.out.printf(stateFormat + \"%s%n\", \"Added:\", diff.getFileState().getFileName());"], [122, "\t\t}"], [124, "\t\tfor (Difference diff : copied)"], [125, "\t\t{"], [126, "\t\t\tSystem.out.printf(stateFormat + \"%s \\t(was %s)%n\", \"Copied:\", diff.getFileState().getFileName(), diff.getPreviousFileState().getFileName());"], [127, "\t\t}"], [129, "\t\tfor (Difference diff : duplicated)"], [130, "\t\t{"], [131, "\t\t\tSystem.out.printf(stateFormat + \"%s = %s%s%n\", \"Duplicated:\", diff.getFileState().getFileName(), diff.getPreviousFileState().getFileName(), formatModifiedAttributes(diff, true));"], [132, "\t\t}"], [134, "\t\tfor (Difference diff : dateModified)"], [135, "\t\t{"], [136, "\t\t\tSystem.out.printf(stateFormat + \"%s \\t%s%n\", \"Date modified:\", diff.getFileState().getFileName(), formatModifiedAttributes(diff, false));"], [137, "\t\t}"], [139, "\t\tfor (Difference diff : contentModified)"], [140, "\t\t{"], [141, "\t\t\tSystem.out.printf(stateFormat + \"%s \\t%s%n\", \"Content modified:\", diff.getFileState().getFileName(), formatModifiedAttributes(diff, false));"], [142, "\t\t}"], [144, "\t\tfor (Difference diff : attributesModified)"], [145, "\t\t{"], [146, "\t\t\tSystem.out.printf(stateFormat + \"%s \\t%s%n\", \"Attrs. modified:\", diff.getFileState().getFileName(), formatModifiedAttributes(diff, false));"], [147, "\t\t}"], [149, "\t\tfor (Difference diff : renamed)"], [150, "\t\t{"], [151, "\t\t\tSystem.out.printf(stateFormat + \"%s -> %s%s%n\", \"Renamed:\", diff.getPreviousFileState().getFileName(), diff.getFileState().getFileName(), formatModifiedAttributes(diff, true));"], [152, "\t\t}"], [154, "\t\tfor (Difference diff : deleted)"], [155, "\t\t{"], [156, "\t\t\tSystem.out.printf(stateFormat + \"%s%n\", \"Deleted:\", diff.getFileState().getFileName());"], [157, "\t\t}"], [159, "\t\tfor (Difference diff : corrupted)"], [160, "\t\t{"], [161, "\t\t\tSystem.out.printf(stateFormat + \"%s \\t%s%n\", \"Corrupted?:\", diff.getFileState().getFileName(), formatModifiedAttributes(diff, false));"], [162, "\t\t}"], [319, "\t\t\t\tattributesModified.size() + renamed.size() + deleted.size() + corrupted.size();"]]}, "num_lines_added": 49, "num_lines_removed": 37}