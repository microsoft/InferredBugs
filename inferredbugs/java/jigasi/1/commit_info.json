{"hash": "24cacfdca7571f4e5671d1829880da955d3a57e8", "message": "Refactors code decoupling SipGateway and CallControlComponent.\n\nThis allows us to not instantiate CallControlComponent when we do not need a component.", "file_num_lines": 136, "diff_parsed": {"added": [[156, "     * Notified that current call has ended."], [262, "                String callResource = Util.generateNextCallResource();"]], "deleted": [[81, "     * The {@link CallsControl} that manages call resource/URIs."], [82, "     */"], [83, "    private CallsControl callsControl;"], [84, ""], [85, "    /**"], [92, "     * The name of XMPP server that hosts JVB conference room."], [93, "     */"], [94, "    private String xmppServerName;"], [95, ""], [96, "    /**"], [147, "    /**"], [148, "     * Returns the name of the XMPP server that hosts JVB conference room."], [149, "     */"], [150, "    public String getXmppServerName()"], [151, "    {"], [152, "        return xmppServerName;"], [153, "    }"], [154, ""], [174, "     * Sets the {@link CallsControl} that will be used to allocate new call"], [175, "     * resource/URIs for incoming calls."], [176, "     * @param callsControl the {@link CallsControl} that will be used by this"], [177, "     *                     instance."], [178, "     */"], [179, "    public void setCallsControl(CallsControl callsControl)"], [180, "    {"], [181, "        this.callsControl = callsControl;"], [182, "    }"], [183, ""], [184, "    /**"], [185, "     * Notifies {@link CallsControl} that current call has ended."], [205, ""], [206, "        if (callsControl != null)"], [207, "        {"], [208, "            callsControl.callEnded(this, session.getCallResource());"], [209, "        }"], [210, "    }"], [211, ""], [212, "    /**"], [213, "     * Returns the <tt>CallsControl</tt> that manages this instance."], [214, "     * @return the <tt>CallsControl</tt> that manages this instance."], [215, "     */"], [216, "    public CallsControl getCallsControl()"], [217, "    {"], [218, "        return callsControl;"], [292, "    /**"], [293, "     * Sets the XMPP server name that hosts JVB conference room."], [294, "     *"], [295, "     * @param xmppServer the name of XMPP server to set."], [296, "     */"], [297, "    public void setXmppServerName(String xmppServer)"], [298, "    {"], [299, "        this.xmppServerName = xmppServer;"], [300, "    }"], [301, ""], [315, "                String callResource"], [316, "                    = callsControl.allocateNewSession(SipGateway.this);"]]}, "num_lines_added": 2, "num_lines_removed": 56}