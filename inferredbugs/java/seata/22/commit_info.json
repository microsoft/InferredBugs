{"hash": "84a4429bd14b3a5f9da88deafa80eb52b8962897", "message": "Code Cleaning of Consul&Etcd implementations. (#1357)", "file_num_lines": 229, "diff_parsed": {"added": [[71, "    private ExecutorService etcdConfigExecutor;"], [72, "    private ExecutorService etcdNotifierExecutor;"], [73, "    private ConcurrentMap<String, List<ConfigChangeListener>> configListenersMap;"], [74, "    private ConcurrentHashMap<String, List<ConfigChangeNotifier>> configChangeNotifiersMap;"], [79, "        etcdConfigExecutor = new ThreadPoolExecutor(THREAD_POOL_NUM, THREAD_POOL_NUM,"], [80, "            Integer.MAX_VALUE, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<>(), new NamedThreadFactory(\"etcd-config-executor\", THREAD_POOL_NUM));"], [81, "        etcdNotifierExecutor = new ThreadPoolExecutor(THREAD_POOL_NUM, THREAD_POOL_NUM,"], [82, "            Integer.MAX_VALUE, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<>(), new NamedThreadFactory(\"etcd-config-notifier-executor\", THREAD_POOL_NUM));"], [83, "        configListenersMap = new ConcurrentHashMap<>(MAP_INITIAL_CAPACITY);"], [84, "        configChangeNotifiersMap = new ConcurrentHashMap<>(MAP_INITIAL_CAPACITY);"], [112, "        etcdConfigExecutor.execute(() -> complete(getClient().getKVClient().get(ByteSequence.from(dataId, UTF_8)), configFuture));"], [119, "        etcdConfigExecutor.execute(() -> complete(getClient().getKVClient().put(ByteSequence.from(dataId, UTF_8), ByteSequence.from(content, UTF_8)), configFuture));"], [249, "    private class ConfigChangeNotifier implements Runnable {"], [310, "        private void stop() {"]], "deleted": [[71, "    private static ExecutorService etcdConfigExecutor = null;"], [72, "    private static ExecutorService etcdNotifierExecutor = null;"], [73, "    private static ConcurrentMap<String, List<ConfigChangeListener>> configListenersMap = null;"], [74, "    private static ConcurrentHashMap<String, List<ConfigChangeNotifier>> configChangeNotifiersMap = null;"], [90, "                    etcdConfigExecutor = new ThreadPoolExecutor(THREAD_POOL_NUM, THREAD_POOL_NUM,"], [91, "                        Integer.MAX_VALUE, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<>(), new NamedThreadFactory(\"etcd-config-executor\", THREAD_POOL_NUM));"], [92, "                    etcdNotifierExecutor = new ThreadPoolExecutor(THREAD_POOL_NUM, THREAD_POOL_NUM,"], [93, "                        Integer.MAX_VALUE, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<>(), new NamedThreadFactory(\"etcd-config-notifier-executor\", THREAD_POOL_NUM));"], [94, "                    configListenersMap = new ConcurrentHashMap<>(MAP_INITIAL_CAPACITY);"], [95, "                    configChangeNotifiersMap = new ConcurrentHashMap<>(MAP_INITIAL_CAPACITY);"], [112, "        etcdConfigExecutor.execute(() -> {"], [113, "            complete(getClient().getKVClient().get(ByteSequence.from(dataId, UTF_8)), configFuture);"], [114, "        });"], [121, "        etcdConfigExecutor.execute(() -> {"], [122, "            complete(getClient().getKVClient().put(ByteSequence.from(dataId, UTF_8), ByteSequence.from(content, UTF_8)), configFuture);"], [123, "        });"], [253, "    private static class ConfigChangeNotifier implements Runnable {"], [314, "        public void stop() {"]]}, "num_lines_added": 14, "num_lines_removed": 18}