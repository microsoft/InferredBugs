{"hash": "56f87ddaa4ba29347d61467729ad3d7c644ece0b", "message": "Provide an infrastructure to send data", "file_num_lines": 50, "diff_parsed": {"added": [[13, "import static java.time.Duration.ofSeconds;"], [14, "import static org.eclipse.kapua.kura.simulator.app.data.Generators.simpleDataApplication;"], [15, "import static org.eclipse.kapua.kura.simulator.app.data.Generators.sine;"], [16, ""], [17, "import java.time.Duration;"], [27, "import org.eclipse.kapua.kura.simulator.app.data.GeneratorScheduler;"], [50, "        try (final GeneratorScheduler scheduler = new GeneratorScheduler(Duration.ofSeconds(1))) {"], [51, ""], [52, "            final Set<Application> apps = new HashSet<>();"], [53, "            apps.add(new SimpleCommandApplication(s -> String.format(\"Command '%s' not found\", s)));"], [54, "            apps.add(AnnotatedApplication.build(new SimpleDeployApplication(downloadExecutor)));"], [55, "            apps.add(simpleDataApplication(\"data-1\", scheduler, \"sine\", sine(100, 0, ofSeconds(120))));"], [56, ""], [57, "            try (final MqttAsyncTransport transport = new MqttAsyncTransport(configuration);"], [58, "                    final Simulator simulator = new Simulator(configuration, transport, apps);) {"], [59, "                Thread.sleep(Long.MAX_VALUE);"], [60, "                logger.info(\"Bye bye...\");"], [61, "            } finally {"], [62, "                downloadExecutor.shutdown();"], [63, "            }"]], "deleted": [[44, "        final Set<Application> apps = new HashSet<>();"], [45, "        apps.add(new SimpleCommandApplication(s -> String.format(\"Command '%s' not found\", s)));"], [46, "        apps.add(AnnotatedApplication.build(new SimpleDeployApplication(downloadExecutor)));"], [48, "        try (final MqttAsyncTransport transport = new MqttAsyncTransport(configuration);"], [49, "                final Simulator simulator = new Simulator(configuration, transport, apps);) {"], [50, "            Thread.sleep(Long.MAX_VALUE);"], [51, "            logger.info(\"Bye bye...\");"], [52, "        } finally {"], [53, "            downloadExecutor.shutdown();"]]}, "num_lines_added": 20, "num_lines_removed": 9}