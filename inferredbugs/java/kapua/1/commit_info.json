{"hash": "8e84a0c3f74eb64e0617eb3df088a1f7c9220ea7", "message": "SSO Login with configurable values\n\nSigned-off-by: Claudio Mezzasalma <claudio.mezzasalma@eurotech.com>", "file_num_lines": 42, "diff_parsed": {"added": [[30, "import org.eclipse.kapua.app.console.setting.ConsoleSetting;"], [31, "import org.eclipse.kapua.app.console.setting.ConsoleSettingKeys;"], [32, ""], [39, "        ConsoleSetting settings = ConsoleSetting.getInstance();"], [40, ""], [43, "        String uri = settings.getString(ConsoleSettingKeys.SSO_OPENID_SERVER_ENDPOINT_TOKEN);"], [49, "        String urlParameters = \"grant_type=authorization_code&code=\" + authCode + \"&client_id=\" + settings.getString(ConsoleSettingKeys.SSO_OPENID_CLIENT_ID) + \"&redirect_uri=\" + settings.getString(ConsoleSettingKeys.SSO_OPENID_REDIRECT_URI);"], [69, "        String baseUri = settings.getString(ConsoleSettingKeys.SITE_HOME_URI);"], [70, "        String separator = baseUri.contains(\"?\") ? \"&\" : \"?\";"], [71, "        resp.sendRedirect(baseUri + separator + \"access_token=\" + accessToken);"]], "deleted": [[20, "import java.net.URI;"], [26, "import javax.json.JsonValue;"], [35, "    private static final String callbackUrl = \"http://localhost:8889/sso/callback\";"], [39, ""], [42, "        String uri = \"http://localhost:9090/auth/realms/master/protocol/openid-connect/token\";"], [48, "        String urlParameters = \"grant_type=authorization_code&code=\" + authCode + \"&client_id=console&redirect_uri=\" + callbackUrl;"], [57, "        int responseCode = urlConnection.getResponseCode();"], [58, ""], [70, ""], [71, "        resp.sendRedirect(\"http://localhost:8889/console.jsp?gwt.codesvr=127.0.0.1:9997&access_token=\" + accessToken);"]]}, "num_lines_added": 10, "num_lines_removed": 10}