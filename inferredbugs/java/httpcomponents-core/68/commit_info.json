{"hash": "fe03c65b0ebb6017172823e7ff73565a28f4df55", "message": "HTTPCORE-261: refactored handling of I/O session timeout\n\ngit-svn-id: https://svn.apache.org/repos/asf/httpcomponents/httpcore/trunk@1140060 13f79535-47bb-0310-9956-ffa450edef68", "file_num_lines": 339, "diff_parsed": {"added": [[197, "        return (IOSession) key.attachment();"], [330, "        IOSessionImpl session = (IOSessionImpl) key.attachment();"], [339, "                session.resetLastRead();"], [343, "                session.resetLastWrite();"], [424, "                key.attach(session);"], [487, "        IOSessionImpl session = (IOSessionImpl) key.attachment();"], [488, "        int timeout = session.getSocketTimeout();"], [489, "        if (timeout > 0) {"], [490, "            if (session.getLastAccessTime() + timeout < now) {"], [491, "                sessionTimedOut(session);"]], "deleted": [[197, "        Object attachment = key.attachment();"], [198, "        if (attachment instanceof SessionHandle) {"], [199, "            SessionHandle handle = (SessionHandle) attachment;"], [200, "            return handle.getSession();"], [201, "        } else {"], [202, "            return null;"], [203, "        }"], [336, "        SessionHandle handle = (SessionHandle) key.attachment();"], [337, "        IOSession session = handle.getSession();"], [346, "                handle.resetLastRead();"], [350, "                handle.resetLastWrite();"], [431, "                SessionHandle handle = new SessionHandle(session);"], [432, "                key.attach(handle);"], [495, "        Object attachment = key.attachment();"], [496, "        if (attachment instanceof SessionHandle) {"], [497, "            SessionHandle handle = (SessionHandle) key.attachment();"], [498, "            IOSession session = handle.getSession();"], [499, "            int timeout = session.getSocketTimeout();"], [500, "            if (timeout > 0) {"], [501, "                if (handle.getLastAccessTime() + timeout < now) {"], [502, "                    sessionTimedOut(session);"], [503, "                }"], [508, ""]]}, "num_lines_added": 10, "num_lines_removed": 23}