{"hash": "a3e1642c85e40e6758778563433e8496886895c2", "message": "Configuration API changes: basic non-blocking connection pool implementation is no longer dependent on HttpParams\n\ngit-svn-id: https://svn.apache.org/repos/asf/httpcomponents/httpcore/trunk@1393752 13f79535-47bb-0310-9956-ffa450edef68", "file_num_lines": 85, "diff_parsed": {"added": [[63, "    private final int connectTimeout;"], [64, "    private final TimeUnit tunit;"], [66, "    /**"], [67, "     * @deprecated (4.3) use {@link BasicNIOConnPool#BasicNIOConnPool(ConnectingIOReactor,"], [68, "     *   NIOConnFactory, int, TimeUnit)}"], [69, "     */"], [70, "    @Deprecated"], [77, "        this.connectTimeout = Config.getInt(params, CoreConnectionPNames.CONNECTION_TIMEOUT, 0);"], [78, "        this.tunit = TimeUnit.MILLISECONDS;"], [81, "    /**"], [82, "     * @deprecated (4.3) use {@link BasicNIOConnPool#BasicNIOConnPool(ConnectingIOReactor,"], [83, "     *   int, TimeUnit)}"], [84, "     */"], [85, "    @Deprecated"], [91, "    /**"], [92, "     * @since 4.3"], [93, "     */"], [94, "    public BasicNIOConnPool("], [95, "            final ConnectingIOReactor ioreactor,"], [96, "            final NIOConnFactory<HttpHost, NHttpClientConnection> connFactory,"], [97, "            int connectTimeout,"], [98, "            final TimeUnit tunit) {"], [99, "        super(ioreactor, connFactory, 2, 20);"], [100, "        this.connectTimeout = connectTimeout;"], [101, "        this.tunit = tunit != null ? tunit : TimeUnit.MILLISECONDS;"], [102, "    }"], [103, ""], [104, "    /**"], [105, "     * @since 4.3"], [106, "     */"], [107, "    public BasicNIOConnPool("], [108, "            final ConnectingIOReactor ioreactor,"], [109, "            final NIOConnFactory<HttpHost, NHttpClientConnection> connFactory) {"], [110, "        this(ioreactor, connFactory, 0, TimeUnit.MILLISECONDS);"], [111, "    }"], [112, ""], [113, "    /**"], [114, "     * @since 4.3"], [115, "     */"], [116, "    public BasicNIOConnPool("], [117, "            final ConnectingIOReactor ioreactor, int connectTimeout, final TimeUnit tunit) {"], [118, "        this(ioreactor, new BasicNIOConnFactory(), connectTimeout, tunit);"], [119, "    }"], [120, ""], [121, "    /**"], [122, "     * @since 4.3"], [123, "     */"], [124, "    public BasicNIOConnPool(final ConnectingIOReactor ioreactor) {"], [125, "        this(ioreactor, new BasicNIOConnFactory(), 0, TimeUnit.MILLISECONDS);"], [126, "    }"], [127, ""], [148, "        return super.lease(route, state, this.connectTimeout, this.tunit, callback);"], [155, "        return super.lease(route, state, this.connectTimeout, this.tunit, null);"]], "deleted": [[54, " * <p>"], [55, " * The following parameters can be used to customize the behavior of this"], [56, " * class:"], [57, " * <ul>"], [58, " *  <li>{@link org.apache.http.params.CoreProtocolPNames#HTTP_ELEMENT_CHARSET}</li>"], [59, " *  <li>{@link org.apache.http.params.CoreConnectionPNames#SO_TIMEOUT}</li>"], [60, " *  <li>{@link org.apache.http.params.CoreConnectionPNames#CONNECTION_TIMEOUT}</li>"], [61, " *  <li>{@link org.apache.http.params.CoreConnectionPNames#SOCKET_BUFFER_SIZE}</li>"], [62, " *  <li>{@link org.apache.http.params.CoreConnectionPNames#MAX_HEADER_COUNT}</li>"], [63, " *  <li>{@link org.apache.http.params.CoreConnectionPNames#MAX_LINE_LENGTH}</li>"], [64, " * </ul>"], [74, "    private final HttpParams params;"], [82, "        this.params = params;"], [110, "        int connectTimeout = Config.getInt(params, CoreConnectionPNames.CONNECTION_TIMEOUT, 0);"], [111, "        return super.lease(route, state, connectTimeout, TimeUnit.MILLISECONDS, callback);"], [118, "        int connectTimeout = Config.getInt(params, CoreConnectionPNames.CONNECTION_TIMEOUT, 0);"], [119, "        return super.lease(route, state, connectTimeout, TimeUnit.MILLISECONDS, null);"]]}, "num_lines_added": 53, "num_lines_removed": 17}