{"hash": "df759e41069841b141376b47cb73a3ab299b238f", "message": "Fix issue of high CPU usage while running Receiver for large topic partitions", "file_num_lines": 274, "diff_parsed": {"added": [[149, ""], [150, "\t\tif (_waitingToEmit.isEmpty()) {"], [152, "\t\t\tfill();"], [213, "\t\t\t\t\t\tif(!_dataBuffer.isEmpty())"], [214, "\t\t\t\t\t\t\t_receiver.store(_dataBuffer.iterator());"], [215, ""], [225, "\t\t\t\t}"]], "deleted": [[148, "\t\tif (_waitingToEmit.isEmpty()) {"], [150, "\t\t\tif (_lastFillTime == null"], [151, "\t\t\t\t\t|| (System.currentTimeMillis() - _lastFillTime) > _kafkaconfig._fillFreqMs) {"], [152, "\t\t\t\tLOG.info(\"_waitingToEmit is empty for topic \" + _topic"], [153, "\t\t\t\t\t\t+ \" for partition \" + _partition.partition"], [154, "\t\t\t\t\t\t+ \".. Filling it every \"+ _kafkaconfig._fillFreqMs +\" miliseconds\");"], [155, "\t\t\t\tfill();"], [156, "\t\t\t\t_lastFillTime = System.currentTimeMillis();"], [157, "\t\t\t}"], [160, ""], [216, "\t\t\tif(_dataBuffer.size() > 0){"], [221, "\t\t\t\t\t\t_receiver.store(_dataBuffer.iterator());"], [231, "\t\t\t\t}"], [232, "\t\t\t}"], [233, ""]]}, "num_lines_added": 7, "num_lines_removed": 15}