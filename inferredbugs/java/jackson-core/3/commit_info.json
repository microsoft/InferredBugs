{"hash": "681949253a3713480abf2af3de8355413f006d11", "message": "Start deprecated 'createJsonXxx' methods in JsonFactory, in favor of 'createXxx'", "file_num_lines": 463, "diff_parsed": {"added": [[618, "    @SuppressWarnings(\"resource\")"], [622, "        // true, since we create InputStream from File"], [623, "        IOContext ctxt = _createContext(f, true);"], [624, "        InputStream in = new FileInputStream(f);"], [625, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [626, "        if (_inputDecorator != null) {"], [627, "            in = _inputDecorator.decorate(ctxt, in);"], [628, "        }"], [629, "        return _createParser(in, ctxt);"], [650, "        // true, since we create InputStream from URL"], [651, "        IOContext ctxt = _createContext(url, true);"], [652, "        InputStream in = _optimizedStreamFromURL(url);"], [653, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [654, "        if (_inputDecorator != null) {"], [655, "            in = _inputDecorator.decorate(ctxt, in);"], [656, "        }"], [657, "        return _createParser(in, ctxt);"], [680, "        IOContext ctxt = _createContext(in, false);"], [681, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [682, "        if (_inputDecorator != null) {"], [683, "            in = _inputDecorator.decorate(ctxt, in);"], [684, "        }"], [685, "        return _createParser(in, ctxt);"], [705, "        // false -> we do NOT own Reader (did not create it)"], [706, "        IOContext ctxt = _createContext(r, false);"], [707, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [708, "        if (_inputDecorator != null) {"], [709, "            r = _inputDecorator.decorate(ctxt, r);"], [710, "        }"], [711, "        return _createParser(r, ctxt);"], [723, "        IOContext ctxt = _createContext(data, true);"], [724, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [725, "        if (_inputDecorator != null) {"], [726, "            InputStream in = _inputDecorator.decorate(ctxt, data, 0, data.length);"], [727, "            if (in != null) {"], [728, "                return _createParser(in, ctxt);"], [729, "            }"], [730, "        }"], [731, "        return _createParser(data, 0, data.length, ctxt);"], [747, "        IOContext ctxt = _createContext(data, true);"], [748, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [749, "        if (_inputDecorator != null) {"], [750, "            InputStream in = _inputDecorator.decorate(ctxt, data, offset, len);"], [751, "            if (in != null) {"], [752, "                return _createParser(in, ctxt);"], [753, "            }"], [754, "        }"], [755, "        return _createParser(data, offset, len, ctxt);"], [767, "        Reader r = new StringReader(content);"], [768, "        // true -> we own the Reader (and must close); not a big deal"], [769, "        IOContext ctxt = _createContext(r, true);"], [770, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [771, "        if (_inputDecorator != null) {"], [772, "            r = _inputDecorator.decorate(ctxt, r);"], [773, "        }"], [774, "        return _createParser(r, ctxt);"], [797, "     *"], [798, "     * @deprecated Since 2.2, use {@link #createParser(File)} instead."], [800, "    @Deprecated"], [804, "        return createParser(f);"], [822, "     *"], [823, "     * @deprecated Since 2.2, use {@link #createParser(URL)} instead."], [825, "    @Deprecated"], [829, "        return createParser(url);"], [849, "     *"], [850, "     * @deprecated Since 2.2, use {@link #createParser(InputStream)} instead."], [852, "    @Deprecated"], [856, "        return createParser(in);"], [873, "     *"], [874, "     * @deprecated Since 2.2, use {@link #createParser(Reader)} instead."], [876, "    @Deprecated"], [880, "        return createParser(r);"], [889, "     *"], [890, "     * @deprecated Since 2.2, use {@link #createParser(byte[])} instead."], [892, "    @Deprecated"], [896, "        return createParser(data);"], [909, "     *"], [910, "     * @deprecated Since 2.2, use {@link #createParser(byte[],int,int)} instead."], [912, "    @Deprecated"], [916, "        return createParser(data, offset, len);"], [922, "     *"], [923, "     * @deprecated Since 2.2, use {@link #createParser(String)} instead."], [925, "    @Deprecated"], [929, "        return createParser(content);"], [1107, "        return _createGenerator(out, ctxt);"], [1143, "        OutputStream out = new FileOutputStream(f);"], [1144, "        // true -> yes, we have to manage the stream since we created it"], [1159, "        return _createGenerator(w, ctxt);"], [1184, "        // As per [JACKSON-259], may want to fully disable canonicalization:"], [1185, "        return new ByteSourceJsonBootstrapper(ctxt, in).constructParser(_parserFeatures,"], [1186, "                _objectCodec, _rootByteSymbols, _rootCharSymbols,"], [1187, "                isEnabled(JsonFactory.Feature.CANONICALIZE_FIELD_NAMES),"], [1188, "                isEnabled(JsonFactory.Feature.INTERN_FIELD_NAMES));"], [1196, "        return _createParser(in, ctxt);"], [1214, "        return new ReaderBasedJsonParser(ctxt, _parserFeatures, r, _objectCodec,"], [1215, "                _rootCharSymbols.makeChild(isEnabled(JsonFactory.Feature.CANONICALIZE_FIELD_NAMES),"], [1216, "                        isEnabled(JsonFactory.Feature.INTERN_FIELD_NAMES)));"], [1224, "        return _createParser(r, ctxt);"], [1241, "        return new ByteSourceJsonBootstrapper(ctxt, data, offset, len).constructParser(_parserFeatures,"], [1242, "                _objectCodec, _rootByteSymbols, _rootCharSymbols,"], [1243, "                isEnabled(JsonFactory.Feature.CANONICALIZE_FIELD_NAMES),"], [1244, "                isEnabled(JsonFactory.Feature.INTERN_FIELD_NAMES));"], [1252, "        return _createParser(data, offset, len, ctxt);"], [1288, "     * @deprecated since 2.1 -- use {@link #_createGenerator(Writer, IOContext)} instead"], [1289, "     */"], [1290, "    @Deprecated"], [1291, "    protected JsonGenerator _createJsonGenerator(Writer out, IOContext ctxt)"], [1292, "        throws IOException"], [1293, "    {"], [1294, "        /* NOTE: MUST call the deprecated method until it is deleted, just so"], [1295, "         * that override still works as expected, for now."], [1296, "         */"], [1297, "        return _createGenerator(out, ctxt);"], [1298, "    }"], [1299, ""], [1300, "    /**"], [1323, "    /**"], [1324, "     * @deprecated since 2.1"], [1325, "     */"], [1326, "    @Deprecated"], [1327, "    protected JsonGenerator _createUTF8JsonGenerator(OutputStream out, IOContext ctxt)"], [1328, "        throws IOException"], [1329, "    {"], [1330, "        return _createUTF8Generator(out, ctxt);"], [1331, "    }"], [1332, ""]], "deleted": [[621, "        // Must delegate to old version, until 2.2"], [622, "        // TODO: change direction in 2.2; after ensuring impls support new method"], [623, "        return createJsonParser(f);"], [644, "        // Must delegate to old version, until 2.2"], [645, "        // TODO: change direction in 2.2; after ensuring impls support new method"], [646, "        return createJsonParser(url);"], [669, "        // Must delegate to old version, until 2.2"], [670, "        // TODO: change direction in 2.2; after ensuring impls support new method"], [671, "        return createJsonParser(in);"], [691, "        // Must delegate to old version, until 2.2"], [692, "        // TODO: change direction in 2.2; after ensuring impls support new method"], [693, "        return createJsonParser(r);"], [705, "        // Must delegate to old version, until 2.2"], [706, "        // TODO: change direction in 2.2; after ensuring impls support new method"], [707, "        return createJsonParser(data);"], [723, "        // Must delegate to old version, until 2.2"], [724, "        // TODO: change direction in 2.2; after ensuring impls support new method"], [725, "        return createJsonParser(data, offset, len);"], [737, "        // Must delegate to old version, until 2.2"], [738, "        // TODO: change direction in 2.2; after ensuring impls support new method"], [739, "        return createJsonParser(content);"], [766, "        // true, since we create InputStream from File"], [767, "        IOContext ctxt = _createContext(f, true);"], [768, "        InputStream in = new FileInputStream(f);"], [769, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [770, "        if (_inputDecorator != null) {"], [771, "            in = _inputDecorator.decorate(ctxt, in);"], [772, "        }"], [773, "        return _createParser(in, ctxt);"], [795, "        // true, since we create InputStream from URL"], [796, "        IOContext ctxt = _createContext(url, true);"], [797, "        InputStream in = _optimizedStreamFromURL(url);"], [798, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [799, "        if (_inputDecorator != null) {"], [800, "            in = _inputDecorator.decorate(ctxt, in);"], [801, "        }"], [802, "        return _createParser(in, ctxt);"], [826, "        IOContext ctxt = _createContext(in, false);"], [827, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [828, "        if (_inputDecorator != null) {"], [829, "            in = _inputDecorator.decorate(ctxt, in);"], [830, "        }"], [831, "        return _createParser(in, ctxt);"], [852, "        // false -> we do NOT own Reader (did not create it)"], [853, "        IOContext ctxt = _createContext(r, false);"], [854, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [855, "        if (_inputDecorator != null) {"], [856, "            r = _inputDecorator.decorate(ctxt, r);"], [857, "        }"], [858, "        return _createParser(r, ctxt);"], [871, "        IOContext ctxt = _createContext(data, true);"], [872, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [873, "        if (_inputDecorator != null) {"], [874, "            InputStream in = _inputDecorator.decorate(ctxt, data, 0, data.length);"], [875, "            if (in != null) {"], [876, "                return _createParser(in, ctxt);"], [877, "            }"], [878, "        }"], [879, "        return _createParser(data, 0, data.length, ctxt);"], [896, "        IOContext ctxt = _createContext(data, true);"], [897, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [898, "        if (_inputDecorator != null) {"], [899, "            InputStream in = _inputDecorator.decorate(ctxt, data, offset, len);"], [900, "            if (in != null) {"], [901, "                return _createParser(in, ctxt);"], [902, "            }"], [903, "        }"], [904, "\treturn _createParser(data, offset, len, ctxt);"], [910, "     *<p>"], [911, "     * NOTE: as of 2.1, should not be used (will be deprecated in 2.2);"], [912, "     * instead, should call <code>createParser</code>."], [917, "        Reader r = new StringReader(content);"], [918, "        // true -> we own the Reader (and must close); not a big deal"], [919, "        IOContext ctxt = _createContext(r, true);"], [920, "        // [JACKSON-512]: allow wrapping with InputDecorator"], [921, "        if (_inputDecorator != null) {"], [922, "            r = _inputDecorator.decorate(ctxt, r);"], [923, "        }"], [924, "        return _createParser(r, ctxt);"], [1102, "\treturn _createGenerator(out, ctxt);"], [1138, "\tOutputStream out = new FileOutputStream(f);"], [1139, "\t// true -> yes, we have to manage the stream since we created it"], [1154, "\treturn _createGenerator(w, ctxt);"], [1179, "        /* NOTE: MUST call the deprecated method until it is deleted, just so"], [1180, "         * that override still works as expected, for now."], [1181, "         */"], [1182, "        return _createJsonParser(in, ctxt);"], [1190, "        // As per [JACKSON-259], may want to fully disable canonicalization:"], [1191, "        return new ByteSourceJsonBootstrapper(ctxt, in).constructParser(_parserFeatures,"], [1192, "                _objectCodec, _rootByteSymbols, _rootCharSymbols,"], [1193, "                isEnabled(JsonFactory.Feature.CANONICALIZE_FIELD_NAMES),"], [1194, "                isEnabled(JsonFactory.Feature.INTERN_FIELD_NAMES));"], [1212, "        /* NOTE: MUST call the deprecated method until it is deleted, just so"], [1213, "         * that override still works as expected, for now."], [1214, "         */"], [1215, "        return _createJsonParser(r, ctxt);"], [1223, "        return new ReaderBasedJsonParser(ctxt, _parserFeatures, r, _objectCodec,"], [1224, "                _rootCharSymbols.makeChild(isEnabled(JsonFactory.Feature.CANONICALIZE_FIELD_NAMES),"], [1225, "                    isEnabled(JsonFactory.Feature.INTERN_FIELD_NAMES)));"], [1242, "        /* NOTE: MUST call the deprecated method until it is deleted, just so"], [1243, "         * that override still works as expected, for now."], [1244, "         */"], [1245, "        return _createJsonParser(data, offset, len, ctxt);"], [1253, "        return new ByteSourceJsonBootstrapper(ctxt, data, offset, len).constructParser(_parserFeatures,"], [1254, "                _objectCodec, _rootByteSymbols, _rootCharSymbols,"], [1255, "                isEnabled(JsonFactory.Feature.CANONICALIZE_FIELD_NAMES),"], [1256, "                isEnabled(JsonFactory.Feature.INTERN_FIELD_NAMES));"], [1279, "        /* NOTE: MUST call the deprecated method until it is deleted, just so"], [1280, "         * that override still works as expected, for now."], [1281, "         */"], [1282, "        return _createJsonGenerator(out, ctxt);"], [1283, "    }"], [1284, ""], [1285, "    /**"], [1286, "     * @deprecated since 2.1 -- use {@link #_createGenerator(Writer, IOContext)} instead"], [1287, "     */"], [1288, "    @Deprecated"], [1289, "    protected JsonGenerator _createJsonGenerator(Writer out, IOContext ctxt)"], [1290, "        throws IOException"], [1291, "    {"], [1315, "        return _createUTF8JsonGenerator(out, ctxt);"], [1316, "    }"], [1317, ""], [1318, "    /**"], [1319, "     * @deprecated since 2.1"], [1320, "     */"], [1321, "    @Deprecated"], [1322, "    protected JsonGenerator _createUTF8JsonGenerator(OutputStream out, IOContext ctxt)"], [1323, "        throws IOException"], [1324, "    {"]]}, "num_lines_added": 126, "num_lines_removed": 130}