{"hash": "5a3682b4b6c96dc1f0a7a5fd86a0ff2a62fddbd2", "message": "Support per-branch notification configurations\n\nThis change adds the support for multiple per-branch configurations for\na project or a specific build task. For example, users can setup a\nconfig to notify on the staging branch, and another config to notify on\nthe master (default) branch to a different channel on Slack.\n\nAlso, it fixes a potential bug that when the default branch is not\nmaster, branch matching could be incorrect, by falling back to the magic\nvalue `<default>` from TeamCity, when filterBranchName or\nbranchDisplayName does not exist.", "file_num_lines": 46, "diff_parsed": {"added": [[16, "            if (notification.isEnabled() && ("], [17, "                    notification.getFilterBranchName().equalsIgnoreCase(notification.getBranchDisplayName()) ||"], [18, "                    notification.getFilterBranchName().equalsIgnoreCase(\"<default>\") && notification.getPayload() != null && notification.getPayload().getBranchIsDefault()"], [19, "            )) {"], [38, "                    Loggers.ACTIVITIES.warn(\"SlackNotificationListener :: \" + notification.getParam(\"projectId\") + \" SlackNotification (url: \" + notification.getChannel() + \" proxy: \" + notification.getProxyHost() + \":\" + notification.getProxyPort()+\") returned HTTP status \" + notification.getStatus());"], [41, "                Loggers.SERVER.info(\"SlackNotification NOT triggered: \""], [42, "                        + notification.getParam(\"buildStatus\") + \" \" + notification.getChannel() + \" isEnabled: \" + notification.isEnabled() + \" filterBranchName: \" + notification.getFilterBranchName() + \" branchDisplayName: \" + notification.getBranchDisplayName());"]], "deleted": [[16, "            if (notification.isEnabled()){"], [35, "                    Loggers.ACTIVITIES.warn(\"SlackNotificationListener :: \" + notification.getParam(\"projectId\") + \" SlackNotification (url: \" + notification.getChannel() + \" proxy: \" + notification.getProxyHost() + \":\" + notification.getProxyPort()+\") returned HTTP status \" + notification.getStatus().toString());"], [38, "                Loggers.SERVER.debug(\"SlackNotification NOT triggered: \""], [39, "                        + notification.getParam(\"buildStatus\") + \" \" + notification.getChannel());"]]}, "num_lines_added": 7, "num_lines_removed": 4}