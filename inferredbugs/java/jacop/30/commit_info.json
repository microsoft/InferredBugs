{"hash": "3b0be6920ce3bace0ba8ca411702a622a473e51a", "message": "Performance improvements.", "file_num_lines": 248, "diff_parsed": {"added": [[147, "\t\tif (validTuple(j)) {"], [160, "\t\t}"], [227, ""], [286, "\tfor (int i = 0; i < x.length; i++) {"], [287, "\t    IntVar xi = x[i];"], [289, "\t    // check only for not assign variables and variables that become single value at this store level"], [290, "\t    if (!xi.singleton() || (xi.singleton() && xi.dom().stamp() == store.level)) {"], [291, ""], [292, "\t\tMap<Integer,long[]> xSupport = supports[i];"], [293, "\t\tValueEnumeration e = xi.dom().valueEnumeration();"], [294, "\t\twhile (e.hasMoreElements()) {"], [295, "\t\t    int el = e.nextElement();"], [296, ""], [297, "\t\t    long[] bs = xSupport.get(el);"], [298, "\t\t    if (bs != null) {"], [299, "\t\t\tint index = residues[i].get(el);"], [301, "\t\t\tif ((rbs.words[index].value() & xSupport.get(el)[index]) == 0L) {"], [302, ""], [303, "\t\t\t    index = rbs.intersectIndex(bs);"], [304, "\t\t\t    if (index == -1)"], [305, "\t\t\t\txi.domain.inComplement(store.level, xi, el);"], [306, "\t\t\t    else"], [307, "\t\t\t\tresidues[i].put(el, index);"], [308, "\t\t\t}"], [309, "\t\t    } else"], [310, "\t\t\txi.domain.inComplement(store.level, xi, el);"], [311, "\t\t}"]], "deleted": [[147, "\t\tif (validTuple(j))"], [226, ""], [269, "\t\trp = cd;"], [285, "\tfor (int i = 0; i < x.length; i++) {"], [286, "\t    int xIndex = varMap.get(x[i]);"], [287, ""], [288, "\t    Map<Integer,long[]> xSupport = supports[xIndex];"], [289, "\t    ValueEnumeration e = x[i].dom().valueEnumeration();"], [290, "\t    while (e.hasMoreElements()) {"], [291, "\t\tint el = e.nextElement();"], [293, "\t\tInteger indexInteger = residues[i].get(el);"], [294, "\t\tif (indexInteger == null) {"], [295, "\t\t    x[i].domain.inComplement(store.level, x[i], el);"], [296, "\t\t    continue;"], [297, "\t\t}"], [298, "\t\tint index = indexInteger.intValue();"], [300, "\t\tlong[] bs = xSupport.get(el);"], [301, "\t\tif (bs != null) {"], [302, "\t\t    if ((rbs.words[index].value() & xSupport.get(el)[index]) == 0L) {"], [304, "\t\t\tindex = rbs.intersectIndex(bs);"], [305, "\t\t\tif (index == -1)"], [306, "\t\t\t    x[i].domain.inComplement(store.level, x[i], el);"], [307, "\t\t\telse"], [308, "\t\t\t    residues[i].put(el, index);"], [309, "\t\t    }"], [310, "\t\t} else"], [311, "\t\t    x[i].domain.inComplement(store.level, x[i], el);"]]}, "num_lines_added": 27, "num_lines_removed": 27}