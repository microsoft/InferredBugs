{"hash": "d1d0518d2faf82b572134dbdb168207f69db6dbf", "message": "Don't accept null as WriterConfig parameter, improve tests\n\nCalling JsonValue.toString() and JsonValue.writeTo() with a null config\nshould not be supported since\n\n- WriterConfig.MINIMAL exists and has the same effect\n- the config parameter is optional in both methods\n\nReplace the use of null with WriterConfig.MINIMAL and improve tests for\nNPEs including checks for exception messages.\n\nAllow calling TestUtil.assertException with methods that throw checked\nexceptions by introducing an interface RunnableEx that is similar to\nRunnable but supports Exceptions thrown by the run method.", "file_num_lines": 138, "diff_parsed": {"added": [[401, "    writeTo( writer, WriterConfig.MINIMAL );"], [418, "    if( writer == null ) {"], [419, "      throw new NullPointerException( \"writer is null\" );"], [420, "    }"], [421, "    if( config == null ) {"], [422, "      throw new NullPointerException( \"config is null\" );"], [423, "    }"], [425, "    write( config.createWriter( buffer ) );"], [438, "    return toString( WriterConfig.MINIMAL );"]], "deleted": [[401, "    writeTo( writer, null );"], [419, "    write( config == null ? new JsonWriter( buffer ) : config.createWriter( buffer ) );"], [432, "    return toString( null );"]]}, "num_lines_added": 9, "num_lines_removed": 3}