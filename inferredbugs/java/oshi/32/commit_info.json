{"hash": "6cd38573cf8f6ba6f978e71aa63f6e7b49403c1d", "message": "Add read/write count and active disk time to HWDiskStores (#234)", "file_num_lines": 64, "diff_parsed": {"added": [[45, "    private static Map<String, Long> readByteMap = new HashMap<>();"], [47, "    private static Map<String, Long> writeByteMap = new HashMap<>();"], [48, "    private static Map<String, Long> xferTimeMap = new HashMap<>();"], [53, "    private static final ValueType[] READ_WRITE_TYPES = { ValueType.STRING, ValueType.UINT32, ValueType.STRING,"], [54, "            ValueType.UINT32, ValueType.STRING, ValueType.STRING };"], [55, ""], [61, "        readByteMap.clear();"], [63, "        writeByteMap.clear();"], [64, "        xferTimeMap.clear();"], [77, "            ds.setReadBytes(readByteMap.getOrDefault(index, 0L));"], [79, "            ds.setWriteBytes(writeByteMap.getOrDefault(index, 0L));"], [80, "            ds.setTransferTime(xferTimeMap.getOrDefault(index, 0L));"], [92, "        Map<String, List<Object>> vals = WmiUtil.selectObjectsFrom(null, \"Win32_PerfRawData_PerfDisk_PhysicalDisk\","], [93, "                \"Name,DiskReadsPerSec,DiskReadBytesPerSec,DiskWritesPerSec,DiskWriteBytesPerSec,PercentDiskTime\", null,"], [94, "                READ_WRITE_TYPES);"], [96, "            String index = ((String) vals.get(\"Name\").get(i)).split(\"\\\\s+\")[0];"], [97, "            readMap.put(index, (long) vals.get(\"DiskReadsPerSec\").get(i));"], [98, "            readByteMap.put(index, ParseUtil.parseLongOrDefault((String) vals.get(\"DiskReadBytesPerSec\").get(i), 0L));"], [99, "            writeMap.put(index, (long) vals.get(\"DiskWritesPerSec\").get(i));"], [100, "            writeByteMap.put(index, ParseUtil.parseLongOrDefault((String) vals.get(\"DiskWriteBytesPerSec\").get(i), 0L));"], [101, "            // Units are 100-ns, divide to get ms"], [102, "            xferTimeMap.put(index,"], [103, "                    ParseUtil.parseLongOrDefault((String) vals.get(\"PercentDiskTime\").get(i), 0L) / 10000L);"]], "deleted": [[80, "        Map<String, List<String>> vals = WmiUtil.selectStringsFrom(null, \"Win32_PerfRawData_PerfDisk_PhysicalDisk\","], [81, "                \"Name,DiskReadBytesPerSec,DiskWriteBytesPerSec\", null);"], [83, "            String index = vals.get(\"Name\").get(i).split(\"\\\\s+\")[0];"], [84, "            readMap.put(index, ParseUtil.parseLongOrDefault(vals.get(\"DiskReadBytesPerSec\").get(i), 0L));"], [85, "            writeMap.put(index, ParseUtil.parseLongOrDefault(vals.get(\"DiskWriteBytesPerSec\").get(i), 0L));"]]}, "num_lines_added": 23, "num_lines_removed": 5}