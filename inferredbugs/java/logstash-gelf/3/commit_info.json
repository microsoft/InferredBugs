{"hash": "a8d749e2bb77f0aea94db62164734a21fd4adfbd", "message": "Close channel in GelfTCPSender.connect() #107\n\nAlways close a channel, if present when attempting connection. Closing the channel is required if the connection failed due to a broken pipe or any other intermediate error which leaves the client channel not closed. Previously, a wrong check to Channel.isOpen() was verifying the wrong state and caused IllegalStateException that are not catched.", "file_num_lines": 127, "diff_parsed": {"added": [[137, "            if (written < 0 || !isConnected()) {"], [151, "        Closer.close(channel());"], [152, "        setChannel(createSocketChannel(readTimeoutMs, keepAlive));"]], "deleted": [[137, "            if (written < 0) {"], [151, "        if (!channel().isOpen()) {"], [152, "            Closer.close(channel());"], [153, "            setChannel(createSocketChannel(readTimeoutMs, keepAlive));"], [154, "        }"]]}, "num_lines_added": 3, "num_lines_removed": 5}