{"hash": "58c822a69369a7d46bc80acbaa9cae9c3853f8e9", "message": "sqlite:\u9488\u5bf9\u8fde\u63a5\u529f\u80fd\u7684\u7ba1\u7406\u4fee\u6539\n\n1. \u6240\u6709\u7528\u5230\u8fde\u63a5\u7684\u5730\u65b9\uff0c\u7edf\u4e00\u4f9b\u5230\u94fe\u63a5\u5de5\u5382\u7ba1\u7406\n2. \u8fde\u63a5\u6c60\u6dfb\u52a0\u624b\u52a8\u5173\u95ed\u3001\u72b6\u6001\u68c0\u67e5\u7b49\u529f\u80fd\n3. \u76f8\u5173\u5de5\u5177\u7c7b\u3001\u6d4b\u8bd5\u7c7b\u4fee\u6539", "file_num_lines": 181, "diff_parsed": {"added": [[24, "    protected static boolean USE_CONNECT_POOL = Boolean.parseBoolean(SqliteConfig.getValue(\"sqlite.connection.pool\"));"], [75, "    public static Connection getConnection() throws SQLException {"], [86, "                currCon = createBaseConnection();"], [92, "    /**"], [93, "     * \u83b7\u53d6\u94fe\u63a5"], [94, "     *"], [95, "     * @return"], [96, "     * @throws Exception"], [97, "     * @throws SQLException"], [98, "     */"], [99, "    public static Connection getConnection(String dbPath) throws SQLException {"], [100, "        if(DEFAULT_DB_PATH.equals(dbPath)){"], [101, "            return getConnection();"], [102, "        }else {"], [103, "            SqliteBaseConnection currCon = createBaseConnection(dbPath);"], [104, "            addRunningConnection(currCon);"], [105, "            return currCon.getConnection();"], [106, "        }"], [107, "    }"], [193, "                if(null == con || null == con.getConnection() || con.getConnection().isClosed() || SqliteUtils.getNowStamp() - con.getCreateTime() > CON_TIMEOUT){"], [209, "     * @return"], [210, "     */"], [211, "    public static SqliteBaseConnection createBaseConnection() throws SQLException {"], [212, "        return createBaseConnection(DEFAULT_DB_PATH);"], [213, "    }"], [214, ""], [215, "    /**"], [216, "     * \u521b\u5efaconnection"], [217, "     *"], [223, "            return null;"], [248, "        if(null != dbPath && !dbPath.startsWith(\"jdbc:sqlite\")) {"], [249, "            String JDBC = \"jdbc:sqlite:/\" + dbPath;"], [250, "            if (SqliteUtils.isWindows()) {"], [251, "                dbPath = dbPath.toLowerCase();"], [252, "                JDBC = \"jdbc:sqlite:/\" + dbPath;"], [253, "            }"], [254, "            return JDBC;"], [255, "        }else {"], [256, "            return dbPath;"]], "deleted": [[24, "    private static boolean USE_CONNECT_POOL = Boolean.parseBoolean(SqliteConfig.getValue(\"sqlite.connection.pool\"));"], [75, "    public static Connection getConnection(String dbPath) throws SQLException {"], [86, "                currCon = createBaseConnection(dbPath);"], [177, "                if(null == con.getConnection() || con.getConnection().isClosed() || SqliteUtils.getNowStamp() - con.getCreateTime() > CON_TIMEOUT){"], [198, "            dbPath = DEFAULT_DB_PATH;"], [223, "        String JDBC = \"jdbc:sqlite:/\" + dbPath;"], [224, "        if (SqliteUtils.isWindows()) {"], [225, "            dbPath = dbPath.toLowerCase();"], [226, "            JDBC = \"jdbc:sqlite:/\" + dbPath;"], [228, "        return JDBC;"]]}, "num_lines_added": 39, "num_lines_removed": 10}