{"hash": "0604cf11988159406201bc22cb617865d31a97fc", "message": "Fixes #216 Interceptors do not support Entity inheritance", "file_num_lines": 101, "diff_parsed": {"added": [[23, "import java.util.Set;"], [25, "import com.google.common.base.Predicate;"], [26, "import com.google.common.collect.FluentIterable;"], [27, "import com.google.common.collect.ImmutableSet;"], [45, "import static com.google.common.collect.FluentIterable.from;"], [46, ""], [109, "            Class<?> parentEntityClass = propertyParser.inferEntityClassFromInterceptor(interceptor);"], [110, ""], [111, "            final Set<Class<?>> candidateEntityClasses = from(entityMetaMap.keySet())"], [112, "                    .filter(new ChildClassOf(parentEntityClass))"], [113, "                    .toSet();"], [114, "            for (Class<?> candidateEntityClass : candidateEntityClasses) {"], [115, "                final EntityMeta entityMeta = entityMetaMap.get(candidateEntityClass);"], [116, "                Validator.validateBeanMappingTrue(entityMeta != null, \"The entity class '%s' is not found\","], [117, "                        parentEntityClass.getCanonicalName());"], [118, "                entityMeta.forInterception().addInterceptor(interceptor);"], [119, "            }"], [120, "        }"], [121, "    }"], [122, ""], [123, "    static class ChildClassOf implements Predicate<Class<?>> {"], [124, ""], [125, "        private final Class<?> parentClass;"], [126, ""], [127, "        ChildClassOf(Class<?> parentClass) {"], [128, "            this.parentClass = parentClass;"], [129, "        }"], [130, ""], [131, "        @Override"], [132, "        public boolean apply(Class<?> childClass) {"], [133, "            return parentClass.isAssignableFrom(childClass);"]], "deleted": [[103, "            Class<?> entityClass = propertyParser.inferEntityClassFromInterceptor(interceptor);"], [104, "            EntityMeta entityMeta = entityMetaMap.get(entityClass);"], [105, "            Validator.validateBeanMappingTrue(entityMeta != null, \"The entity class '%s' is not found\","], [106, "                    entityClass.getCanonicalName());"], [107, "            entityMeta.forInterception().addInterceptor(interceptor);"]]}, "num_lines_added": 31, "num_lines_removed": 5}