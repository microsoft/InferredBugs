{"hash": "251773934a01577b82e8d9ee39c82fa6e2ab3c82", "message": "Fixed issue with kubernetes service launch failures", "file_num_lines": 209, "diff_parsed": {"added": [[46, "import eu.openanalytics.shinyproxy.util.Utils;"], [70, "\tprivate static final String PROPERTY_API_VERSION = \"api-version\";"], [76, "\tprivate static final String DEFAULT_API_VERSION = \"v1\";"], [116, "\t\tString apiVersion = getProperty(PROPERTY_API_VERSION, proxy.getApp(), DEFAULT_API_VERSION);"], [171, "\t\t\t\t.withApiVersion(apiVersion)"], [189, "\t\t\t\t\t.withApiVersion(apiVersion)"], [202, ""], [203, "\t\t\t// Retry, because if this is done too fast, an 'endpoint not found' exception will be thrown."], [204, "\t\t\tUtils.retry(i -> {"], [205, "\t\t\t\ttry {"], [206, "\t\t\t\t\tproxy.setService(kubeClient.resource(service).waitUntilReady(600, TimeUnit.SECONDS));"], [207, "\t\t\t\t} catch (Exception e) {"], [208, "\t\t\t\t\treturn false;"], [209, "\t\t\t\t}"], [210, "\t\t\t\treturn true;"], [211, "\t\t\t}, 5, 1000);"], [222, "\t\tint port = proxy.getPort();"], [223, ""], [226, "\t\t\tport = getAppPort(proxy);"]], "deleted": [[167, "\t\t\t\t.withApiVersion(\"v1\")"], [185, "\t\t\t\t\t.withApiVersion(\"v1\")"], [198, "\t\t\tproxy.setService(kubeClient.resource(service).waitUntilReady(600, TimeUnit.SECONDS));"], [212, "\t\tint port = proxy.getPort();"]]}, "num_lines_added": 19, "num_lines_removed": 4}