{"hash": "2f9fa2c29a96f43bc01ac700f178ae0b425c9b03", "message": "sm2 support encoding", "file_num_lines": 226, "diff_parsed": {"added": [[9, "import org.bouncycastle.crypto.Digest;"], [11, "import org.bouncycastle.crypto.digests.SM3Digest;"], [17, "import org.bouncycastle.crypto.signers.DSAEncoding;"], [18, "import org.bouncycastle.crypto.signers.PlainDSAEncoding;"], [20, "import org.bouncycastle.crypto.signers.StandardDSAEncoding;"], [46, "\tprivate DSAEncoding encoding = StandardDSAEncoding.INSTANCE;"], [47, "\tprivate Digest digest = new SM3Digest();"], [48, "\tprivate SM2Engine.Mode mode = SM2Engine.Mode.C1C3C2;"], [49, ""], [425, "\t * \u8bbe\u7f6eDSA signatures\u7684\u7f16\u7801\u4e3aPlainDSAEncoding"], [426, "\t *"], [427, "\t * @return this"], [428, "\t * @since 5.3.1"], [429, "\t */"], [430, "\tpublic SM2 usePlainEncoding() {"], [431, "\t\treturn setEncoding(PlainDSAEncoding.INSTANCE);"], [432, "\t}"], [433, ""], [434, "\t/**"], [435, "\t * \u8bbe\u7f6eDSA signatures\u7684\u7f16\u7801"], [436, "\t *"], [437, "\t * @param encoding {@link DSAEncoding}\u5b9e\u73b0"], [438, "\t * @return this"], [439, "\t * @since 5.3.1"], [440, "\t */"], [441, "\tpublic SM2 setEncoding(DSAEncoding encoding) {"], [442, "\t\tthis.encoding = encoding;"], [443, "\t\tthis.signer = null;"], [444, "\t\treturn this;"], [445, "\t}"], [446, ""], [447, "\t/**"], [448, "\t * \u8bbe\u7f6eHash\u7b97\u6cd5"], [449, "\t *"], [450, "\t * @param digest {@link Digest}\u5b9e\u73b0"], [451, "\t * @return this"], [452, "\t * @since 5.3.1"], [453, "\t */"], [454, "\tpublic SM2 setDigest(Digest digest) {"], [455, "\t\tthis.digest = digest;"], [456, "\t\tthis.engine = null;"], [457, "\t\tthis.signer = null;"], [458, "\t\treturn this;"], [459, "\t}"], [460, ""], [461, "\t/**"], [462, "\t * \u8bbe\u7f6eSM2\u6a21\u5f0f\uff0c\u65e7\u7248\u662fC1C2C3\uff0c\u65b0\u7248\u672c\u662fC1C3C2"], [469, "\t\tthis.engine = null;"], [501, "\t\t\tthis.engine = new SM2Engine(this.digest, this.mode);"], [513, "\t\t\tthis.signer = new SM2Signer(this.encoding, this.digest);"]], "deleted": [[38, "\tprivate SM2Engine.Mode mode = SM2Engine.Mode.C1C3C2;"], [417, "\t * \u8bbe\u7f6e\u52a0\u5bc6\u7c7b\u578b"], [424, "\t\tif (null != this.engine) {"], [425, "\t\t\tthis.engine = null;"], [426, "\t\t}"], [458, "\t\t\tthis.engine = new SM2Engine(this.mode);"], [470, "\t\t\tthis.signer = new SM2Signer();"], [474, ""]]}, "num_lines_added": 50, "num_lines_removed": 8}