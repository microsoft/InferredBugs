{"hash": "3617d0a569b03d16ca48f0ea50804616830bdd16", "message": "DataSizeUtil support decimal", "file_num_lines": 103, "diff_parsed": {"added": [[31, "\tprivate static final Pattern PATTERN = Pattern.compile(\"^([+-]?\\\\d+(\\\\.\\\\d+)?)([a-zA-Z]{0,2})$\");"], [71, "\t * \u83b7\u5f97\u5bf9\u5e94bytes\u7684DataSize"], [74, "\t * @return this"], [81, "\t * \u83b7\u5f97\u5bf9\u5e94kilobytes\u7684DataSize"], [84, "\t * @return a DataSize"], [91, "\t * \u83b7\u5f97\u5bf9\u5e94megabytes\u7684DataSize"], [94, "\t * @return a DataSize"], [101, "\t * \u83b7\u5f97\u5bf9\u5e94gigabytes\u7684DataSize"], [104, "\t * @return a DataSize"], [111, "\t * \u83b7\u5f97\u5bf9\u5e94terabytes\u7684DataSize"], [114, "\t * @return a DataSize"], [121, "\t * \u83b7\u5f97\u6307\u5b9a{@link DataUnit}\u5bf9\u5e94\u7684DataSize"], [125, "\t * @return DataSize"], [135, "\t * \u83b7\u5f97\u6307\u5b9a{@link DataUnit}\u5bf9\u5e94\u7684DataSize"], [139, "\t * @return DataSize"], [140, "\t * @since 5.4.5"], [150, "\t * \u83b7\u53d6\u6307\u5b9a\u6570\u636e\u5927\u5c0f\u6587\u672c\u5bf9\u5e94\u7684DataSize\u5bf9\u8c61\uff0c\u5982\u679c\u65e0\u5355\u4f4d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u83b7\u53d6{@link DataUnit#BYTES}"], [160, "\t * @return the parsed DataSize"], [168, "\t * Obtain a DataSize from a text string such as {@code 12MB} using"], [183, "\t * @return the parsed DataSize"], [188, "\t\t\tfinal Matcher matcher = PATTERN.matcher(text);"], [190, ""], [191, "\t\t\tfinal DataUnit unit = determineDataUnit(matcher.group(3), defaultUnit);"], [192, "\t\t\treturn DataSize.of(new BigDecimal(matcher.group(1)), unit);"]], "deleted": [[31, "\tprivate static final Pattern PATTERN = Pattern.compile(\"^([+\\\\-]?\\\\d+||(\\\\d+\\\\.\\\\d+))([a-zA-Z]{0,2})$\");"], [71, "\t * \u83b7\u5f97\u5bf9\u5e94bytes\u7684{@link DataSize}"], [74, "\t * @return a {@link DataSize}"], [81, "\t * \u83b7\u5f97\u5bf9\u5e94kilobytes\u7684{@link DataSize}"], [84, "\t * @return a {@link DataSize}"], [91, "\t * \u83b7\u5f97\u5bf9\u5e94megabytes\u7684{@link DataSize}"], [94, "\t * @return a {@link DataSize}"], [101, "\t * \u83b7\u5f97\u5bf9\u5e94gigabytes\u7684{@link DataSize}"], [104, "\t * @return a {@link DataSize}"], [111, "\t * \u83b7\u5f97\u5bf9\u5e94terabytes\u7684{@link DataSize}"], [114, "\t * @return a {@link DataSize}"], [121, "\t * \u83b7\u5f97\u6307\u5b9a{@link DataUnit}\u5bf9\u5e94\u7684{@link DataSize}"], [125, "\t * @return {@link DataSize}"], [135, "\t * \u83b7\u5f97\u6307\u5b9a{@link DataUnit}\u5bf9\u5e94\u7684{@link DataSize}"], [139, "\t * @return {@link DataSize}"], [149, "\t * \u83b7\u53d6\u6307\u5b9a\u6570\u636e\u5927\u5c0f\u6587\u672c\u5bf9\u5e94\u7684{@link DataSize}\u5bf9\u8c61\uff0c\u5982\u679c\u65e0\u5355\u4f4d\u6307\u5b9a\uff0c\u9ed8\u8ba4\u83b7\u53d6{@link DataUnit#BYTES}"], [159, "\t * @return the parsed {@link DataSize}"], [167, "\t * Obtain a {@link DataSize} from a text string such as {@code 12MB} using"], [182, "\t * @return the parsed {@link DataSize}"], [187, "\t\t\tMatcher matcher = PATTERN.matcher(text);"], [189, "\t\t\tDataUnit unit = determineDataUnit(matcher.group(3), defaultUnit);"], [190, "\t\t\tString value = matcher.group(1);"], [191, "\t\t\tif (value.indexOf(\".\") > -1) {"], [192, "\t\t\t\treturn DataSize.of(new BigDecimal(value), unit);"], [193, "\t\t\t} else {"], [194, "\t\t\t\tlong amount = Long.parseLong(matcher.group(1));"], [195, "\t\t\t\treturn DataSize.of(amount, unit);"], [196, "\t\t\t}"]]}, "num_lines_added": 24, "num_lines_removed": 28}