{"hash": "d98066aebe91cd46fed7f4a46a01ac5b8a9b9652", "message": "Implements #391 and #398", "file_num_lines": 68, "diff_parsed": {"added": [[40, ""], [41, "        if (RegionUtils.isIn(loc)) {"], [42, "            Region region = RegionUtils.getAt(loc);"], [43, "            Guild guild = region.getGuild();"], [44, ""], [45, "            if (guild.isValid()) {"], [46, "                event.setCancelled(true);"], [47, "                return;"], [48, "            }"], [49, ""], [50, "            Location protect = region.getCenter().getBlock().getRelative(BlockFace.DOWN).getLocation();"], [51, ""], [52, "            destroyed.removeIf(block -> block.getLocation().equals(protect));"], [53, ""], [54, "            guild.setBuild(System.currentTimeMillis() + Settings.getInstance().regionExplode * 1000L);"], [55, "            for (User user : guild.getMembers()) {"], [56, "                Player player = this.plugin.getServer().getPlayer(user.getName());"], [57, "                if (player != null) {"], [58, "                    player.sendMessage(Messages.getInstance().getMessage(\"regionExplode\")"], [59, "                                               .replace(\"{TIME}\", Integer.toString(Settings.getInstance().regionExplode)));"], [60, "                }"], [61, "            }"], [62, "        }"], [63, ""]], "deleted": [[21, "import java.util.Iterator;"], [57, ""], [58, "        if (!RegionUtils.isIn(loc)) {"], [59, "            return;"], [60, "        }"], [61, "        Region region = RegionUtils.getAt(loc);"], [62, ""], [63, "        Location protect = region.getCenter().getBlock().getRelative(BlockFace.DOWN).getLocation();"], [64, ""], [65, "        Iterator<Block> it = destroyed.iterator();"], [66, "        while (it.hasNext()) {"], [67, "            if (it.next().getLocation().equals(protect)) {"], [68, "                it.remove();"], [69, "            }"], [70, "        }"], [71, ""], [72, "        Guild guild = region.getGuild();"], [73, ""], [74, "        guild.setBuild(System.currentTimeMillis() + Settings.getInstance().regionExplode * 1000L);"], [75, "        for (User user : guild.getMembers()) {"], [76, "            Player player = this.plugin.getServer().getPlayer(user.getName());"], [77, "            if (player != null) {"], [78, "                player.sendMessage(Messages.getInstance().getMessage(\"regionExplode\")"], [79, "                        .replace(\"{TIME}\", Integer.toString(Settings.getInstance().regionExplode)));"], [80, "            }"], [81, "        }"]]}, "num_lines_added": 24, "num_lines_removed": 26}