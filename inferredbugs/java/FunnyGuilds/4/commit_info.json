{"hash": "9ed83b6a2dc33349bd7ac3e08250a21fd96a806f", "message": "Removed redundant code, few optimalizations.", "file_num_lines": 120, "diff_parsed": {"added": [[10, "import java.lang.reflect.Constructor;"], [11, "import java.lang.reflect.Method;"], [13, "import java.util.Map;"], [17, "    private static Constructor<?> spawnEntityConstructor;"], [18, "    private static Constructor<?> despawnEntityConstructor;"], [19, "    private static Constructor<?> enderCrystalConstructor;"], [21, "    private static Method setLocation;"], [22, "    private static Method getId;"], [23, ""], [24, "    private static final Map<Guild, Integer> entitesMap = new HashMap<>();"], [25, "    private static final Map<Integer, Object> ids = new HashMap<>();"], [26, ""], [27, "    static {"], [28, "        final Class<?> entityClass = Reflections.getCraftClass(\"Entity\");"], [29, "        final Class<?> enderCrystalClass = Reflections.getCraftClass(\"EntityEnderCrystal\");"], [30, "        final Class<?> spawnEntityClass = Reflections.getCraftClass(\"PacketPlayOutSpawnEntity\");"], [31, "        final Class<?> despawnEntityClass = Reflections.getCraftClass(\"PacketPlayOutEntityDestroy\");"], [32, "        final Class<?> craftWorldClass = Reflections.getCraftClass(\"World\");"], [33, ""], [34, "        spawnEntityConstructor = Reflections.getConstructor(spawnEntityClass, entityClass, int.class);"], [35, "        despawnEntityConstructor = Reflections.getConstructor(despawnEntityClass, int[].class);"], [36, "        enderCrystalConstructor = Reflections.getConstructor(enderCrystalClass, craftWorldClass);"], [37, ""], [38, "        setLocation = Reflections.getMethod(enderCrystalClass, \"setLocation\", double.class, double.class, double.class, float.class, float.class);"], [39, "        getId = Reflections.getMethod(enderCrystalClass, \"getId\");"], [40, "    }"], [41, ""], [42, "    public static Map<Guild, Integer> getEntitesMap() {"], [48, "        Object crystal = enderCrystalConstructor.newInstance(world);"], [49, "        setLocation.invoke(crystal, loc.getX(), loc.getY(), loc.getZ(), 0, 0);"], [50, "        Object packet = spawnEntityConstructor.newInstance(crystal, 51);"], [51, "        int id = (int) getId.invoke(crystal);"], [57, "        return despawnEntityConstructor.newInstance(new int[]{id});"]], "deleted": [[14, "    public static HashMap<Guild, Integer> entitesMap = new HashMap<>();"], [15, "    private static Class<?> entityClass = Reflections.getCraftClass(\"Entity\");"], [16, "    private static Class<?> enderCrystalClass = Reflections.getCraftClass(\"EntityEnderCrystal\");"], [17, "    private static Class<?> spawnEntityClass = Reflections.getCraftClass(\"PacketPlayOutSpawnEntity\");"], [18, "    private static Class<?> despawnEntityClass = Reflections.getCraftClass(\"PacketPlayOutEntityDestroy\");"], [19, "    private static HashMap<Integer, Object> ids = new HashMap<>();"], [21, "    public static HashMap<Guild, Integer> getEntitesMap() {"], [27, "        Object crystal = enderCrystalClass.getConstructor(Reflections.getCraftClass(\"World\")).newInstance(world);"], [28, "        Reflections.getMethod(enderCrystalClass, \"setLocation\", double.class, double.class, double.class, float.class, float.class).invoke(crystal, loc.getX(), loc.getY(), loc.getZ(), 0, 0);"], [29, "        Object packet = spawnEntityClass.getConstructor(new Class<?>[]{entityClass, int.class}).newInstance(crystal, 51);"], [30, "        int id = (int) Reflections.getMethod(enderCrystalClass, \"getId\").invoke(crystal);"], [36, "        return despawnEntityClass.getConstructor(new Class<?>[]{int[].class}).newInstance(new int[]{id});"]]}, "num_lines_added": 33, "num_lines_removed": 12}