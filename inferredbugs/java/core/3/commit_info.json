{"hash": "c9fd472671a301603ccf1eb0c829e057c01a5915", "message": "Fixed some bugs and implemented the rest of the section 8.6 tests.\n\ngit-svn-id: http://anonsvn.jboss.org/repos/weld/ri/trunk@550 1c488680-804c-0410-94cd-c6b725194a0e", "file_num_lines": 221, "diff_parsed": {"added": [[66, "import org.jboss.webbeans.introspector.AnnotatedParameter;"], [188, "         registerEvents(producerMethodBean.getInjectionPoints(), beans);"], [197, "      for (AnnotatedMethod<Object> initializerMethod : bean.getInitializerMethods())"], [198, "      {"], [199, "         for (AnnotatedParameter<Object> parameter : initializerMethod.getAnnotatedParameters(Observable.class))"], [200, "         {"], [201, "            registerEvent(parameter, beans);"], [202, "         }"], [203, "      }"], [208, "            registerEvent(injectionPoint, beans);"], [314, "    * Iterates through the injection points and creates and registers any Event"], [315, "    * observables specified with the @Observable annotation"], [316, "    *"], [317, "    * @param injectionPoints A set of injection points to inspect"], [318, "    * @param beans A set of beans to add the Event beans to"], [319, "    */"], [320, "   @SuppressWarnings(\"unchecked\")"], [321, "   private void registerEvents(Set<AnnotatedItem<?,?>> injectionPoints, Set<AbstractBean<?, ?>> beans)"], [322, "   {"], [323, "      for (AnnotatedItem injectionPoint : injectionPoints)"], [324, "      {"], [325, "         registerEvent(injectionPoint, beans);"], [326, "      }"], [327, "   }"], [328, ""], [329, "   @SuppressWarnings(\"unchecked\")"], [330, "   private void registerEvent(AnnotatedItem injectionPoint, Set<AbstractBean<?, ?>> beans)"], [331, "   {"], [332, "      if ( injectionPoint.isAnnotationPresent(Observable.class) )"], [333, "      {"], [334, "         EventBean<Object, Method> eventBean = createEventBean(injectionPoint, manager);"], [335, "         beans.add(eventBean);"], [336, "         log.info(\"Web Bean: \" + eventBean);"], [337, "      }"], [338, "   }"], [339, "   /**"]], "deleted": [[187, "         for (AnnotatedItem injectionPoint : producerMethodBean.getInjectionPoints())"], [188, "         {"], [189, "            if ( injectionPoint.isAnnotationPresent(Observable.class) )"], [190, "            {"], [191, "               EventBean<Object, Method> eventBean = createEventBean(injectionPoint, manager);"], [192, "               beans.add(eventBean);"], [193, "               log.info(\"Web Bean: \" + eventBean);"], [194, "            }"], [195, "         }"], [208, "            EventBean<Object, Field> eventBean = createEventBean(injectionPoint, manager);"], [209, "            beans.add(eventBean);"], [210, "            log.info(\"Web Bean: \" + eventBean);"]]}, "num_lines_added": 36, "num_lines_removed": 12}