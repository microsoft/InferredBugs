{"hash": "9fc10582b255d8e86ceefccbc7ba428daf016741", "message": "Add a build step extension that executes when a new build is scheduled.\nWhen the build is scheduled, add an extension that will go back and cancel queued builds, and abort running builds.\nFixes #272 and fixes #241", "file_num_lines": 815, "diff_parsed": {"added": [[31, "import org.jenkinsci.plugins.ghprb.extensions.GhprbBuildStep;"], [33, "import org.jenkinsci.plugins.ghprb.extensions.GhprbCommitStatusException;"], [285, ""], [288, ""], [289, ""], [290, "        for (GhprbExtension ext : Ghprb.getJobExtensions(this, GhprbBuildStep.class)) {"], [291, "            if (ext instanceof GhprbBuildStep) {"], [292, "                ((GhprbBuildStep)ext).onStartBuild(super.job, cause);"], [293, "            }"], [294, "        }"], [295, ""], [709, "            saveAfterPause();"], [710, "        }"], [711, ""], [712, "        private void saveAfterPause() {"], [713, "            new java.util.Timer().schedule("], [714, "                                           new java.util.TimerTask() {"], [715, "                                               @Override"], [716, "                                               public void run() {"], [717, "                                                   save();"], [718, "                                               }"], [719, "                                           },"], [720, "                                           5000"], [721, "                                   );"], [763, "            saveAfterPause();"]], "deleted": [[698, "            save();"], [740, "            save();"]]}, "num_lines_added": 25, "num_lines_removed": 2}