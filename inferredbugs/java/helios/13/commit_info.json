{"hash": "d09be1747e503ec61dbe3e50dbf6121f14f0f750", "message": "extract duplicate function in JobStart/StopCommand", "file_num_lines": 45, "diff_parsed": {"added": [[20, "import com.spotify.helios.cli.Utils;"], [73, "    return Utils.setGoalOnHosts(client, out, json, hosts, deployment,"], [74, "        options.getString(tokenArg.getDest()));"]], "deleted": [[24, "import com.spotify.helios.common.protocol.SetGoalResponse;"], [73, "    int code = 0;"], [74, ""], [75, "    for (final String host : hosts) {"], [76, "      if (!json) {"], [77, "        out.printf(\"%s: \", host);"], [78, "      }"], [79, "      final String token = options.getString(tokenArg.getDest());"], [80, "      final SetGoalResponse result = client.setGoal(deployment, host, token).get();"], [81, "      if (result.getStatus() == SetGoalResponse.Status.OK) {"], [82, "        if (json) {"], [83, "          out.printf(result.toJsonString());"], [84, "        } else {"], [85, "          out.printf(\"done%n\");"], [86, "        }"], [87, "      } else {"], [88, "        if (json) {"], [89, "          out.printf(result.toJsonString());"], [90, "        } else {"], [91, "          out.printf(\"failed: %s%n\", result);"], [92, "        }"], [93, "        code = 1;"], [94, "      }"], [95, "    }"], [96, ""], [97, "    return code;"]]}, "num_lines_added": 3, "num_lines_removed": 26}