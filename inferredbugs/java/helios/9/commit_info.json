{"hash": "27d3c2528deea36e18a32b76548806b80a608eba", "message": "client: Treat 502 Bad Gateway as connection error\n\nIf we get a 502 Bad Gateway, we should treat it as a connection error and\nretry the response with the next server (just like we do for a TCP error).\nThis lets retries work even when Helios is behind something like nginx.", "file_num_lines": 248, "diff_parsed": {"added": [[67, "import static java.net.HttpURLConnection.HTTP_BAD_GATEWAY;"], [270, ""], [271, "    if (connection.getResponseCode() == HTTP_BAD_GATEWAY) {"], [272, "      throw new ConnectException(\"502 Bad Gateway\");"], [273, "    }"], [274, ""]], "deleted": [[269, "    connection.getResponseCode();"]]}, "num_lines_added": 6, "num_lines_removed": 1}