{"hash": "bc1a0858ba9e9a9cdb60d138f1e034b81ec74648", "message": "[MGWT-326] M2Eclipse integration\n\nUses org.sonatype.plexus:plexus-build-api and adds\nlifecycle-mapping-metadata.xml for the css and generateAsync goals.\n\nSee http://wiki.eclipse.org/M2E_compatible_maven_plugins", "file_num_lines": 120, "diff_parsed": {"added": [[24, "import java.io.OutputStreamWriter;"], [25, "import java.nio.charset.Charset;"], [34, "import org.codehaus.plexus.util.IOUtil;"], [36, "import org.sonatype.plexus.build.incremental.BuildContext;"], [65, "    /**"], [66, "     * @parameter expression=\"${project.build.sourceEncoding}\""], [67, "     */"], [68, "    private String encoding;"], [69, ""], [70, "    /** @component */"], [71, "    private BuildContext buildContext;"], [72, ""], [103, "                        if ( buildContext.isUptodate( javaOutput, candidate ) )"], [104, "                        {"], [105, "                            getLog().debug( javaOutput.getAbsolutePath() + \" is up to date. Generation skipped\" );"], [106, "                            // up to date, but still need to report generated-sources directory as sourceRoot"], [107, "                            generated = true;"], [108, "                            break;"], [109, "                        }"], [110, ""], [126, "                            .execute();"], [127, "                            final OutputStreamWriter outputWriter ="], [128, "                                new OutputStreamWriter( buildContext.newFileOutputStream( javaOutput ) , encoding );"], [129, "                            try {"], [130, "                                outputWriter.write( content.toString() );"], [131, "                            } finally {"], [132, "                                IOUtil.close( outputWriter );"], [133, "                            }"], [161, "        if ( encoding == null )"], [162, "        {"], [163, "            getLog().warn( \"Encoding is not set, your build will be platform dependent\" );"], [164, "            encoding = Charset.defaultCharset().name();"], [165, "        }"], [166, ""]], "deleted": [[23, "import java.io.FileWriter;"], [107, "                            .execute();"], [108, "                            final FileWriter outputWriter = new FileWriter( javaOutput );"], [109, "                            outputWriter.write( content.toString() );"], [110, "                            outputWriter.close();"], [137, ""], [138, "        throws MojoExecutionException"], [144, ""]]}, "num_lines_added": 34, "num_lines_removed": 8}