{"hash": "afaf1c7b441ed3e6c58790f37da057d5d7307baf", "message": "added lots of NULL checks to improve robustness", "file_num_lines": 165, "diff_parsed": {"added": [[87, ""], [88, "        // sanity check"], [89, "        if(!(adaptable instanceof Resource || adaptable instanceof SlingHttpServletRequest)) {"], [90, "            return null;"], [91, "        }"], [92, ""], [165, "        ResourceResolver resolver = getResourceResolver(adaptable);"], [166, ""], [167, "        if(resolver != null) {"], [168, "            return resolver.adaptTo(PageManager.class);"], [169, "        }"], [170, ""], [171, "        return null;"], [180, "        ResourceResolver resolver = getResourceResolver(adaptable);"], [181, ""], [182, "        if(resolver != null) {"], [183, "            return resolver.adaptTo(Designer.class);"], [184, "        }"], [185, ""], [186, "        return null;"], [214, "        if(pageManager != null && resource != null) {"], [215, "            return pageManager.getContainingPage(resource);"], [216, "        }"], [217, ""], [218, "        return null;"], [229, "        return (context != null) ? context.getPage() : null;"], [239, "        Designer designer = getDesigner(adaptable);"], [240, ""], [241, "        if(currentPage != null && designer != null) {"], [242, "            return designer.getDesign(currentPage);"], [243, "        }"], [245, "        return null;"], [260, "            if (resourcePage != null && designer != null) {"], [276, "            return designer != null ? designer.getDesign(resourcePage) : null;"], [291, "        if(currentDesign != null && componentContext != null) {"], [294, ""], [295, "        return null;"], [304, "        ResourceResolver resolver = getResourceResolver(adaptable);"], [305, ""], [306, "        return resolver != null ?  resolver.adaptTo(Session.class) : null;"]], "deleted": [[159, "        return getResourceResolver(adaptable).adaptTo(PageManager.class);"], [168, "        return getResourceResolver(adaptable).adaptTo(Designer.class);"], [196, "        return pageManager.getContainingPage(resource);"], [207, "        return (context == null) ? null : context.getPage();"], [218, "        return getDesigner(adaptable).getDesign(currentPage);"], [233, "            if (resourcePage != null) {"], [249, "            return designer.getDesign(resourcePage);"], [264, "        if((currentDesign == null) || (componentContext == null)) {"], [265, "            return null;"], [266, "        } else {"], [277, "        return getResourceResolver(adaptable).adaptTo(Session.class);"]]}, "num_lines_added": 40, "num_lines_removed": 11}