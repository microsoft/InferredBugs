{"hash": "85600c7f2c80b3cac6153bbb132f49bfe8567d2d", "message": "Add tests for areas not yet covered. Closes #125", "file_num_lines": 1338, "diff_parsed": {"added": [[65, ""], [66, "        if (ansi == Help.Ansi.AUTO) {"], [67, "            baos.reset();"], [68, "            commandLine.usage(new PrintStream(baos, true, \"UTF8\"));"], [69, "            assertEquals(result, baos.toString(\"UTF8\"));"], [70, "        } else if (ansi == Help.Ansi.ON) {"], [71, "            baos.reset();"], [72, "            commandLine.usage(new PrintStream(baos, true, \"UTF8\"), Help.defaultColorScheme(Help.Ansi.ON));"], [73, "            assertEquals(result, baos.toString(\"UTF8\"));"], [74, "        }"], [1378, "    public void testTextAdjacentStyles() {"], [1384, "    public void testTextNoConversionWithoutClosingTag() {"], [1385, "        assertEquals(\"\\u001B[3mabc\\u001B[23m\\u001B[0m\", Help.Ansi.ON.new Text(\"@|italic abc|@\").toString());"], [1386, "        assertEquals(\"@|italic abc\",                    Help.Ansi.ON.new Text(\"@|italic abc\").toString());"], [1387, "    }"], [1388, ""], [1389, "    @Test"], [1390, "    public void testTextNoConversionWithoutSpaceSeparator() {"], [1391, "        assertEquals(\"\\u001B[3ma\\u001B[23m\\u001B[0m\", Help.Ansi.ON.new Text(\"@|italic a|@\").toString());"], [1392, "        assertEquals(\"@|italic|@\",                    Help.Ansi.ON.new Text(\"@|italic|@\").toString());"], [1393, "        assertEquals(\"\",                              Help.Ansi.ON.new Text(\"@|italic |@\").toString());"], [1394, "    }"], [1395, ""], [1396, "    @Test"], [1397, "    public void testPalette236ColorForegroundIndex() {"], [1398, "        assertEquals(\"\\u001B[38;5;45mabc\\u001B[39m\\u001B[0m\", Help.Ansi.ON.new Text(\"@|fg(45) abc|@\").toString());"], [1399, "    }"], [1400, ""], [1401, "    @Test"], [1402, "    public void testPalette236ColorForegroundRgb() {"], [1403, "        int num = 16 + 36 * 5 + 6 * 5 + 5;"], [1404, "        assertEquals(\"\\u001B[38;5;\" + num + \"mabc\\u001B[39m\\u001B[0m\", Help.Ansi.ON.new Text(\"@|fg(5;5;5) abc|@\").toString());"], [1405, "    }"], [1406, ""], [1407, "    @Test"], [1408, "    public void testPalette236ColorBackgroundIndex() {"], [1409, "        assertEquals(\"\\u001B[48;5;77mabc\\u001B[49m\\u001B[0m\", Help.Ansi.ON.new Text(\"@|bg(77) abc|@\").toString());"], [1410, "    }"], [1411, ""], [1412, "    @Test"], [1413, "    public void testPalette236ColorBackgroundRgb() {"], [1414, "        int num = 16 + 36 * 3 + 6 * 3 + 3;"], [1415, "        assertEquals(\"\\u001B[48;5;\" + num + \"mabc\\u001B[49m\\u001B[0m\", Help.Ansi.ON.new Text(\"@|bg(3;3;3) abc|@\").toString());"], [1416, "    }"], [1417, ""], [1418, "    @Test"], [1419, "    public void testAnsiEnabled() {"], [1420, "        assertTrue(Help.Ansi.ON.enabled());"], [1421, "        assertFalse(Help.Ansi.OFF.enabled());"], [1422, ""], [1423, "        System.setProperty(\"picocli.ansi\", \"true\");"], [1424, "        assertEquals(true, Help.Ansi.AUTO.enabled());"], [1425, ""], [1426, "        System.setProperty(\"picocli.ansi\", \"false\");"], [1427, "        assertEquals(false, Help.Ansi.AUTO.enabled());"], [1428, ""], [1429, "        System.clearProperty(\"picocli.ansi\");"], [1430, "        boolean isWindows = System.getProperty(\"os.name\").startsWith(\"Windows\");"], [1431, "        boolean isXterm   = System.getenv(\"TERM\") != null && System.getenv(\"TERM\").startsWith(\"xterm\");"], [1432, "        boolean isAtty    = (isWindows && isXterm) // cygwin pseudo-tty"], [1433, "                          || hasConsole();"], [1434, "        assertEquals(isAtty && (!isWindows || isXterm), Help.Ansi.AUTO.enabled());"], [1435, "    }"], [1436, ""], [1437, "    private boolean hasConsole() {"], [1438, "        try { return System.class.getDeclaredMethod(\"console\").invoke(null) != null; }"], [1439, "        catch (Throwable reflectionFailed) { return true; }"], [1440, "    }"], [1441, ""], [1442, "    @Test"]], "deleted": [[1368, "    public void testAdjacentStyles() {"]]}, "num_lines_added": 70, "num_lines_removed": 1}