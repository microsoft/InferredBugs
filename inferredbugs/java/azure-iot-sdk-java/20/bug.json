{"bug_class": "PROVER", "kind": "ERROR", "bug_type": "THREAD_SAFETY_VIOLATION", "qualifier": "Read/Write race. Non-private method `samples.com.microsoft.azure.sdk.iot.DeviceClientManager.disconnect` indirectly reads without synchronization from `this.samples.com.microsoft.azure.sdk.iot.DeviceClientManager.client.com.microsoft.azure.sdk.iot.device.InternalClient.deviceIO.com.microsoft.azure.sdk.iot.device.DeviceIO.taskScheduler`. Potentially races with write in method `DeviceClientManager.reconnect()`.\n Reporting because another access to the same memory occurs on a background thread, although this access may not.", "severity": "HIGH", "visibility": "user", "line": 64, "column": -1, "procedure": "void DeviceClientManager.disconnect()", "procedure_id": "samples.com.microsoft.azure.sdk.iot.DeviceClientManager.disconnect():void.65bc8a1e4653ac4a54749a5b01a8f5db", "procedure_start_line": 63, "file": "device/iot-device-samples/device-reconnection-sample/src/main/java/samples/com/microsoft/azure/sdk/iot/DeviceClientManager.java", "bug_trace": [{"level": 0, "filename": "device/iot-device-samples/device-reconnection-sample/src/main/java/samples/com/microsoft/azure/sdk/iot/DeviceClientManager.java", "line_number": 64, "column_number": -1, "description": "<Read trace>"}, {"level": 0, "filename": "device/iot-device-samples/device-reconnection-sample/src/main/java/samples/com/microsoft/azure/sdk/iot/DeviceClientManager.java", "line_number": 64, "column_number": -1, "description": "call to void DeviceClient.closeNow()"}, {"level": 1, "filename": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/DeviceClient.java", "line_number": 405, "column_number": -1, "description": "call to void InternalClient.closeNow()"}, {"level": 2, "filename": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/InternalClient.java", "line_number": 150, "column_number": -1, "description": "call to void DeviceIO.close()"}, {"level": 3, "filename": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/DeviceIO.java", "line_number": 220, "column_number": -1, "description": "access to `this.com.microsoft.azure.sdk.iot.device.DeviceIO.taskScheduler`"}, {"level": 0, "filename": "device/iot-device-samples/device-reconnection-sample/src/main/java/samples/com/microsoft/azure/sdk/iot/DeviceClientManager.java", "line_number": 55, "column_number": -1, "description": "<Write trace>"}, {"level": 0, "filename": "device/iot-device-samples/device-reconnection-sample/src/main/java/samples/com/microsoft/azure/sdk/iot/DeviceClientManager.java", "line_number": 55, "column_number": -1, "description": "call to void DeviceClientManager.connect()"}, {"level": 1, "filename": "device/iot-device-samples/device-reconnection-sample/src/main/java/samples/com/microsoft/azure/sdk/iot/DeviceClientManager.java", "line_number": 27, "column_number": -1, "description": "call to void DeviceClient.open()"}, {"level": 2, "filename": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/DeviceClient.java", "line_number": 334, "column_number": -1, "description": "call to void InternalClient.open()"}, {"level": 3, "filename": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/InternalClient.java", "line_number": 133, "column_number": -1, "description": "call to void DeviceIO.open()"}, {"level": 4, "filename": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/DeviceIO.java", "line_number": 167, "column_number": -1, "description": "call to void DeviceIO.commonOpenSetup()"}, {"level": 5, "filename": "device/iot-device-client/src/main/java/com/microsoft/azure/sdk/iot/device/DeviceIO.java", "line_number": 193, "column_number": -1, "description": "access to `this.com.microsoft.azure.sdk.iot.device.DeviceIO.taskScheduler`"}], "key": "DeviceClientManager.java|disconnect|THREAD_SAFETY_VIOLATION", "node_key": "9c5d6d9028928346cc4fb44cced5dea1", "hash": "24ac297c959c5048ecd1f29afcfccafc", "bug_type_hum": "Thread Safety Violation", "censored_reason": ""}