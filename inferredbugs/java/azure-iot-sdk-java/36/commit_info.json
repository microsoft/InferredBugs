{"hash": "7ea6d7fe20fbe632613eac2a9b65ba602c154197", "message": "fix(iot-dev): fix issue where edgelet hsm requests did not support http (#921)\n\nSome edgelet uris are http requests to localhosts, so the SDK needs to support that.\r\n\r\nissue #914", "file_num_lines": 163, "diff_parsed": {"added": [[97, "        return send(true);"], [98, "    }"], [99, ""], [100, "    /**"], [101, "     * Executes the HTTPS request as an HTTP request. This method should only be called when a user supplied"], [102, "     * url contains HTTP rather than HTTPS. Currently, this only happens from the {@link com.microsoft.azure.sdk.iot.device.hsm.HttpsHsmClient}"], [103, "     * for some edge workload urls."], [104, "     *"], [105, "     * @return an HTTPS response."], [106, "     *"], [107, "     * @throws TransportException if the connection could not be established, or the"], [108, "     * input/output streams could not be accessed."], [109, "     */"], [110, "    public HttpsResponse sendAsHttpRequest() throws TransportException"], [111, "    {"], [112, "        return send(false);"], [113, "    }"], [114, ""], [115, "    /**"], [116, "     * Executes the HTTPS request."], [117, "     *"], [118, "     * @param isHttps if true, the request will be sent as an HTTPS request. Otherwise it will be sent as an Http request"], [119, "     * @return an HTTPS response."], [120, "     *"], [121, "     * @throws TransportException if the connection could not be established, or the"], [122, "     * input/output streams could not be accessed."], [123, "     */"], [124, "    private HttpsResponse send(boolean isHttps) throws TransportException"], [125, "    {"], [131, "        HttpsConnection connection = new HttpsConnection(url, method, this.proxySettings, isHttps);"], [143, "        if (this.sslContext != null && isHttps)"]], "deleted": [[102, "        HttpsConnection connection = new HttpsConnection(url, method, this.proxySettings);"], [114, "        if (this.sslContext != null)"]]}, "num_lines_added": 31, "num_lines_removed": 2}