{"hash": "491f13b4de02f46007a1338595ff47ce565362df", "message": "Support more timestamps for migration", "file_num_lines": 330, "diff_parsed": {"added": [[47, "import java.time.LocalDateTime;"], [48, "import java.time.ZoneOffset;"], [49, "import java.time.format.DateTimeFormatter;"], [64, "    protected static final DateTimeFormatter DATE_TIME_FORMATTER1 = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSS\");"], [65, "    protected static final DateTimeFormatter DATE_TIME_FORMATTER2 = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");"], [66, "    protected static final DateTimeFormatter DATE_TIME_FORMATTER3 = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSSXXX\");"], [143, "            entity.setTime(timestampToInstant(oldDownloads.getString(\"time\")));"], [185, "            entity.setTime(timestampToInstant(oldIndexerApiAccesses.getString(\"time\")));"], [311, ""], [312, "                Instant time;"], [313, "                String timeString = oldSearches.getString(\"time\");"], [314, "                time = timestampToInstant(timeString);"], [315, "                entity.setTime(time);"], [336, "    private Instant timestampToInstant(String timeString) {"], [337, "        Instant time;"], [338, "        if (timeString.contains(\"+\")) {"], [339, "            time = LocalDateTime.parse(timeString, DATE_TIME_FORMATTER3).toInstant(ZoneOffset.UTC);"], [340, "        }"], [341, "        else if (timeString.contains(\".\")) {"], [342, "            time = LocalDateTime.parse(timeString, DATE_TIME_FORMATTER1).toInstant(ZoneOffset.UTC);"], [343, "        } else {"], [344, "            time = LocalDateTime.parse(timeString, DATE_TIME_FORMATTER2).toInstant(ZoneOffset.UTC);"], [345, "        }"], [346, "        return time;"], [347, "    }"], [348, ""]], "deleted": [[137, "            entity.setTime(oldDownloads.getTimestamp(\"time\").toInstant());"], [179, "            entity.setTime(oldIndexerApiAccesses.getTimestamp(\"time\").toInstant());"], [305, "                entity.setTime(oldSearches.getTimestamp(\"time\").toInstant());"]]}, "num_lines_added": 26, "num_lines_removed": 3}