{"hash": "246036f2947542ef75c706107b4873d139076034", "message": "#17: Refactor/Extract SocketUserManager from SocketChannelManager.", "file_num_lines": 55, "diff_parsed": {"added": [[57, "\tprivate SocketSessionManager sessionManager;"], [58, "\tprivate SocketUserManager userManager;"], [59, ""], [67, "\tSocketPushContext(String channel, SocketSessionManager sessionManager, SocketUserManager userManager) {"], [72, "\t\tthis.sessionManager = sessionManager;"], [73, "\t\tthis.userManager = userManager;"], [93, "\t\t\tSet<String> userChannelIds = userManager.getUserChannelIds(user, channel);"], [97, "\t\t\t\tresults.addAll(sessionManager.send(channelId, message));"]], "deleted": [[19, "import static org.omnifaces.cdi.push.SocketChannelManager.getUserChannelIds;"], [65, "\tSocketPushContext(String channel) {"], [86, "\t\tSocketSessionManager manager = SocketSessionManager.getInstance();"], [90, "\t\t\tSet<String> userChannelIds = getUserChannelIds(user, channel);"], [94, "\t\t\t\tresults.addAll(manager.send(channelId, message));"]]}, "num_lines_added": 8, "num_lines_removed": 5}