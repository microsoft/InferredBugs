{"hash": "e65d3aa8a3461e367386da0101ed0dd48b1eb15b", "message": "#1070 CR", "file_num_lines": 58, "diff_parsed": {"added": [[29, "import org.takes.HttpException;"], [56, "     * Bot to use."], [57, "     */"], [58, "    private final VbBot bot;"], [59, ""], [60, "    /**"], [63, "     * @param bot Viber bot"], [65, "    public TkViber(final Farm farm, final VbBot bot) {"], [66, "        this(farm, bot, new ReProfile());"], [72, "     * @param bot Viber bot"], [75, "    TkViber(final Farm farm, final VbBot bot, final Reaction react) {"], [78, "        this.bot = bot;"], [83, "        final JsonObject callback = TkViber.json("], [86, "        if (callback.isEmpty()) {"], [87, "            throw new HttpException(HttpURLConnection.HTTP_BAD_REQUEST);"], [89, "        if (callback.getString(\"event\").equals(\"message\")) {"], [91, "                this.bot, this.farm, new VbEvent.Simple(callback)"]], "deleted": [[20, "import com.zerocracy.Par;"], [21, "import com.zerocracy.tk.RsParFlash;"], [27, "import java.util.Objects;"], [28, "import java.util.logging.Level;"], [36, "import org.takes.facets.forward.RsForward;"], [63, "    public TkViber(final Farm farm) {"], [64, "        this(farm, new ReProfile());"], [72, "    TkViber(final Farm farm, final Reaction react) {"], [79, "        final JsonObject json = TkViber.json("], [82, "        if (json.isEmpty()) {"], [83, "            throw new RsForward("], [84, "                new RsParFlash("], [85, "                    new Par("], [86, "                        \"We expect this URL to be called by Viber\","], [87, "                        \"with JSON as body of the request\""], [88, "                    ).say(),"], [89, "                    Level.WARNING"], [90, "                )"], [91, "            );"], [93, "        if (Objects.equals(json.getString(\"event\"), \"message\")) {"], [95, "                new VbBot(), this.farm, new VbEvent.Simple(json)"]]}, "num_lines_added": 17, "num_lines_removed": 21}