{"hash": "b0526573c37bc285d41b13482e6a1b65eebe6018", "message": "- We now avoid touching files that do not need converting to SLF4J.\n- All tests pass", "file_num_lines": 72, "diff_parsed": {"added": [[8, "import java.io.FileOutputStream;"], [11, "import java.io.OutputStream;"], [15, "import org.slf4j.converter.line.RuleSet;"], [23, "  InplaceFileConverter(RuleSet ruleSet) {"], [24, "    this.lineConverter = new LineConverter(ruleSet);"], [28, "  private byte[] readIntoByteArray(File file) throws IOException {"], [39, "  }"], [40, ""], [41, "  void convert(File file) throws IOException {"], [42, "    byte[] originalBytes = readIntoByteArray(file);"], [43, "    byte[] convertedBytes = convertIntoTempByteArray(originalBytes);"], [44, "    if (lineConverter.atLeastOneMatchOccured()) {"], [45, "      System.out.println(\"Converting [\"+file+\"]\");"], [46, "      writeConvertedBytesIntoFile(file, convertedBytes);"], [47, "    } else {"], [48, "      System.out.println(\"Not replacing [\"+file+\"]\");"], [49, "    }"], [50, "  }"], [52, "  private void writeConvertedBytesIntoFile(File file, byte[] convertedBytes) throws IOException {"], [53, "    FileOutputStream fos = new FileOutputStream(file);"], [54, "    fos.write(convertedBytes);"], [55, "    fos.flush();"], [56, "    fos.close();"], [59, "  private byte[] convertIntoTempByteArray(byte[] input) throws IOException {"], [63, "    ByteArrayOutputStream baos = new ByteArrayOutputStream();"], [68, "        writeReplacement(baos, replacement);"], [73, "    return baos.toByteArray();"], [76, "  private  void writeReplacement(OutputStream os, String[] replacement)"], [77, "      throws IOException {"], [79, "      os.write(replacement[i].getBytes());"], [80, "      os.write(lineTerminator.getBytes());"]], "deleted": [[8, "import java.io.FileWriter;"], [12, "import java.io.Writer;"], [22, "  InplaceFileConverter(LineConverter lineConverter) {"], [23, "    this.lineConverter = lineConverter;"], [27, "  byte[] readFile(File file) throws IOException {"], [41, "  void convert(File file, byte[] input) throws IOException {"], [45, "    FileWriter fileWriter = new FileWriter(file);"], [50, "        writeReplacement(fileWriter, replacement);"], [52, "        fileWriter.close();"], [58, "  void writeReplacement(Writer writer, String[] replacement) throws IOException {"], [60, "      writer.write(replacement[i]);"], [61, "      writer.write(lineTerminator);"]]}, "num_lines_added": 31, "num_lines_removed": 12}