{"hash": "f270c8373b51c1faba70fe99111ad87595640e9d", "message": "Allow using https for the Rest client\n\nThis commit allows changing the protocol used to connect to Elasticsearch nodes over REST:\n\n```xml\n<elasticsearch:rest-client id=\"esClient\"\n                           esNodes=\"http://localhost:9200,http://localhost:9201\" />\n```\n\nCloses #152.", "file_num_lines": 245, "diff_parsed": {"added": [[525, "\tprivate String[] esNodes =  { \"http://localhost:9200\" };"], [529, "\t * <br>use : protocol://hostname:port form"], [535, "\t *   <value>http://localhost:9200</value>"], [536, "\t *   <value>http://localhost:9201</value>"], [541, "\t * If not set, default to [ \"http://localhost:9200\" ]."], [552, "            hosts.add(HttpHost.create(esNode));"]], "deleted": [[25, "import fr.pilato.spring.elasticsearch.util.Tuple;"], [43, "import java.net.UnknownHostException;"], [527, "\tprivate String[] esNodes =  { \"localhost:9200\" };"], [531, "\t * <br>use : hostname:port form"], [537, "\t *   <value>localhost:9200</value>"], [538, "\t *   <value>localhost:9201</value>"], [543, "\t * If not set, default to [ \"localhost:9200\" ]."], [554, "            Tuple<String, Integer> addressPort = toAddress(esNode);"], [555, "            hosts.add(new HttpHost(addressPort.v1(), addressPort.v2(), \"http\"));"], [580, ""], [581, "\t/**"], [582, "\t * Helper to define an hostname and port with a String like hostname:port"], [583, "\t * @param address Node address hostname:port (or hostname)"], [584, "\t */"], [585, "\tprivate Tuple<String, Integer> toAddress(String address) throws UnknownHostException {"], [586, "\t\tif (address == null) return null;"], [587, ""], [588, "\t\tString[] splitted = address.split(\":\");"], [589, "\t\tint port = 9200;"], [590, "\t\tif (splitted.length > 1) {"], [591, "\t\t\tport = Integer.parseInt(splitted[1]);"], [592, "\t\t}"], [593, ""], [594, "\t\treturn new Tuple<>(splitted[0], port);"], [595, "\t}"], [596, ""]]}, "num_lines_added": 6, "num_lines_removed": 26}