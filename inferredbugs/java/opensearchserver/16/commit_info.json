{"hash": "825f4fc6ca293ff3dcd1e9fb5a415ef9c4e43098", "message": "web crawler is working", "file_num_lines": 536, "diff_parsed": {"added": [[113, "\tprivate Client urlDbClient;"], [115, "\tprivate Client targetClient;"], [116, ""], [117, "\tpublic UrlManager(Client client, File dataDir) throws SearchLibException,"], [122, "\t\tthis.urlDbClient = new Client(dataDir, \"/url_config.xml\", true);"], [123, "\t\ttargetClient = client;"], [126, "\tpublic Client getUrlDbClient() {"], [127, "\t\treturn urlDbClient;"], [144, "\t\t\ttargetClient.deleteDocument(sUrl);"], [145, "\t\t\turlDbClient.deleteDocument(sUrl);"], [166, "\t\t\ttargetClient.deleteDocuments(workDeleteUrlList);"], [167, "\t\t\turlDbClient.deleteDocuments(workDeleteUrlList);"], [203, "\t\t\t\turlDbClient.updateDocuments(injectList);"], [212, "\t\t\t\t\turlDbClient.reload(null);"], [256, "\t\tResult result = urlDbClient.search(searchRequest);"], [276, "\t\tSearchRequest searchRequest = urlDbClient.getNewSearchRequest();"], [284, "\t\tSearchRequest searchRequest = urlDbClient.getNewSearchRequest();"], [331, "\t\tSearchRequest searchRequest = urlDbClient.getNewSearchRequest(field"], [344, "\t\tSearchRequest searchRequest = urlDbClient"], [345, "\t\t\t\t.getNewSearchRequest(\"urlSearch\");"], [351, "\t\tResult result = urlDbClient.search(searchRequest);"], [361, "\t\tSearchRequest searchRequest = urlDbClient"], [362, "\t\t\t\t.getNewSearchRequest(\"urlSearch\");"], [368, "\t\tResult result = urlDbClient.search(searchRequest);"], [382, "\t\t\tSearchRequest searchRequest = urlDbClient"], [490, "\t\t\tResult result = urlDbClient.search(searchRequest);"], [520, "\t\t\turlDbClient.reload(null);"], [521, "\t\t\turlDbClient.getIndex().optimize(null);"], [522, "\t\t\ttargetClient.reload(null);"], [523, "\t\t\ttargetClient.getIndex().optimize(null);"], [525, "\t\turlDbClient.reload(null);"], [526, "\t\ttargetClient.reload(null);"], [529, "\tpublic void updateUrlItem(UrlItem urlItem) throws SearchLibException {"], [533, "\t\t\turlDbClient.updateDocument(indexDocument);"], [551, "\t\t\t// Update target index"], [555, "\t\t\t\tIndexDocument indexDocument = crawl.getTargetIndexDocument();"], [556, "\t\t\t\tdocuments.add(indexDocument);"], [557, "\t\t\t}"], [558, "\t\t\ttargetClient.updateDocuments(documents);"], [559, ""], [560, "\t\t\t// Update URL DB"], [561, "\t\t\tdocuments.clear();"], [562, "\t\t\tfor (Crawl crawl : crawls) {"], [567, "\t\t\turlDbClient.updateDocuments(documents);"], [568, ""], [594, "\t\t\turlDbClient.updateDocuments(documents);"]], "deleted": [[113, "\tprivate Client client;"], [115, "\tpublic UrlManager(File dataDir) throws SearchLibException,"], [120, "\t\tthis.client = new Client(dataDir, \"/url_config.xml\", true);"], [123, "\tpublic Client getClient() {"], [124, "\t\treturn client;"], [141, "\t\t\tclient.deleteDocument(sUrl);"], [162, "\t\t\tclient.deleteDocuments(workDeleteUrlList);"], [198, "\t\t\t\tclient.updateDocuments(injectList);"], [207, "\t\t\t\t\tclient.reload(null);"], [251, "\t\tResult result = client.search(searchRequest);"], [271, "\t\tSearchRequest searchRequest = client.getNewSearchRequest();"], [279, "\t\tSearchRequest searchRequest = client.getNewSearchRequest();"], [326, "\t\tSearchRequest searchRequest = client.getNewSearchRequest(field"], [339, "\t\tSearchRequest searchRequest = client.getNewSearchRequest(\"urlSearch\");"], [345, "\t\tResult result = client.search(searchRequest);"], [355, "\t\tSearchRequest searchRequest = client.getNewSearchRequest(\"urlSearch\");"], [361, "\t\tResult result = client.search(searchRequest);"], [375, "\t\t\tSearchRequest searchRequest = client"], [483, "\t\t\tResult result = client.search(searchRequest);"], [513, "\t\t\tclient.reload(null);"], [514, "\t\t\tclient.getIndex().optimize(null);"], [516, "\t\tclient.reload(null);"], [519, "\tpublic void updateDocument(UrlItem urlItem) throws SearchLibException {"], [523, "\t\t\tclient.updateDocument(indexDocument);"], [548, "\t\t\tclient.updateDocuments(documents);"], [574, "\t\t\tclient.updateDocuments(documents);"]]}, "num_lines_added": 46, "num_lines_removed": 26}