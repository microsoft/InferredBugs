{"hash": "6265ee201cda2f6edf2ea667c010308cb244260f", "message": "update to v1.0.20 \u5b8c\u5584\u65e5\u5fd7\u8bb0\u5f55\u673a\u5236", "file_num_lines": 328, "diff_parsed": {"added": [[6, "import kohgylw.kiftd.printer.Printer;"], [10, "import java.util.concurrent.Executor;"], [11, "import java.util.concurrent.Executors;"], [12, ""], [27, "\tprivate Executor writerThread;"], [28, ""], [35, "\t\twriterThread = Executors.newSingleThreadExecutor();"], [225, ""], [229, "\t * <p>"], [230, "\t * \u8be6\u7ec6\u63cf\u8ff0"], [231, "\t * </p>"], [232, "\t *"], [234, "\t * @param xxx"], [235, "\t *            \u53c2\u6570\u63cf\u8ff0"], [247, "\t\t\t\tString content = \">OPERATE [Download file By Shared URL]\\r\\n>PATH [\" + pl + folder.getFolderName()"], [248, "\t\t\t\t\t\t+ \"]\\r\\n>NAME [\" + f.getFileName() + \"]\";"], [254, ""], [258, "\t * <p>"], [259, "\t * \u5f53\u7528\u6237\u8bd5\u56fe\u83b7\u53d6\u4e00\u4e2a\u8d44\u6e90\u7684\u4e0b\u8f7d\u94fe\u63a5\u65f6\uff0c\u8bb0\u5f55\u6b64\u4e8b\u4ef6\u3002"], [260, "\t * </p>"], [261, "\t *"], [374, "\t\twriterThread.execute(()->{"], [375, "\t\t\tString t = ServerTimeUtil.accurateToLogName();"], [376, "\t\t\tFile f = new File(logs, t + \".klog\");"], [377, "\t\t\tFileWriter fw = null;"], [378, "\t\t\tif (f.exists()) {"], [379, "\t\t\t\ttry {"], [380, "\t\t\t\t\tfw = new FileWriter(f, true);"], [381, "\t\t\t\t\tfw.write(\"\\r\\n\\r\\nTIME:\\r\\n\" + ServerTimeUtil.accurateToSecond() + \"\\r\\nTYPE:\\r\\n\" + type"], [382, "\t\t\t\t\t\t\t+ \"\\r\\nCONTENT:\\r\\n\" + content);"], [383, "\t\t\t\t\tfw.close();"], [384, "\t\t\t\t} catch (Exception e1) {"], [385, "\t\t\t\t\tif (Printer.instance != null) {"], [386, "\t\t\t\t\t\tPrinter.instance.print(\"KohgylwIFT:[Log]Cannt write to file,message:\" + e1.getMessage());"], [387, "\t\t\t\t\t} else {"], [388, "\t\t\t\t\t\tSystem.out.println(\"KohgylwIFT:[Log]Cannt write to file,message:\" + e1.getMessage());"], [389, "\t\t\t\t\t}"], [390, "\t\t\t\t}"], [391, "\t\t\t} else {"], [392, "\t\t\t\ttry {"], [393, "\t\t\t\t\tfw = new FileWriter(f, false);"], [394, "\t\t\t\t\tfw.write(\"TIME:\\r\\n\" + ServerTimeUtil.accurateToSecond() + \"\\r\\nTYPE:\\r\\n\" + type + \"\\r\\nCONTENT:\\r\\n\""], [395, "\t\t\t\t\t\t\t+ content);"], [396, "\t\t\t\t\tfw.close();"], [397, "\t\t\t\t} catch (IOException e1) {"], [398, "\t\t\t\t\tif (Printer.instance != null) {"], [399, "\t\t\t\t\t\tPrinter.instance.print(\"KohgylwIFT:[Log]Cannt write to file,message:\" + e1.getMessage());"], [400, "\t\t\t\t\t} else {"], [401, "\t\t\t\t\t\tSystem.out.println(\"KohgylwIFT:[Log]Cannt write to file,message:\" + e1.getMessage());"], [402, "\t\t\t\t\t}"], [403, "\t\t\t\t}"], [405, "\t\t});"]], "deleted": [[218, ""], [222, "\t * <p>\u8be6\u7ec6\u63cf\u8ff0</p>"], [224, "\t * @param xxx \u53c2\u6570\u63cf\u8ff0"], [236, "\t\t\t\tString content = \">OPERATE [Download file By Shared URL]\\r\\n>PATH [\" + pl"], [237, "\t\t\t\t\t\t+ folder.getFolderName() + \"]\\r\\n>NAME [\" + f.getFileName() + \"]\";"], [243, ""], [247, "\t * <p>\u5f53\u7528\u6237\u8bd5\u56fe\u83b7\u53d6\u4e00\u4e2a\u8d44\u6e90\u7684\u4e0b\u8f7d\u94fe\u63a5\u65f6\uff0c\u8bb0\u5f55\u6b64\u4e8b\u4ef6\u3002</p>"], [360, "\t\tString t = ServerTimeUtil.accurateToLogName();"], [361, "\t\tFile f = new File(logs, t + \".klog\");"], [362, "\t\tFileWriter fw = null;"], [363, "\t\tif (f.exists()) {"], [364, "\t\t\ttry {"], [365, "\t\t\t\tfw = new FileWriter(f, true);"], [366, "\t\t\t\tfw.write(\"\\r\\n\\r\\nTIME:\\r\\n\" + ServerTimeUtil.accurateToSecond() + \"\\r\\nTYPE:\\r\\n\" + type"], [367, "\t\t\t\t\t\t+ \"\\r\\nCONTENT:\\r\\n\" + content);"], [368, "\t\t\t\tfw.close();"], [369, "\t\t\t} catch (Exception e1) {"], [370, "\t\t\t\tSystem.out.println(\"KohgylwIFT:[Log]Cannt write to file,message:\" + e1.getMessage());"], [371, "\t\t\t}"], [372, "\t\t} else {"], [373, "\t\t\ttry {"], [374, "\t\t\t\tfw = new FileWriter(f, false);"], [375, "\t\t\t\tfw.write(\"TIME:\\r\\n\" + ServerTimeUtil.accurateToSecond() + \"\\r\\nTYPE:\\r\\n\" + type + \"\\r\\nCONTENT:\\r\\n\""], [376, "\t\t\t\t\t\t+ content);"], [377, "\t\t\t\tfw.close();"], [378, "\t\t\t} catch (IOException e1) {"], [379, "\t\t\t\tSystem.out.println(\"KohgylwIFT:[Log]Cannt write to file,message:\" + e1.getMessage());"], [381, "\t\t}"]]}, "num_lines_added": 52, "num_lines_removed": 28}