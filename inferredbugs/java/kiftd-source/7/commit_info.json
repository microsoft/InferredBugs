{"hash": "547eecad9c6d6b51c49e9cec093515f8d95b9f48", "message": "update to v1.0.17 \u7ee7\u7eed\u4f18\u5316\u4e0a\u4f20\u5224\u5b9a\u673a\u5236", "file_num_lines": 585, "diff_parsed": {"added": [[87, "\t\tCookie c = new Cookie(KIFTD_UPLOAD_KEY, key);// \u4e3a\u5ba2\u6237\u7aef\u5206\u53d1\u4e00\u628a\u94a5\u5319\uff0c\u8be5\u94a5\u5319\u4ec5\u6709\u6548\u4e00\u6b21\uff0c\u4f46\u4e0d\u9650\u65f6\u957f\u3002"], [110, "\t\tfor (Cookie c : request.getCookies()) {"], [111, "\t\t\tif (KIFTD_UPLOAD_KEY.equals(c.getName())) {"], [112, "\t\t\t\tsynchronized (keyList) {"], [113, "\t\t\t\t\tif (keyList.contains(c.getValue())) {// \u6bd4\u5bf9\u94a5\u5319\u6709\u6548\u6027"], [114, "\t\t\t\t\t\tisUpload = true;"], [115, "\t\t\t\t\t\tkeyList.remove(c.getValue());// \u9500\u6bc1\u8fd9\u628a\u94a5\u5319"], [116, "\t\t\t\t\t\t c.setMaxAge(0);"], [117, "\t\t\t\t\t\t response.addCookie(c);"], [118, "\t\t\t\t\t} else {"], [119, "\t\t\t\t\t\treturn UPLOADERROR;"]], "deleted": [[87, "\t\tCookie c = new Cookie(KIFTD_UPLOAD_KEY, key);//\u4e3a\u5ba2\u6237\u7aef\u5206\u53d1\u4e00\u628a\u94a5\u5319\uff0c\u8be5\u94a5\u5319\u4ec5\u6709\u6548\u4e00\u6b21\uff0c\u4f46\u4e0d\u9650\u65f6\u957f\u3002"], [110, "\t\tif (!ConfigureReader.instance().authorized(account, AccountAuth.UPLOAD_FILES)) {"], [111, "\t\t\tfor (Cookie c : request.getCookies()) {"], [112, "\t\t\t\tif (KIFTD_UPLOAD_KEY.equals(c.getName())) {"], [113, "\t\t\t\t\tsynchronized (keyList) {"], [114, "\t\t\t\t\t\tif (keyList.contains(c.getValue())) {//\u6bd4\u5bf9\u94a5\u5319\u6709\u6548\u6027"], [115, "\t\t\t\t\t\t\tisUpload = true;"], [116, "\t\t\t\t\t\t\tkeyList.remove(c.getValue());//\u9500\u6bc1\u8fd9\u628a\u94a5\u5319"], [117, "\t\t\t\t\t\t\tc.setMaxAge(0);"], [118, "\t\t\t\t\t\t\tresponse.addCookie(c);"], [119, "\t\t\t\t\t\t} else {"], [120, "\t\t\t\t\t\t\treturn UPLOADERROR;"], [121, "\t\t\t\t\t\t}"]]}, "num_lines_added": 11, "num_lines_removed": 13}