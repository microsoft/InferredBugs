{"hash": "7f9bd6477348e5c4b10b06703fa8b3a878ac9045", "message": "We can now deal with multiple Track Run Boxes in a single Track Fragment as used in Adobe Premiere encoded files\n\ngit-svn-id: https://mp4parser.googlecode.com/svn/trunk/isoparser@286 7decde4b-c250-0410-a0da-51896bc88be6", "file_num_lines": 118, "diff_parsed": {"added": [[5, "import com.coremedia.iso.boxes.*;"], [58, ""], [59, "                for (TrackRunBox trun: trackFragmentBox.getBoxes(TrackRunBox.class)) {"], [60, "                    long sampleBaseOffset = baseDataOffset + trun.getDataOffset();"], [61, "                    long[] sampleOffsets = trun.getSampleOffsets();"], [62, "                    long[] sampleSizes = trun.getSampleSizes();"], [63, "                    for (int i = 0; i < sampleSizes.length; i++) {"], [64, "                        offsets2Sizes.put(sampleOffsets[i] + sampleBaseOffset, sampleSizes[i]);"], [65, "                    }"]], "deleted": [[5, "import com.coremedia.iso.boxes.ChunkOffsetBox;"], [6, "import com.coremedia.iso.boxes.SampleSizeBox;"], [7, "import com.coremedia.iso.boxes.SampleTableBox;"], [8, "import com.coremedia.iso.boxes.SampleToChunkBox;"], [9, "import com.coremedia.iso.boxes.TrackBox;"], [54, "        assert traf.size() == 1 : \"I cannot deal with movie fragments containing more than one track fragment\";"], [63, "                TrackRunBox trun = trackFragmentBox.getTrackRunBox();"], [64, "                long sampleBaseOffset = baseDataOffset + trun.getDataOffset();"], [65, "                long[] sampleOffsets = trun.getSampleOffsets();"], [66, "                long[] sampleSizes = trun.getSampleSizes();"], [67, "                for (int i = 0; i < sampleSizes.length; i++) {"], [68, "                    offsets2Sizes.put(sampleOffsets[i] + sampleBaseOffset, sampleSizes[i]);"]]}, "num_lines_added": 9, "num_lines_removed": 12}