{"hash": "5a9745a17e6d228e00090d6bbcfa5726322c774f", "message": "Using non-static loggers;\nOSGi compatible class and resource loading;\ncloses #84", "file_num_lines": 132, "diff_parsed": {"added": [[51, "  private final Logger log = LoggerFactory.getLogger(DozerInitializer.class);"], [68, "    // Multiple threads may try to initialize simultaneously"], [98, "    registerClassLoader(globalSettings, classLoader, beanContainer);"], [99, "    registerProxyResolver(globalSettings, beanContainer);"], [113, "  private void registerClassLoader(GlobalSettings globalSettings, ClassLoader classLoader, BeanContainer beanContainer) {"], [114, "    String classLoaderName = globalSettings.getClassLoaderName();"], [115, "    if (!DozerConstants.DEFAULT_CLASS_LOADER_BEAN.equals(classLoaderName)) {"], [116, "      DefaultClassLoader defaultClassLoader = new DefaultClassLoader(classLoader);"], [117, "      Class<? extends DozerClassLoader> classLoaderType = loadBeanType(classLoaderName, defaultClassLoader, DozerClassLoader.class);"], [118, "      DozerClassLoader classLoaderBean = ReflectionUtils.newInstance(classLoaderType);"], [119, "      beanContainer.setClassLoader(classLoaderBean);"], [120, "    }"], [121, "  }"], [122, ""], [123, "  private void registerProxyResolver(GlobalSettings globalSettings, BeanContainer beanContainer) {"], [124, "    String proxyResolverName = globalSettings.getProxyResolverName();"], [125, "    if (!DozerConstants.DEFAULT_PROXY_RESOLVER_BEAN.equals(proxyResolverName)) {"], [126, "      DozerClassLoader initializedClassLoader = beanContainer.getClassLoader();"], [127, "      Class<? extends DozerProxyResolver> proxyResolverType = loadBeanType(proxyResolverName, initializedClassLoader, DozerProxyResolver.class);"], [128, "      DozerProxyResolver proxyResolverBean = ReflectionUtils.newInstance(proxyResolverType);"], [129, "      beanContainer.setProxyResolver(proxyResolverBean);"], [130, "    }"], [131, "  }"], [132, ""]], "deleted": [[51, "  private static final Logger log = LoggerFactory.getLogger(DozerInitializer.class);"], [68, "    // Multiple threads may try to initialize simultaniously"], [96, "    String classLoaderName = globalSettings.getClassLoaderName();"], [97, "    String proxyResolverName = globalSettings.getProxyResolverName();"], [98, ""], [99, "    DefaultClassLoader defaultClassLoader = new DefaultClassLoader(classLoader);"], [102, "    Class<? extends DozerClassLoader> classLoaderType = loadBeanType(classLoaderName, defaultClassLoader, DozerClassLoader.class);"], [103, "    Class<? extends DozerProxyResolver> proxyResolverType = loadBeanType(proxyResolverName, defaultClassLoader, DozerProxyResolver.class);"], [104, ""], [105, "    // TODO Chicken-egg problem - investigate"], [106, "//    DozerClassLoader classLoaderBean = ReflectionUtils.newInstance(classLoaderType);"], [107, "    DozerClassLoader classLoaderBean = defaultClassLoader;"], [108, "    DozerProxyResolver proxyResolverBean = ReflectionUtils.newInstance(proxyResolverType);"], [109, ""], [110, "    beanContainer.setClassLoader(classLoaderBean);"], [111, "    beanContainer.setProxyResolver(proxyResolverBean);"]]}, "num_lines_added": 24, "num_lines_removed": 16}