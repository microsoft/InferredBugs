{"hash": "20ed8c3819235dd668e3bb8d8cec18eb3a0970b0", "message": "Code cleanup for Java8", "file_num_lines": 169, "diff_parsed": {"added": [[161, "\t\t\ttaskExecutor.execute(() -> {"], [162, "\t\t\t\tJsrJobContextFactoryBean factoryBean = null;"], [163, "\t\t\t\ttry {"], [164, "\t\t\t\t\tfactoryBean = (JsrJobContextFactoryBean) batchContext.getBean(\"&\" + JSR_JOB_CONTEXT_BEAN_NAME);"], [165, "\t\t\t\t\tfactoryBean.setJobExecution(jobExecution);"], [166, "\t\t\t\t\tfinal AbstractJob job = batchContext.getBean(AbstractJob.class);"], [167, "\t\t\t\t\taddListenerToJobService.addListenerToJob(job);"], [168, "\t\t\t\t\tsemaphore.release();"], [169, "\t\t\t\t\t// Initialization of the JobExecution for job level dependencies"], [170, "\t\t\t\t\tjobRegistry.register(job, jobExecution);"], [171, "\t\t\t\t\tjob.execute(jobExecution);"], [172, "\t\t\t\t\tjobRegistry.remove(jobExecution);"], [173, "\t\t\t\t} catch (Exception e) {"], [174, "\t\t\t\t\texceptionHolder.add(e);"], [175, "\t\t\t\t} finally {"], [176, "\t\t\t\t\tif (factoryBean != null) {"], [177, "\t\t\t\t\t\tfactoryBean.close();"], [178, "\t\t\t\t\t}"], [179, ""], [180, "\t\t\t\t\tbatchContext.close();"], [181, ""], [182, "\t\t\t\t\tif (semaphore.availablePermits() == 0) {"], [189, "\t\t\tif (!exceptionHolder.isEmpty()) {"], [214, "\t\tprivate Map<Long, Job> registry = new ConcurrentHashMap<>();"]], "deleted": [[161, "\t\t\ttaskExecutor.execute(new Runnable() {"], [162, ""], [163, "\t\t\t\t@Override"], [164, "\t\t\t\tpublic void run() {"], [165, "\t\t\t\t\tJsrJobContextFactoryBean factoryBean = null;"], [166, "\t\t\t\t\ttry {"], [167, "\t\t\t\t\t\tfactoryBean = (JsrJobContextFactoryBean) batchContext.getBean(\"&\" + JSR_JOB_CONTEXT_BEAN_NAME);"], [168, "\t\t\t\t\t\tfactoryBean.setJobExecution(jobExecution);"], [169, "\t\t\t\t\t\tfinal AbstractJob job = batchContext.getBean(AbstractJob.class);"], [170, "\t\t\t\t\t\taddListenerToJobService.addListenerToJob(job);"], [172, "\t\t\t\t\t\t// Initialization of the JobExecution for job level dependencies"], [173, "\t\t\t\t\t\tjobRegistry.register(job, jobExecution);"], [174, "\t\t\t\t\t\tjob.execute(jobExecution);"], [175, "\t\t\t\t\t\tjobRegistry.remove(jobExecution);"], [176, "\t\t\t\t\t} catch (Exception e) {"], [177, "\t\t\t\t\t\texceptionHolder.add(e);"], [178, "\t\t\t\t\t} finally {"], [179, "\t\t\t\t\t\tif (factoryBean != null) {"], [180, "\t\t\t\t\t\t\tfactoryBean.close();"], [181, "\t\t\t\t\t\t}"], [182, ""], [183, "\t\t\t\t\t\tbatchContext.close();"], [184, ""], [185, "\t\t\t\t\t\tif (semaphore.availablePermits() == 0) {"], [186, "\t\t\t\t\t\t\tsemaphore.release();"], [187, "\t\t\t\t\t\t}"], [193, "\t\t\tif (exceptionHolder.size() > 0) {"], [218, "\t\tprivate Map<Long, Job> registry = new ConcurrentHashMap<Long, Job>();"]]}, "num_lines_added": 24, "num_lines_removed": 28}