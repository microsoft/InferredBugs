{"hash": "4b0c5aa995263b82392e883165b2dacc59a9cffd", "message": "Close connection if init failed\n\nInit message is send every time we establish a new socket connection. This is\nthe very first thing connection does. It is possible for the init to fail\n(for example when credentials are wrong). Previously socket connection was not\nclosed after such init failure.\n\nThis commit changes `SocketConnector` to close connection on any init failure.", "file_num_lines": 57, "diff_parsed": {"added": [[56, "        try"], [57, "        {"], [58, "            connection.init( connectionSettings.userAgent(), tokenAsMap( connectionSettings.authToken() ) );"], [59, "        }"], [60, "        catch ( Throwable initError )"], [61, "        {"], [62, "            connection.close();"], [63, "            throw initError;"], [64, "        }"], [65, ""]], "deleted": [[56, "        connection.init( connectionSettings.userAgent(), tokenAsMap( connectionSettings.authToken() ) );"]]}, "num_lines_added": 10, "num_lines_removed": 1}