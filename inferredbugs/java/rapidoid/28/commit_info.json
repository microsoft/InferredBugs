{"hash": "81d0eab492b1799fe5eab1f210335f05fbb2a802", "message": "Improved Test Commons.", "file_num_lines": 445, "diff_parsed": {"added": [[42, "\tprotected static final boolean ADJUST_RESULTS = false;"], [383, "\t\tInputStream input = TestCommons.class.getClassLoader().getResourceAsStream(filename);"], [384, "\t\treturn input != null ? readBytes(input) : null;"], [446, "\tprotected void throwsRTE(String errMsg, Runnable code) {"], [447, "\t\ttry {"], [448, "\t\t\tcode.run();"], [449, "\t\t} catch (RuntimeException e) {"], [450, "\t\t\tThrowable err = rootCause(e);"], [451, "\t\t\tisTrue(err.getMessage().equals(errMsg));"], [452, "\t\t\treturn;"], [453, "\t\t}"], [454, "\t\tfail(String.format(\"Expected RuntimeException(%s) to be thrown!\", errMsg));"], [455, "\t}"], [456, ""], [457, "\tprotected void throwsRuntimeExceptionContaining(String errMsgPart, Runnable code) {"], [465, "\t\tfail(String.format(\"Expected RuntimeException(...%s...) to be thrown!\", errMsgPart));"], [538, "\t\t\t\tif (!testDir.mkdirs()) {"], [539, "\t\t\t\t\tthrow new RuntimeException(\"Couldn't create the test result folder: \" + testDir.getAbsolutePath());"], [540, "\t\t\t\t}"], [543, "\t\t\tFileOutputStream out;"]], "deleted": [[42, "\tprotected static final boolean ADJUST_RESULTS = true;"], [383, "\t\ttry {"], [384, "\t\t\tURL res = resource(filename);"], [385, "\t\t\treturn res != null ? readBytes(new FileInputStream(new File(res.getFile()))) : null;"], [386, "\t\t} catch (FileNotFoundException e) {"], [387, "\t\t\tthrow new RuntimeException(e);"], [388, "\t\t}"], [450, "\tprotected void throwsRuntimeException(Runnable code, String errMsgPart) {"], [458, "\t\tfail(\"Expected RuntimeException to be thrown!\");"], [531, "\t\t\t\ttestDir.mkdirs();"], [534, "\t\t\tFileOutputStream out = null;"]]}, "num_lines_added": 20, "num_lines_removed": 11}