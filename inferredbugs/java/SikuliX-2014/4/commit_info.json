{"hash": "c18bde7b0eec2d486f328348e185030722a92f34", "message": "RobotDesktop: competed the usage of the global mouseRobot", "file_num_lines": 271, "diff_parsed": {"added": [[23, " * INTERNAL USE Implementation of IRobot making a DesktopRobot using java.awt.Robot"], [30, "  private static final ArrayList<Integer> heldKeyCodes = new ArrayList<Integer>();"], [58, "      checkMousePos(dest);"], [65, "    float x = 0, y = 0;"], [67, "      x = aniX.step();"], [68, "      y = aniY.step();"], [71, "    checkMousePos(new Location((int) x, (int) y));"], [74, "  private void checkMousePos(Location p) {"], [78, "      Debug.error(\"RobotDesktop: MouseInfo.getPointerInfo invalid after mouseMove to %s\", p);"], [82, "        Debug.error(\"RobotDesktop: MouseInfo.getPointerInfo.getLocation reports %s after mouseMove to %s\","], [83, "                new Location(pc), p);"], [96, "    Screen.getMouseRobot().mousePress(heldButtons);"], [97, "    Screen.getMouseRobot().waitForIdle();"], [103, "      Screen.getMouseRobot().mouseRelease(heldButtons);"], [106, "      Screen.getMouseRobot().mouseRelease(buttons);"], [109, "    Screen.getMouseRobot().waitForIdle();"]], "deleted": [[9, "import org.sikuli.basics.HotkeyManager;"], [24, " * INTERNAL USE Implemenation of IRobot making a DeskTopRobot using java.awt.Robot"], [31, "  private static ArrayList<Integer> heldKeyCodes = new ArrayList<Integer>();"], [46, "//    super();"], [59, "//      Screen s = dest.getScreen();"], [60, "//      Location p = new Location(dest.x - s.x, dest.y - s.y);"], [61, "//      s.getRobot().mouseMove(p.x, p.y);"], [62, "//      moveMouseAndCheckPos(p, s);"], [66, ""], [72, "      float x = aniX.step();"], [73, "      float y = aniY.step();"], [74, "//      Screen s = (new Location(x, y)).getScreen();"], [75, "//      Location p = new Location(x - s.x, y - s.y);"], [76, "//      moveMouseAndCheckPos(p, s);"], [77, "//      delay(50);"], [82, "  private void moveMouseAndCheckPos(Location p, Screen s) {"], [83, "    //TODO Why? need to correct double correction of gdLoc (top left of screen grafic area) when not (0,0)"], [84, "    //Check at initScreens"], [85, "    s.getRobot().mouseMove(p.x, p.y);"], [89, "      p.translate(-s.x, -s.y);"], [90, "      s.getRobot().mouseMove(p.x, p.y);"], [94, "        p.translate(-s.x, -s.y);"], [95, "        s.getRobot().mouseMove(p.x, p.y);"], [108, "    mousePress(heldButtons);"], [109, "    waitForIdle();"], [115, "      mouseRelease(heldButtons);"], [118, "      mouseRelease(buttons);"], [121, "    waitForIdle();"], [320, "    HotkeyManager.getInstance().cleanUp();"], [321, "    keyUp();"], [322, "    mouseUp(0);"]]}, "num_lines_added": 16, "num_lines_removed": 31}