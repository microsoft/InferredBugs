{"hash": "8555c758d38aef7c0063ae526a1e12ae22dbb962", "message": "support inputformat cache in local disk when running mutil epochs", "file_num_lines": 827, "diff_parsed": {"added": [[38, "import java.util.zip.GZIPOutputStream;"], [601, "            File gzFile = new File(conf.get(XLearningConfiguration.XLEARNING_INPUTFORMAT_CACHEFILE_NAME, XLearningConfiguration.DEFAULT_XLEARNING_INPUTFORMAT_CACHEFILE_NAME));"], [602, "            GZIPOutputStream gos = new GZIPOutputStream(new FileOutputStream(gzFile));"], [603, "            boolean isCache = conf.getBoolean(XLearningConfiguration.XLEARNING_INPUTFORMAT_CACHE, XLearningConfiguration.DEFAULT_XLEARNING_INPUTFORMAT_CACHE);"], [625, "                    if(j == 0 && isCache) {"], [626, "                      if(conf.getInt(XLearningConfiguration.XLEARNING_STREAM_EPOCH, XLearningConfiguration.DEFAULT_XLEARNING_STREAM_EPOCH) > 1) {"], [627, "                        gos.write(value.toString().getBytes());"], [628, "                        gos.write(\"\\n\".getBytes());"], [629, ""], [630, "                        if((gzFile.length() / 1024 / 1024) > conf.getInt(XLearningConfiguration.XLEARNING_INPUTFORMAT_CACHESIZE_LIMIT, XLearningConfiguration.DEFAULT_XLEARNING_INPUTFORMAT_CACHESIZE_LIMIT)) {"], [631, "                          LOG.info(\"Inputformat cache file size is:\" + gzFile.length() / 1024 / 1024 + \"M \""], [632, "                              + \"beyond the limit size:\" + conf.getInt(XLearningConfiguration.XLEARNING_INPUTFORMAT_CACHESIZE_LIMIT, XLearningConfiguration.DEFAULT_XLEARNING_INPUTFORMAT_CACHESIZE_LIMIT) + \"M.\");"], [633, "                          gzFile.delete();"], [634, "                          LOG.info(\"Local cache file deleted and will not use cache.\");"], [635, "                          isCache = false;"], [636, "                        }"], [637, "                      }"], [638, "                    }"], [641, "                    e.printStackTrace();"], [648, "              if(isCache) {"], [649, "                break;"], [650, "              }"], [653, "            gos.close();"], [780, "      LOG.info(\"Executing board command:\" + boardCommand);"]], "deleted": [[757, "      LOG.info(\"Executing borad command:\" + boardCommand);"]]}, "num_lines_added": 24, "num_lines_removed": 1}