{"hash": "ca78e74a1d1149af90bd43cfad9b2504488b8b5d", "message": "fix qq connect error parse exception", "file_num_lines": 158, "diff_parsed": {"added": [[176, "    String result = connect.get(url, params).trim();"], [177, "    return parseAccessTokenResult(result);"], [251, "    return parseAccessTokenResult(result);"], [300, ""], [301, "  private Result<AccessToken> parseAccessTokenResult(String result) {"], [302, "    JSONObject jsonObject;"], [303, "    if (result.startsWith(\"callback\")) {// \u9519\u8bef\u4fe1\u606f"], [304, "                                        // callback({\"error\":100021,\"error_description\":\"get access token error\"});"], [305, "      jsonObject ="], [306, "          new JSONObject(result.substring(result.indexOf(\"{\"), result.lastIndexOf(\"}\") + 1));"], [307, "      return Result.parse(jsonObject, AccessToken.class);"], [308, "    } else {// \u6b63\u786e\u7ed3\u679c"], [309, "      jsonObject = new JSONObject();"], [310, "      String[] results = result.split(\"\\\\&\");"], [311, "      for (String param : results) {"], [312, "        String[] keyValue = param.split(\"\\\\=\");"], [313, "        jsonObject.put(keyValue[0], keyValue.length > 0 ? keyValue[1] : null);"], [314, "      }"], [315, "      String errorCode = jsonObject.optString(\"code\", null);"], [316, "      if (errorCode != null) {"], [317, "        jsonObject.put(\"ret\", errorCode);// To match Error.parse()"], [318, "      }"], [319, "    }"], [320, "    return Result.parse(jsonObject, AccessToken.class);"], [321, "  }"], [322, ""]], "deleted": [[176, "    String result = connect.get(url, params);"], [177, "    String[] results = result.split(\"\\\\&\");"], [178, "    JSONObject jsonObject = new JSONObject();"], [179, "    for (String param : results) {"], [180, "      String[] keyValue = param.split(\"\\\\=\");"], [181, "      jsonObject.put(keyValue[0], keyValue.length > 0 ? keyValue[1] : null);"], [182, "    }"], [183, "    String errorCode = jsonObject.optString(\"code\", null);"], [184, "    if (errorCode != null) {"], [185, "      jsonObject.put(\"ret\", errorCode);// To match Error.parse()"], [186, "    }"], [187, "    return Result.parse(jsonObject, AccessToken.class);"], [261, "    String[] results = result.split(\"\\\\&\");"], [262, "    JSONObject jsonObject = new JSONObject();"], [263, "    for (String param : results) {"], [264, "      String[] keyValue = param.split(\"\\\\=\");"], [265, "      jsonObject.put(keyValue[0], keyValue.length > 0 ? keyValue[1] : null);"], [266, "    }"], [267, "    String errorCode = jsonObject.optString(\"code\", null);"], [268, "    if (errorCode != null) {"], [269, "      jsonObject.put(\"ret\", errorCode);// To match Error.parse()"], [270, "    }"], [271, "    return Result.parse(jsonObject, AccessToken.class);"]]}, "num_lines_added": 26, "num_lines_removed": 23}