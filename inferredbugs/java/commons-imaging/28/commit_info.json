{"hash": "5b7b44724b2aadde6d23f827c7d4aec383e3a1cf", "message": "Use try-with-resources instead of IoUtils.closeQuietly()\nfor all non-formats code.\n\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/imaging/trunk@1759064 13f79535-47bb-0310-9956-ffa450edef68", "file_num_lines": 472, "diff_parsed": {"added": [[19, "import static org.apache.commons.imaging.ImagingConstants.PARAM_KEY_FILENAME;"], [20, "import static org.apache.commons.imaging.ImagingConstants.PARAM_KEY_FORMAT;"], [21, ""], [260, "        try (InputStream is = byteSource.getInputStream()) {"], [1411, "        try (FileOutputStream fos = new FileOutputStream(file);"], [1412, "                BufferedOutputStream os = new BufferedOutputStream(fos)) {"]], "deleted": [[41, "import org.apache.commons.imaging.util.IoUtils;"], [42, ""], [43, "import static org.apache.commons.imaging.ImagingConstants.*;"], [260, "        InputStream is = null;"], [261, "        boolean canThrow = false;"], [262, "        try {"], [263, "            is = byteSource.getInputStream();"], [264, ""], [277, "                canThrow = true;"], [285, "                canThrow = true;"], [288, "                canThrow = true;"], [291, "                canThrow = true;"], [294, "                canThrow = true;"], [297, "                canThrow = true;"], [300, "                canThrow = true;"], [303, "                canThrow = true;"], [306, "                canThrow = true;"], [309, "                canThrow = true;"], [312, "                canThrow = true;"], [315, "                canThrow = true;"], [318, "                canThrow = true;"], [321, "                canThrow = true;"], [335, "                    canThrow = true;"], [339, "                canThrow = true;"], [342, "                canThrow = true;"], [345, "                canThrow = true;"], [348, "            canThrow = true;"], [350, "        } finally {"], [351, "            IoUtils.closeQuietly(canThrow, is);"], [1436, "        OutputStream os = null;"], [1437, "        boolean canThrow = false;"], [1438, "        try {"], [1439, "            os = new FileOutputStream(file);"], [1440, "            os = new BufferedOutputStream(os);"], [1441, ""], [1443, "            canThrow = true;"], [1444, "        } finally {"], [1445, "            IoUtils.closeQuietly(canThrow, os);"]]}, "num_lines_added": 6, "num_lines_removed": 38}