{"bug_class": "PROVER", "kind": "ERROR", "bug_type": "NULL_DEREFERENCE", "qualifier": "object returned by `dataFile.getFileMetadata()` could be null and is dereferenced at line 475.", "severity": "HIGH", "visibility": "user", "line": 475, "column": -1, "procedure": "String DatasetPage.save()", "procedure_id": "edu.harvard.iq.dataverse.DatasetPage.save():java.lang.String.2929ec371abb302c2aa12cddde84302d", "procedure_start_line": 350, "file": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "bug_trace": [{"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 350, "column_number": -1, "description": "start of procedure save()"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 351, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseServiceBean.java", "line_number": 47, "column_number": -1, "description": "start of procedure find(...)"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseServiceBean.java", "line_number": 47, "column_number": -1, "description": "return from a call to Dataverse DataverseServiceBean.find(Object)"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 351, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DvObjectContainer.java", "line_number": 15, "column_number": -1, "description": "start of procedure setOwner(...)"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/DvObject.java", "line_number": 71, "column_number": -1, "description": "start of procedure setOwner(...)"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/DvObject.java", "line_number": 72, "column_number": -1, "description": ""}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/DvObject.java", "line_number": 73, "column_number": -1, "description": "return from a call to void DvObject.setOwner(DvObjectContainer)"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DvObjectContainer.java", "line_number": 16, "column_number": -1, "description": "return from a call to void DvObjectContainer.setOwner(Dataverse)"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 353, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/Dataset.java", "line_number": 53, "column_number": -1, "description": "start of procedure setProtocol(...)"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/Dataset.java", "line_number": 54, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/Dataset.java", "line_number": 55, "column_number": -1, "description": "return from a call to void Dataset.setProtocol(String)"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 354, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/Dataset.java", "line_number": 61, "column_number": -1, "description": "start of procedure setAuthority(...)"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/Dataset.java", "line_number": 62, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/Dataset.java", "line_number": 63, "column_number": -1, "description": "return from a call to void Dataset.setAuthority(String)"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 355, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/Dataset.java", "line_number": 69, "column_number": -1, "description": "start of procedure setIdentifier(...)"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/Dataset.java", "line_number": 70, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/Dataset.java", "line_number": 71, "column_number": -1, "description": "return from a call to void Dataset.setIdentifier(String)"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 360, "column_number": -1, "description": "Taking true branch"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 360, "column_number": -1, "description": "Taking false branch"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 445, "column_number": -1, "description": "Taking false branch"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 448, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseSession.java", "line_number": 32, "column_number": -1, "description": "start of procedure getUser()"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseSession.java", "line_number": 33, "column_number": -1, "description": "Taking true branch"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseUserServiceBean.java", "line_number": 47, "column_number": -1, "description": "start of procedure findGuestUser()"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseUserServiceBean.java", "line_number": 48, "column_number": -1, "description": ""}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseUserServiceBean.java", "line_number": 65, "column_number": -1, "description": "start of procedure findByUserName(...)"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseUserServiceBean.java", "line_number": 66, "column_number": -1, "description": ""}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseUserServiceBean.java", "line_number": 67, "column_number": -1, "description": ""}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseUserServiceBean.java", "line_number": 69, "column_number": -1, "description": ""}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseUserServiceBean.java", "line_number": 72, "column_number": -1, "description": "return from a call to DataverseUser DataverseUserServiceBean.findByUserName(String)"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseUserServiceBean.java", "line_number": 49, "column_number": -1, "description": "return from a call to DataverseUser DataverseUserServiceBean.findGuestUser()"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataverseSession.java", "line_number": 33, "column_number": -1, "description": "return from a call to DataverseUser DataverseSession.getUser()"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 448, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/impl/UpdateDatasetCommand.java", "line_number": 32, "column_number": -1, "description": "start of procedure UpdateDatasetCommand(...)"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/impl/UpdateDatasetCommand.java", "line_number": 33, "column_number": -1, "description": ""}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 38, "column_number": -1, "description": "start of procedure AbstractCommand(...)"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 39, "column_number": -1, "description": ""}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 34, "column_number": -1, "description": "start of procedure dv(...)"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 35, "column_number": -1, "description": ""}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 22, "column_number": -1, "description": "start of procedure AbstractCommand$DvNamePair(...)"}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 23, "column_number": -1, "description": ""}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 24, "column_number": -1, "description": ""}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 25, "column_number": -1, "description": "return from a call to AbstractCommand$DvNamePair.<init>(String,DvObject)"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 35, "column_number": -1, "description": "return from a call to AbstractCommand$DvNamePair AbstractCommand.dv(String,DvObject)"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 39, "column_number": -1, "description": ""}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 42, "column_number": -1, "description": "start of procedure AbstractCommand(...)"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 43, "column_number": -1, "description": ""}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 44, "column_number": -1, "description": ""}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 45, "column_number": -1, "description": "Skipping put(...): unknown method"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 46, "column_number": -1, "description": "Taking false branch"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 49, "column_number": -1, "description": "return from a call to AbstractCommand.<init>(DataverseUser,AbstractCommand$DvNamePair,edu.harvard.iq.dataverse.engine.command.AbstractCommand$DvNamePair[])"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/AbstractCommand.java", "line_number": 40, "column_number": -1, "description": "return from a call to AbstractCommand.<init>(DataverseUser,Dataset)"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/impl/UpdateDatasetCommand.java", "line_number": 34, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/impl/UpdateDatasetCommand.java", "line_number": 35, "column_number": -1, "description": "return from a call to UpdateDatasetCommand.<init>(Dataset,DataverseUser)"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 450, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 64, "column_number": -1, "description": "start of procedure submit(...)"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 68, "column_number": -1, "description": ""}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 60, "column_number": -1, "description": "start of procedure permissionsRequired(...)"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 23, "column_number": -1, "description": "start of procedure permissionsRequired(...)"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 24, "column_number": -1, "description": ""}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 25, "column_number": -1, "description": "Taking false branch"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 45, "column_number": -1, "description": "Skipping value(): abstract method"}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/RequiredPermissions.java", "line_number": -1, "column_number": -1, "description": "Definition of value()"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 46, "column_number": -1, "description": "Skipping dataverseName(): abstract method"}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/RequiredPermissions.java", "line_number": -1, "column_number": -1, "description": "Definition of dataverseName()"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 47, "column_number": -1, "description": ""}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 63, "column_number": -1, "description": "start of procedure asPermissionSet(...)"}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 64, "column_number": -1, "description": "Taking false branch"}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 64, "column_number": -1, "description": "Taking false branch"}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 66, "column_number": -1, "description": ""}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 64, "column_number": -1, "description": ""}, {"level": 4, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 66, "column_number": -1, "description": "return from a call to Set CommandHelper.asPermissionSet(edu.harvard.iq.dataverse.engine.Permission[])"}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 46, "column_number": -1, "description": ""}, {"level": 3, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 47, "column_number": -1, "description": "return from a call to Map CommandHelper.permissionsRequired(Class)"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/CommandHelper.java", "line_number": 60, "column_number": -1, "description": "return from a call to Map CommandHelper.permissionsRequired(Command)"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 69, "column_number": -1, "description": "Taking false branch"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 74, "column_number": -1, "description": "Skipping getUser(): abstract method"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/Command.java", "line_number": -1, "column_number": -1, "description": "Definition of getUser()"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 76, "column_number": -1, "description": "Skipping getAffectedDvObjects(): abstract method"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/Command.java", "line_number": -1, "column_number": -1, "description": "Definition of getAffectedDvObjects()"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 78, "column_number": -1, "description": "Taking false branch"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 99, "column_number": -1, "description": ""}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 102, "column_number": -1, "description": "start of procedure getContext()"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 103, "column_number": -1, "description": "Taking false branch"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 148, "column_number": -1, "description": "return from a call to CommandContext EjbDataverseEngine.getContext()"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 99, "column_number": -1, "description": "Skipping execute(...): unknown method"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/engine/command/impl/UpdateDatasetCommand.java", "line_number": 24, "column_number": -1, "description": "Definition of execute(...)"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/EjbDataverseEngine.java", "line_number": 99, "column_number": -1, "description": "return from a call to Object EjbDataverseEngine.submit(UpdateDatasetCommand)"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 450, "column_number": -1, "description": ""}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 468, "column_number": -1, "description": ""}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 469, "column_number": -1, "description": ""}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 472, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/Dataset.java", "line_number": 91, "column_number": -1, "description": "start of procedure getFiles()"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/Dataset.java", "line_number": 92, "column_number": -1, "description": "return from a call to List Dataset.getFiles()"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 472, "column_number": -1, "description": "Taking true branch"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 473, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 296, "column_number": -1, "description": "start of procedure isIngestScheduled()"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 297, "column_number": -1, "description": "Taking true branch"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 297, "column_number": -1, "description": "return from a call to boolean DataFile.isIngestScheduled()"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 473, "column_number": -1, "description": "Taking true branch"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 474, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 312, "column_number": -1, "description": "start of procedure SetIngestInProgress()"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 313, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 314, "column_number": -1, "description": "return from a call to void DataFile.SetIngestInProgress()"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 475, "column_number": -1, "description": ""}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 211, "column_number": -1, "description": "start of procedure getFileMetadata()"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 212, "column_number": -1, "description": ""}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 215, "column_number": -1, "description": "start of procedure getLatestFileMetadata()"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 216, "column_number": -1, "description": ""}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 218, "column_number": -1, "description": "Taking false branch"}, {"level": 2, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 223, "column_number": -1, "description": "return from a call to FileMetadata DataFile.getLatestFileMetadata()"}, {"level": 1, "filename": "src/main/java/edu/harvard/iq/dataverse/DataFile.java", "line_number": 212, "column_number": -1, "description": "return from a call to FileMetadata DataFile.getFileMetadata()"}, {"level": 0, "filename": "src/main/java/edu/harvard/iq/dataverse/DatasetPage.java", "line_number": 475, "column_number": -1, "description": ""}], "key": "DatasetPage.java|save|NULL_DEREFERENCE", "node_key": "3677875e6aead27ee1320f16c80d8b0f", "hash": "9af1ee718fee1b2b34c4caab8d721793", "bug_type_hum": "Null Dereference", "censored_reason": ""}