{"hash": "2db25c6119272ec19b8892ab52521d77410a3950", "message": "aggregate set on change", "file_num_lines": 48, "diff_parsed": {"added": [[34, "  private volatile Set<T> records = ImmutableSet.of();"], [54, "    records = aggregateSet();"], [55, "  }"], [56, ""], [57, "  @Override"], [58, "  public Set<T> current() {"], [59, "    return records;"], [60, "  }"], [61, ""], [62, "  @Override"], [63, "  protected void closeImplementation() {"], [64, "    for (ChangeNotifier<T> provider : changeNotifiers) {"], [65, "      provider.close();"], [66, "    }"], [70, "    Set<T> currentRecords = aggregateSet();"], [81, "  private Set<T> aggregateSet() {"]], "deleted": [[22, "import java.util.Collections;"], [35, "  private volatile Set<T> records = Collections.emptySet();"], [55, "    records = current();"], [59, "    Set<T> currentRecords = current();"], [70, "  @Override"], [71, "  public Set<T> current() {"], [78, ""], [79, "  @Override"], [80, "  protected void closeImplementation() {"], [81, "    for (ChangeNotifier<T> provider : changeNotifiers) {"], [82, "      provider.close();"], [83, "    }"], [84, "  }"]]}, "num_lines_added": 16, "num_lines_removed": 13}