{"hash": "2c917ea2cfc98478d0fb56521e9d549df396aacb", "message": "\u589e\u52a0\u7c7b\u3001\u65b9\u6cd5\u7684\u8fc7\u6ee4", "file_num_lines": 110, "diff_parsed": {"added": [[14, "import java.util.Iterator;"], [20, "import static com.github.ompc.greys.util.CheckUtil.isEquals;"], [108, "//            // dump"], [109, "//            final java.io.OutputStream os = new FileOutputStream(new java.io.File(\"/tmp/AgentTest.class\"));"], [110, "//            os.write(enhanceClassByteArray);"], [111, "//            os.flush();"], [112, "//            os.close();"], [126, "     * \u662f\u5426\u9700\u8981\u8fc7\u6ee4\u7684\u7c7b"], [127, "     *"], [128, "     * @param classes \u7c7b\u96c6\u5408"], [129, "     * @return \u8fc7\u6ee4\u540e\u7684\u7c7b"], [130, "     */"], [131, "    private static Set<Class<?>> filter(Set<Class<?>> classes) {"], [132, "        final Iterator<Class<?>> it = classes.iterator();"], [133, "        while (it.hasNext()) {"], [134, ""], [135, "            final Class<?> clazz = it.next();"], [136, ""], [137, "            if (null == clazz"], [138, "                    || isEquals(clazz.getClassLoader(), Enhancer.class.getClassLoader())) {"], [139, "                it.remove();"], [140, "            }"], [141, ""], [142, "        }"], [143, "        return classes;"], [144, "    }"], [145, ""], [146, ""], [147, "    /**"], [172, "        // \u8fc7\u6ee4\u6389\u65e0\u6cd5\u88ab\u589e\u5f3a\u7684\u7c7b"], [173, "        filter(enhanceClassSet);"], [174, ""], [184, "            if (classArray.length > 0) {"]], "deleted": [[9, "import java.io.FileOutputStream;"], [107, "            // dump"], [108, "            final java.io.OutputStream os = new FileOutputStream(new java.io.File(\"/tmp/AgentTest.class\"));"], [109, "            os.write(enhanceClassByteArray);"], [110, "            os.flush();;"], [111, "            os.close();"], [158, "            if( classArray.length > 0 ) {"]]}, "num_lines_added": 33, "num_lines_removed": 7}