{"hash": "0a14bfd10439e6e14a836e2e33c92ee208b0deed", "message": "progress on SparkAnalyzer", "file_num_lines": 293, "diff_parsed": {"added": [[11, "import edu.drexel.psal.jstylo.machineLearning.spark.SparkAnalyzer;"], [257, "\t\t    experimentResults = analysisDriver.classifyWithUnknownAuthors(ib.getTrainingDataMap(), ib.getTestDataMap(), ib.getProblemSet().getAllTestDocs());"], [266, "\t\t\t\texperimentResults = analysisDriver.classifyWithKnownAuthors(train,test);"], [506, "                    .psPath(\"jsan_resources/problem_sets/drexel_1_train_test.xml\")"], [507, "                    .setAnalyzer(new SparkAnalyzer())"], [508, "                    .numThreads(1).analysisType(analysisType.TRAIN_TEST_KNOWN).useCache(false).chunkDocs(false)"]], "deleted": [[3, "import java.io.BufferedReader;"], [4, "import java.io.File;"], [5, "import java.io.FileReader;"], [6, ""], [10, "import com.jgaap.generics.Document;"], [11, ""], [15, "import edu.drexel.psal.jstylo.featureProcessing.StringDocument;"], [18, "import edu.drexel.psal.jstylo.machineLearning.weka.WekaAnalyzer;"], [264, "\t\t    experimentResults = analysisDriver.classify(ib.getTrainingDataMap(), ib.getTestDataMap(), ib.getProblemSet().getAllTestDocs());"], [273, "\t\t\t\texperimentResults = analysisDriver.getTrainTestEval(train,test);"], [510, "\t    ProblemSet ps = new ProblemSet();"], [511, "\t    File parent = new File(\"/Users/tdutko200/git/jstylo/jsan_resources/corpora/drexel_1\");"], [512, "        try {"], [513, "            for (File author : parent.listFiles()) {"], [514, "                if (!author.getName().equalsIgnoreCase(\".DS_Store\")) {"], [515, "                    for (File document : author.listFiles()) {"], [516, "                        if (!document.getName().equalsIgnoreCase(\".DS_Store\")) {"], [517, "                            Document doc = new StringDocument(toDeleteGetStringFromFile(document), author.getName(),document.getName());"], [518, "                            doc.load();"], [519, "                            ps.addTrainDoc(author.getName(), doc);"], [520, "                        }"], [521, "                    }"], [522, "                }"], [523, "            }"], [524, "        } catch (Exception e) {"], [525, "            LOG.error(\"Womp womp.\",e);"], [526, "            System.exit(1);"], [527, "        }"], [528, ""], [532, "                    .ps(ps)"], [533, "                    .setAnalyzer(new WekaAnalyzer())"], [534, "                    .numThreads(1).analysisType(analysisType.CROSS_VALIDATION).useCache(false).chunkDocs(false)"], [554, "\tprivate static String toDeleteGetStringFromFile(File f) throws Exception{"], [555, "\t    BufferedReader br = new BufferedReader(new FileReader(f));"], [556, "\t    String results = \"\";"], [557, "\t    while (br.ready())"], [558, "\t        results+=br.readLine()+\"\\n\";"], [559, "\t    br.close();"], [560, "\t    return results;"], [561, "\t}"]]}, "num_lines_added": 6, "num_lines_removed": 40}