{"hash": "4acc9a0a6da68f5b7655df9e4f80bf3734e9ba4c", "message": "[JENKINS-39867] Do not cache kubernetes connection\n\nToken credentials may expire after some time and need to reconnect\nChanges to configuration were not applied after the client was created", "file_num_lines": 725, "diff_parsed": {"added": [[307, "        LOGGER.log(Level.FINE, \"Building connection to Kubernetes {0} URL {1}\" + serverUrl,"], [308, "                new String[] { getDisplayName(), serverUrl });"], [309, "        client = new KubernetesFactoryAdapter(serverUrl, namespace, serverCertificate, credentialsId, skipTlsVerify,"], [310, "                connectTimeout, readTimeout).createClient();"], [311, "        LOGGER.log(Level.FINE, \"Connected to Kubernetes {0} URL {1}\" + serverUrl,"], [312, "                new String[] { getDisplayName(), serverUrl });"], [683, "                LOGGER.log(Level.FINE, \"Creating Pod: {0} in namespace {1}\", new Object[] { podId, namespace });"], [685, "                LOGGER.log(Level.INFO, \"Created Pod: {0} in namespace {1}\", new Object[] { podId, namespace });"]], "deleted": [[307, "        LOGGER.log(Level.FINE, \"Building connection to Kubernetes host \" + getDisplayName() + \" URL \" + serverUrl);"], [308, ""], [309, "        if (client == null) {"], [310, "            synchronized (this) {"], [311, "                if (client == null) {"], [312, "                    client = new KubernetesFactoryAdapter(serverUrl, namespace, serverCertificate, credentialsId, skipTlsVerify, connectTimeout, readTimeout)"], [313, "                            .createClient();"], [314, "                }"], [315, "            }"], [316, "        }"], [318, ""], [689, "                LOGGER.log(Level.INFO, \"Created Pod: {0}\", podId);"]]}, "num_lines_added": 8, "num_lines_removed": 12}