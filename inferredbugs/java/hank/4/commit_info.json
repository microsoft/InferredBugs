{"hash": "2981b7e84e746034980fc93bd493bc3bbdf4dcf2", "message": "keep processing commands until they're all gone", "file_num_lines": 236, "diff_parsed": {"added": [[75, "  private synchronized void processCommands() {"], [76, "    try {"], [77, "      if (hostConfig.getCurrentCommand() != null) {"], [78, "        processCurrentCommand(hostConfig, hostConfig.getCurrentCommand());"], [79, "      }"], [80, "      while (!hostConfig.getCommandQueue().isEmpty()) {"], [81, "        HostCommand nextCommand = hostConfig.processNextCommand();"], [82, "        processCurrentCommand(hostConfig, nextCommand);"], [83, "      }"], [84, "    } catch (IOException e) {"], [85, "      // TODO"], [86, "      LOG.error(\"Uh oh, failed to process all the commands in the queue, somehow...\", e);"], [87, "    }"], [88, "  }"], [89, ""], [93, "    processCommands();"], [223, "    processCommands();"], [224, "//    synchronized(mutex) {"], [225, "//      try {"], [226, "//        if (this.hostConfig.getCurrentCommand() == null) {"], [227, "//          HostCommand nextCommand = this.hostConfig.processNextCommand();"], [228, "//          if (nextCommand == null) {"], [229, "//            LOG.debug(\"Command queue was empty; doing nothing.\");"], [230, "//            return;"], [231, "//          }"], [232, "//          processCurrentCommand(hostConfig, nextCommand);"], [233, "//        } else {"], [234, "//          LOG.debug(\"Noticed a change to the command queue, but we're already working on something else, so ignoring it.\");"], [235, "//        }"], [236, "//      } catch (IOException e) {"], [237, "//        LOG.error(\"Got an exception checking the current command!\", e);"], [238, "//      }"], [239, "//    }"]], "deleted": [[78, "    if (hostConfig.getCurrentCommand() != null) {"], [79, "      processCurrentCommand(hostConfig, hostConfig.getCurrentCommand());"], [80, "    }"], [210, "    synchronized(mutex) {"], [211, "      try {"], [212, "        if (this.hostConfig.getCurrentCommand() == null) {"], [213, "          HostCommand nextCommand = this.hostConfig.processNextCommand();"], [214, "          if (nextCommand == null) {"], [215, "            LOG.debug(\"Command queue was empty; doing nothing.\");"], [216, "            return;"], [217, "          }"], [218, "          processCurrentCommand(hostConfig, nextCommand);"], [219, "        } else {"], [220, "          LOG.debug(\"Noticed a change to the command queue, but we're already working on something else, so ignoring it.\");"], [221, "        }"], [222, "      } catch (IOException e) {"], [223, "        LOG.error(\"Got an exception checking the current command!\", e);"], [224, "      }"], [225, "    }"]]}, "num_lines_added": 33, "num_lines_removed": 19}