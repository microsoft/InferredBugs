{"hash": "83d1ea1e36b2509ceaeabe9db338983e77df0a51", "message": "further normalization of the compiler API", "file_num_lines": 285, "diff_parsed": {"added": [[20, " //   private Set<String> inputs;"], [21, " //   private Set<String> locals;"], [61, "//                inputs = new LinkedHashSet<String>();"], [62, "//                locals = new LinkedHashSet<String>();"], [64, "                getParserContext().initializeTables();"], [78, "                        && (pCtx.getInputs() == null"], [79, "                        || !pCtx.getInputs().containsKey(tk.getName()))) {"], [87, "//"], [88, "//                    if (verifying) {"], [89, "//                        inputs.addAll(subCompiler.getInputs());"], [90, "//                    }"], [183, "//                for (String s : locals) {"], [184, "//                    inputs.remove(s);"], [185, "//                }"], [186, "                pCtx.processTables();"], [230, "                pCtx.addVariable(varName, returnType = tk.getEgressType());"], [234, "                pCtx.addInput(tk.getAbsoluteName(), returnType = propVerifier.analyze());"], [390, "//    public Set<String> getInputs() {"], [391, "//        return inputs;"], [392, "//    }"], [393, "//"], [394, "//    public Set<String> getLocals() {"], [395, "//        return locals;"], [396, "//    }"]], "deleted": [[15, "import java.util.LinkedHashSet;"], [16, "import java.util.Set;"], [22, "    private Set<String> inputs;"], [23, "    private Set<String> locals;"], [62, ""], [64, "                inputs = new LinkedHashSet<String>();"], [65, "                locals = new LinkedHashSet<String>();"], [67, "                getParserContext().initializeVariableTable();"], [81, "                        && (pCtx.getInputTable() == null"], [82, "                        || !pCtx.getInputTable().containsKey(tk.getName()))) {"], [90, ""], [91, "                    if (verifying)"], [92, "                        inputs.addAll(subCompiler.getInputs());"], [100, ""], [101, ""], [183, ""], [188, "                for (String s : locals) {"], [189, "                    inputs.remove(s);"], [190, "                }"], [193, ""], [219, ""], [231, "                locals.add(varName);"], [232, ""], [238, "                inputs.addAll(subCompiler.getInputs());"], [239, ""], [240, "                pCtx.addVariable(varName, tk.getEgressType());"], [243, "                inputs.add(tk.getAbsoluteName());"], [244, ""], [246, "                returnType = propVerifier.analyze();"], [248, "                inputs.addAll(propVerifier.getInputs());"], [251, ""], [368, ""], [379, ""], [406, "    public Set<String> getInputs() {"], [407, "        return inputs;"], [408, "    }"], [409, ""], [410, "    public Set<String> getLocals() {"], [411, "        return locals;"], [412, "    }"], [445, ""]]}, "num_lines_added": 24, "num_lines_removed": 41}