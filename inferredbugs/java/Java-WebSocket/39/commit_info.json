{"hash": "f0ce0d98f6e6a9601199d144901f2378904f020e", "message": "fix for #119", "file_num_lines": 281, "diff_parsed": {"added": [[9, "import java.nio.channels.CancelledKeyException;"], [142, "\t\t\tconn.close( CloseFrame.NORMAL );"], [143, "\t\t\t/*closelock.lock();"], [149, "\t\t\t}*/"], [191, ""], [192, "\t\tassert ( !channel.isOpen() );"], [200, ""], [261, ""], [262, "\t\t} catch ( CancelledKeyException e ) {"], [295, "\t\tconn.key = key.interestOps( SelectionKey.OP_READ | SelectionKey.OP_WRITE );"], [297, "\t\tconn.channel = wrappedchannel = wf.wrapChannel( key, uri.getHost(), getPort() );"]], "deleted": [[19, "import java.util.concurrent.locks.Lock;"], [20, "import java.util.concurrent.locks.ReentrantLock;"], [71, "\tprivate final Lock closelock = new ReentrantLock();"], [72, ""], [145, "\t\t\tthread.interrupt();"], [146, "\t\t\tcloselock.lock();"], [152, "\t\t\t}"], [201, "\t\tcloselock.lock();"], [202, "\t\tselector = null;"], [203, "\t\tcloselock.unlock();"], [204, "\t\ttry {"], [205, "\t\t\tchannel.close();"], [206, "\t\t} catch ( IOException e ) {"], [207, "\t\t\tonError( e );"], [208, "\t\t}"], [209, "\t\tchannel = null;"], [210, "\t\tthread = null;"], [233, "\t\t\t\tif( Thread.interrupted() ) {"], [234, "\t\t\t\t\tconn.close( CloseFrame.NORMAL );"], [235, "\t\t\t\t}"], [306, "\t\tkey.interestOps( SelectionKey.OP_READ | SelectionKey.OP_WRITE );"], [308, "\t\twrappedchannel = wf.wrapChannel( key, uri.getHost(), getPort() );"]]}, "num_lines_added": 11, "num_lines_removed": 22}