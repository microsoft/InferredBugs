{"hash": "63ba70d2486ee2d6b142c3778df6075428ed55eb", "message": "\u4fee\u6539\u7f51\u5173\u7aef\u7070\u5ea6\u8def\u7531\u793a\u4f8b", "file_num_lines": 38, "diff_parsed": {"added": [[19, "import com.nepxion.discovery.common.constant.DiscoveryConstant;"], [43, "        String mobile = zuulStrategyContextHolder.getHeader(\"mobile\");"], [44, "        String version = metadata.get(DiscoveryConstant.VERSION);"], [47, "        LOG.info(\"Zuul\u7aef\u8d1f\u8f7d\u5747\u8861\u7528\u6237\u5b9a\u5236\u89e6\u53d1\uff1amobile={}, serviceId={}, metadata={}\", mobile, serviceId, metadata);"], [49, "        if (StringUtils.isNotEmpty(mobile)) {"], [50, "            // \u624b\u673a\u53f7\u4ee5\u79fb\u52a8138\u5f00\u5934\uff0c\u8def\u7531\u52301.0\u7248\u672c\u7684\u670d\u52a1\u4e0a"], [51, "            if (mobile.startsWith(\"138\") && StringUtils.equals(version, \"1.0\")) {"], [52, "                return true;"], [53, "                // \u624b\u673a\u53f7\u4ee5\u8054\u901a133\u5f00\u5934\uff0c\u8def\u7531\u52302.0\u7248\u672c\u7684\u670d\u52a1\u4e0a"], [54, "            } else if (mobile.startsWith(\"133\") && StringUtils.equals(version, \"1.1\")) {"], [55, "                return true;"], [56, "            } else {"], [57, "                // \u5176\u5b83\u60c5\u51b5\uff0c\u76f4\u63a5\u62d2\u7edd\u8bf7\u6c42"], [58, "                return false;"], [59, "            }"]], "deleted": [[42, "        String token = zuulStrategyContextHolder.getHeader(\"token\");"], [45, "        LOG.info(\"Zuul\u7aef\u8d1f\u8f7d\u5747\u8861\u7528\u6237\u5b9a\u5236\u89e6\u53d1\uff1atoken={}, serviceId={}, metadata={}\", token, serviceId, metadata);"], [47, "        String filterToken = \"abc\";"], [48, "        if (StringUtils.isNotEmpty(token) && token.contains(filterToken)) {"], [49, "            LOG.info(\"\u8fc7\u6ee4\u6761\u4ef6\uff1a\u5f53Token\u542b\u6709'{}'\u7684\u65f6\u5019\uff0c\u4e0d\u80fd\u88abRibbon\u8d1f\u8f7d\u5747\u8861\u5230\", filterToken);"], [50, ""], [51, "            return false;"]]}, "num_lines_added": 15, "num_lines_removed": 7}