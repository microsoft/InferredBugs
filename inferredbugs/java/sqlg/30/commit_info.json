{"hash": "d18450e32c43fdbe8c098f002ae7ded4e9d0c72d", "message": "Use SqlgDataSource instead of SqlgDataSourceFactory in SqlgGraph constructor", "file_num_lines": 61, "diff_parsed": {"added": [[14, "import org.umlg.sqlg.structure.ds.C3P0DataSource;"], [57, "        ds = C3P0DataSource.create(configuration).getDatasource();"], [58, ""]], "deleted": [[5, "import org.junit.Assert;"], [14, "import org.umlg.sqlg.SqlgPlugin;"], [16, "import org.umlg.sqlg.structure.ds.C3p0DataSourceFactory;"], [23, "import java.util.ServiceLoader;"], [60, "        String url = configuration.getString(\"jdbc.url\");"], [61, "        //obtain the connection that we will later supply from JNDI"], [62, "        SqlgPlugin p = findSqlgPlugin(url);"], [63, "        Assert.assertNotNull(p);"], [64, "        ds = new C3p0DataSourceFactory().setup(p.getDriverFor(url), configuration).getDatasource();"], [87, ""], [88, "    private static SqlgPlugin findSqlgPlugin(String connectionUri) {"], [89, "        for (SqlgPlugin p : ServiceLoader.load(SqlgPlugin.class, TestJNDIInitialization.class.getClassLoader())) {"], [90, "            if (p.getDriverFor(connectionUri) != null) {"], [91, "                return p;"], [92, "            }"], [93, "        }"], [94, "        return null;"], [95, "    }"]]}, "num_lines_added": 3, "num_lines_removed": 18}