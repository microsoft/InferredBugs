{"hash": "191e95bd657bedd89e6c0d87ab0fdcab6f814799", "message": "update consensus", "file_num_lines": 660, "diff_parsed": {"added": [[131, "        PocMeetingRound localThisRoundData =  calcCurrentRound(header, header.getHeight(), roundData);"], [132, "        PocMeetingRound localPreRoundData  = calcCurrentRound(preBlock.getHeader(), preBlock.getHeader().getHeight(), preRoundData);"], [133, ""], [410, "        if (null == currentRound && bestRoundData.getPackingIndexOfRound() == bestRoundData.getConsensusMemberCount()) {"], [411, "            PocMeetingRound previousRound = calcCurrentRound(bestBlock.getHeader(), bestHeight, bestRoundData);"], [412, "            this.currentRound = calcNextRound(bestBlock.getHeader(), bestHeight, bestRoundData);"], [413, "            this.currentRound.setPreRound(previousRound);"], [414, "        } else if (null == currentRound) {"], [415, "            PocMeetingRound previousRound = calcPreviousRound(bestBlock.getHeader(), bestHeight, bestRoundData);"], [416, "            this.currentRound = calcCurrentRound(bestBlock.getHeader(), bestHeight, bestRoundData);"], [417, "            this.currentRound.setPreRound(previousRound);"], [418, "        }else if (null != currentRound && currentRound.getIndex() == bestRoundData.getRoundIndex() && bestRoundData.getPackingIndexOfRound() == bestRoundData.getConsensusMemberCount()) {"]], "deleted": [[129, "        calc(preBlock);"], [132, "        PocMeetingRound localThisRoundData = this.currentRound;"], [133, "        PocMeetingRound localPreRoundData;"], [134, "        if (preRoundData.getRoundIndex() == roundData.getRoundIndex()) {"], [135, "            localPreRoundData = localThisRoundData;"], [136, "        } else {"], [137, "            localPreRoundData = localThisRoundData.getPreRound();"], [138, "            if (localPreRoundData == null) {"], [139, "                localPreRoundData = calcCurrentRound(preBlock.getHeader(), preBlock.getHeader().getHeight(), preRoundData);"], [140, "            }"], [141, "        }"], [418, "        if (null != currentRound && currentRound.getIndex() == bestRoundData.getRoundIndex() && bestRoundData.getPackingIndexOfRound() == bestRoundData.getConsensusMemberCount()) {"], [442, "        } else if (null == currentRound && bestRoundData.getPackingIndexOfRound() == bestRoundData.getConsensusMemberCount()) {"], [443, "            PocMeetingRound previousRound = calcCurrentRound(bestBlock.getHeader(), bestHeight, bestRoundData);"], [444, "            this.currentRound = calcNextRound(bestBlock.getHeader(), bestHeight, bestRoundData);"], [445, "            this.currentRound.setPreRound(previousRound);"], [446, "        } else if (null == currentRound) {"], [447, "            PocMeetingRound previousRound = calcPreviousRound(bestBlock.getHeader(), bestHeight, bestRoundData);"], [448, "            this.currentRound = calcCurrentRound(bestBlock.getHeader(), bestHeight, bestRoundData);"], [449, "            this.currentRound.setPreRound(previousRound);"]]}, "num_lines_added": 12, "num_lines_removed": 20}