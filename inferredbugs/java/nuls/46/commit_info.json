{"hash": "4e35fa989d6e64280f8b59fbf99a1b9f4e803664", "message": "update consensus", "file_num_lines": 645, "diff_parsed": {"added": [[30, "import io.nuls.account.entity.Address;"], [129, "        calc(preBlock);"], [132, "        PocMeetingRound localThisRoundData = this.currentRound;"], [133, "        PocMeetingRound localPreRoundData;"], [134, "        if (preRoundData.getRoundIndex() == roundData.getRoundIndex()) {"], [135, "            localPreRoundData = localThisRoundData;"], [137, "            localPreRoundData = localThisRoundData.getPreRound();"], [227, "                    boolean contains = false;"], [228, "                    for (Address addressObj : yellowPunishTx.getTxData().getAddressList()) {"], [229, "                        if (addressObj.getBase58().equals(address)) {"], [230, "                            contains = true;"], [231, "                            break;"], [232, "                        }"], [233, "                    }"], [234, "                    if (!contains) {"], [316, "            tx.setTime(member.getPackTime());"], [528, "                member.setSortValue(bestRoundData.getRoundEndTime() + \"\");"]], "deleted": [[128, ""], [131, "        PocMeetingRound localPreRoundData = getRoundDataOrCalc(preBlock.getHeader(), preBlock.getHeader().getHeight(), preRoundData);"], [132, "        PocMeetingRound localThisRoundData = null;"], [133, "        if (localPreRoundData.getIndex() == roundData.getRoundIndex()) {"], [134, "            localThisRoundData = localPreRoundData;"], [136, "            localThisRoundData = getRoundDataOrCalc(header, header.getHeight(), roundData);"], [137, "            //Verify that the time of the two turns is correct."], [138, "            ValidateResult result = checkThisRound(localPreRoundData, localThisRoundData, roundData, header);"], [139, "            if (result.isFailed()) {"], [140, "                return result;"], [141, "            }"], [231, "                    if (!yellowPunishTx.getTxData().getAddressList().contains(address)) {"], [524, "                member.setSortValue(bestRoundData.getRoundEndTime()+\"\");"]]}, "num_lines_added": 17, "num_lines_removed": 13}