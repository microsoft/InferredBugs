{"hash": "c3b3026a632e33a73b2555cd3428049cdb3b13b3", "message": "update consensus", "file_num_lines": 279, "diff_parsed": {"added": [[85, "                if (null == currentRound  ) {"]], "deleted": [[49, "    private boolean needReSet;"], [86, "                if (null == currentRound || needReSet) {"], [88, "                    needReSet = false;"], [259, "        if (needReSet) {"], [260, "            return null;"], [261, "        }"], [267, "    public void reset() {"], [268, "//        lock.lock();"], [269, "//        try {"], [270, "//            Block bestBlock = getBestBlock();"], [271, "//            BlockRoundData roundData = new BlockRoundData(bestBlock.getHeader().getExtend());"], [272, "//            //todo \u786e\u5b9a\u6b63\u786e\u6027"], [273, "//            if (this.currentRound != null && roundData.getRoundIndex() == currentRound.getIndex() && roundData.getPackingIndexOfRound() != roundData.getConsensusMemberCount()) {"], [274, "//                return;"], [275, "//            }"], [276, "//            this.needReSet = true;"], [277, "//            ROUND_MAP.clear();"], [278, "//            this.init();"], [279, "//        } finally {"], [280, "//            lock.unlock();"], [281, "//        }"], [282, "    }"]]}, "num_lines_added": 1, "num_lines_removed": 22}