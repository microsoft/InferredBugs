{"hash": "6ced767c273e3af91fbc4a4930e40a372c6c5a7c", "message": "fix the tests so that they work locally. closes #2", "file_num_lines": 649, "diff_parsed": {"added": [[4, "Copyright for portions of project Foo are held by Mashape (c) 2013 as part of Kong/unirest-java."], [5, "All other copyright for project OpenUnirest/unirest-java are held by OpenUnirest (c) 2017."], [35, "import com.mashape.unirest.request.body.MultipartBody;"], [46, "import org.junit.*;"], [56, "import static com.mashape.unirest.test.http.MockServer.HOST;"], [64, "\t@BeforeClass"], [65, "\tpublic static void suiteSetUp(){"], [66, "\t\tMockServer.start();"], [67, "\t}"], [68, ""], [69, "\t@AfterClass"], [70, "\tpublic static void suiteTearDown(){"], [71, "\t\tMockServer.shutdown();"], [72, "\t}"], [73, ""], [312, "\t\tFileInputStream stream = new FileInputStream(new File(getClass().getResource(\"/image.jpg\").toURI()));"], [313, "\t\tMultipartBody request = Unirest.post(HOST + \"/post\")"], [314, "\t\t\t.field(\"name\", \"Mark\")"], [315, "\t\t\t.field(\"file\", stream, ContentType.APPLICATION_OCTET_STREAM, \"image.jpg\");"], [316, ""], [317, "\t\tHttpResponse<JsonNode> jsonResponse = request"], [318, "\t\t\t.asJson();"], [319, ""], [327, "\t\tJSONObject object = json.getObject();"], [328, "\t\tassertNotNull(object);"], [332, "\t\tassertNotNull(object.getJSONObject(\"files\"));"], [334, "\t\tassertTrue(json.getObject().getJSONObject(\"files\").getString(\"type\").contains(\"application/octet-stream\"));"], [615, "\t\t\t\t\t\tUnirest.get(HOST + \"/get\").queryString(\"index\", counter.incrementAndGet()).asString();"], [835, ""], [836, "\tprivate static void debugApache() {"], [837, "\t\tSystem.setProperty(\"org.apache.commons.logging.Log\",\"org.apache.commons.logging.impl.SimpleLog\");"], [838, "\t\tSystem.setProperty(\"org.apache.commons.logging.simplelog.showdatetime\", \"true\");"], [839, "\t\tSystem.setProperty(\"org.apache.commons.logging.simplelog.log.org.apache.http.wire\", \"DEBUG\");"], [840, "\t}"]], "deleted": [[4, "Copyright (c) 2013 Mashape (http://mashape.com)"], [44, "import org.junit.Before;"], [45, "import org.junit.Test;"], [300, "\t\tHttpResponse<JsonNode> jsonResponse = Unirest.post(\"http://httpbin.org/post\").field(\"name\", \"Mark\").field(\"file\", new FileInputStream(new File(getClass().getResource(\"/image.jpg\").toURI())), ContentType.APPLICATION_OCTET_STREAM, \"image.jpg\").asJson();"], [308, "\t\tassertNotNull(json.getObject());"], [312, "\t\tassertNotNull(json.getObject().getJSONObject(\"files\"));"], [314, "\t\tassertTrue(json.getObject().getJSONObject(\"files\").getString(\"file\").contains(\"data:application/octet-stream\"));"], [595, "\t\t\t\t\t\tUnirest.get(\"http://httpbin.org/get\").queryString(\"index\", counter.incrementAndGet()).asJson();"], [736, ""], [737, "\t\theaders = request.asJson().getBody().getObject().getJSONObject(\"headers\");"], [738, "\t\tassertEquals(\"Marco,John\", headers.get(\"Name\"));"]]}, "num_lines_added": 34, "num_lines_removed": 11}