{"hash": "e6cecc4a6d4978e2e49c1b63294508e6691403de", "message": "Remove deprecations due for 1.6 release (#115)\n\n- Removed EncodingUtil#readTillNullChar(BASE64DecoderStream) since\n  GreenMail now uses JDK 8\n- Refactored SASL message parsing for POP3/SMTP into SaslMessage", "file_num_lines": 90, "diff_parsed": {"added": [[17, "import com.icegreen.greenmail.util.SaslMessage;"], [85, "        if (authenticate(manager.getUserManager(), EncodingUtil.decodeBase64(initialResponse))) {"], [115, "        final SaslMessage saslMessage = SaslMessage.parse(value);"], [116, "        return userManager.test(saslMessage.getAuthcid(), saslMessage.getPasswd());"]], "deleted": [[9, "import java.io.ByteArrayInputStream;"], [11, "import java.nio.charset.StandardCharsets;"], [19, "import com.sun.mail.util.BASE64DecoderStream;"], [87, "        if (authenticate(manager.getUserManager(), initialResponse)) {"], [117, "        final BASE64DecoderStream stream = new BASE64DecoderStream("], [118, "                new ByteArrayInputStream(value.getBytes(StandardCharsets.UTF_8)));"], [119, "        readTillNullChar(stream); // authorizationId Not used"], [120, "        String authenticationId = readTillNullChar(stream);"], [121, "        String passwd = readTillNullChar(stream);"], [122, "        return userManager.test(authenticationId, passwd);"], [123, "    }"], [124, ""], [125, "    @Deprecated // Remove once JDK baseline is 1.8"], [126, "    private String readTillNullChar(BASE64DecoderStream stream) {"], [127, "        try {"], [128, "            return EncodingUtil.readTillNullChar(stream);"], [129, "        } catch (IOException e) {"], [130, "            log.error(\"Can not decode\", e);"], [131, "            return null;"], [132, "        }"]]}, "num_lines_added": 4, "num_lines_removed": 20}