{"hash": "9d573ed1c5c3f2f5d72195e013cafd545ffe38fc", "message": "Hid BinderImpl. Redesigned SoureProvider API.\n\ngit-svn-id: https://google-guice.googlecode.com/svn/trunk@195 d779f126-a31b-0410-b53b-1d3aecad763e", "file_num_lines": 332, "diff_parsed": {"added": [[24, "import com.google.inject.spi.SourceProviders;"], [53, "class BinderImpl implements Binder {"], [54, ""], [55, "  static {"], [56, "    SourceProviders.skip(BinderImpl.class);"], [57, "  }"], [244, "  Container createContainer() throws CreationException {"], [408, "   * Gets the current source."], [410, "  Object source() {"], [411, "    return SourceProviders.defaultSource();"]], "deleted": [[24, "import com.google.inject.spi.SourceConsumer;"], [53, "public final class BinderImpl extends SourceConsumer implements Binder {"], [144, "    ensureNotCreated();"], [150, "    ensureNotCreated();"], [162, "    ensureNotCreated();"], [177, "    ensureNotCreated();"], [195, "    ensureNotCreated();"], [201, "    ensureNotCreated();"], [246, "  public synchronized Container createContainer()"], [247, "      throws CreationException {"], [251, "    ensureNotCreated();"], [412, "   * Currently we only support creating one Container instance per builder. If"], [413, "   * we want to support creating more than one container per builder, we should"], [414, "   * move to a \"factory factory\" model where we create a factory instance per"], [415, "   * Container. Right now, one factory instance would be shared across all the"], [416, "   * containers, which means container-scoped objects would be shared, etc."], [418, "  private void ensureNotCreated() {"], [419, "    if (container != null) {"], [420, "      throw new IllegalStateException(\"Container already created.\");"], [421, "    }"]]}, "num_lines_added": 10, "num_lines_removed": 20}