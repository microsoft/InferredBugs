{"hash": "1fc451c79779bdbf788e8bfbec6dc031a47495d8", "message": "[CODEC-130] Provided implementation of skip and available for BaseNCodecInputStream, added unit tests.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/codec/trunk@1302585 13f79535-47bb-0310-9956-ffa450edef68", "file_num_lines": 294, "diff_parsed": {"added": [[156, "     * Tests skipping past the end of a stream."], [157, "     *"], [158, "     * @throws Throwable"], [159, "     */"], [160, "    @Test"], [161, "    public void testAvailable() throws Throwable {"], [162, "        InputStream ins = new ByteArrayInputStream(StringUtils.getBytesIso8859_1(ENCODED_B64));"], [163, "        Base64InputStream b64stream = new Base64InputStream(ins);"], [164, "        assertEquals(1, b64stream.available());"], [165, "        assertEquals(6, b64stream.skip(10));"], [166, "        // End of stream reached"], [167, "        assertEquals(0, b64stream.available());"], [168, "        assertEquals(-1, b64stream.read());"], [169, "        assertEquals(-1, b64stream.read());"], [170, "        assertEquals(0, b64stream.available());"], [171, "    }"], [172, ""], [173, "    /**"], [480, "     * Tests skipping number of characters larger than the internal buffer."], [481, "     *"], [482, "     * @throws Throwable"], [483, "     */"], [484, "    @Test"], [485, "    public void testSkipBig() throws Throwable {"], [486, "        InputStream ins = new ByteArrayInputStream(StringUtils.getBytesIso8859_1(ENCODED_B64));"], [487, "        Base64InputStream b64stream = new Base64InputStream(ins);"], [488, "        assertEquals(6, b64stream.skip(1024));"], [489, "        // End of stream reached"], [490, "        assertEquals(-1, b64stream.read());"], [491, "        assertEquals(-1, b64stream.read());"], [492, "    }"], [493, ""], [494, "    /**"], [520, "        // due to CODEC-130, skip now skips correctly decoded characters rather than encoded"], [521, "        assertEquals(6, b64stream.skip(10));"], [536, "        // due to CODEC-130, skip now skips correctly decoded characters rather than encoded"], [537, "        assertEquals(6, b64stream.skip(6));"], [542, ""], [543, "    /**"], [544, "     * Tests if negative arguments to skip are handled correctly."], [545, "     *"], [546, "     * @throws Throwable"], [547, "     */"], [548, "    @Test(expected=IllegalArgumentException.class)"], [549, "    public void testSkipWrongArgument() throws Throwable {"], [550, "        InputStream ins = new ByteArrayInputStream(StringUtils.getBytesIso8859_1(ENCODED_B64));"], [551, "        Base64InputStream b64stream = new Base64InputStream(ins);"], [552, "        b64stream.skip(-10);"], [553, "    }"]], "deleted": [[35, "import org.junit.Ignore;"], [59, "    @Ignore"], [489, "        assertEquals(8, b64stream.skip(10));"], [504, "        assertEquals(8, b64stream.skip(8));"]]}, "num_lines_added": 49, "num_lines_removed": 4}