{"hash": "be08dd6fdf82390a2684d0904be911465774f4fa", "message": "Added clear history button, added reload button, added dismiss button to notification panel, refactoring response buttons panel in settings.", "file_num_lines": 103, "diff_parsed": {"added": [[55, "            createEmptyFile();"], [56, "        }"], [57, "    }"], [58, "    private void createEmptyFile(){"], [59, "        try {"], [60, "            FileWriter fileWriter = new FileWriter(HISTORY_FILE);"], [61, "            JSONObject root = new JSONObject();"], [62, "            root.put(\"messages\", new JSONArray());"], [63, "            fileWriter.write(root.toJSONString());"], [64, "            fileWriter.flush();"], [65, "            fileWriter.close();"], [66, "        } catch (IOException e) {"], [67, "            logger.error(\"Error during creating history file: \", e);"], [75, "            msgsArray.add(message.getSourceString());"], [86, "    public void clear(){"], [87, "        curIndex = 0;"], [88, "        messages = new String[0];"], [89, "        JSONParser parser = new JSONParser();"], [90, "        try {"], [91, "            JSONObject root = (JSONObject)parser.parse(new FileReader(HISTORY_FILE));"], [92, "            JSONArray msgsArray = (JSONArray) root.get(\"messages\");"], [93, "            msgsArray.clear();"], [94, "            root.replace(\"messages\",msgsArray);"], [95, "            FileWriter fileWriter = new FileWriter(HISTORY_FILE);"], [96, "            fileWriter.write(root.toJSONString());"], [97, "            fileWriter.flush();"], [98, "            fileWriter.close();"], [99, "        } catch (Exception e) {"], [100, "            logger.error(\"Error during creating history file: \", e);"], [101, "        }"], [102, "    }"]], "deleted": [[55, "            try {"], [56, "                FileWriter fileWriter = new FileWriter(HISTORY_FILE);"], [57, "                JSONObject root = new JSONObject();"], [58, "                root.put(\"messages\", new JSONArray());"], [59, "                fileWriter.write(root.toJSONString());"], [60, "                fileWriter.flush();"], [61, "                fileWriter.close();"], [62, "            } catch (IOException e) {"], [63, "                logger.error(\"Error during creating history file: \", e);"], [64, "            }"], [72, "            msgsArray.add(0,message.getSourceString());"]]}, "num_lines_added": 31, "num_lines_removed": 11}