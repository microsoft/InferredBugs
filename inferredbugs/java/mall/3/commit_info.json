{"hash": "fa0af3188cce4605b36e398d4c5489b38d1a01cb", "message": "\u6dfb\u52a0redis\u7f13\u5b58\u652f\u6301", "file_num_lines": 266, "diff_parsed": {"added": [[17, "import com.macro.mall.service.UmsAdminCacheService;"], [65, "    @Autowired"], [66, "    private UmsAdminCacheService adminCacheService;"], [70, "        UmsAdmin admin = adminCacheService.getAdmin(username);"], [71, "        if(admin!=null) return  admin;"], [76, "            admin = adminList.get(0);"], [77, "            adminCacheService.setAdmin(admin);"], [78, "            return admin;"], [129, "        if(admin==null) return;"], [187, "        int count = adminMapper.updateByPrimaryKeySelective(admin);"], [188, "        adminCacheService.delAdmin(id);"], [189, "        return count;"], [194, "        adminCacheService.delAdmin(id);"], [195, "        int count = adminMapper.deleteByPrimaryKey(id);"], [196, "        adminCacheService.delResourceList(id);"], [197, "        return count;"], [218, "        adminCacheService.delResourceList(adminId);"], [229, "        List<UmsResource> resourceList = adminCacheService.getResourceList(adminId);"], [230, "        if(CollUtil.isNotEmpty(resourceList)){"], [231, "            return  resourceList;"], [232, "        }"], [233, "        resourceList = adminRoleRelationDao.getResourceList(adminId);"], [234, "        if(CollUtil.isNotEmpty(resourceList)){"], [235, "            adminCacheService.setResourceList(adminId,resourceList);"], [236, "        }"], [237, "        return resourceList;"], [301, "        adminCacheService.delAdmin(umsAdmin.getId());"]], "deleted": [[71, "            return adminList.get(0);"], [179, "        return adminMapper.updateByPrimaryKeySelective(admin);"], [184, "        return adminMapper.deleteByPrimaryKey(id);"], [215, "        return adminRoleRelationDao.getResourceList(adminId);"]]}, "num_lines_added": 27, "num_lines_removed": 4}