{"hash": "752f1e85efa13fa3debe0167e98b7a70038d4997", "message": "Performance improvment", "file_num_lines": 188, "diff_parsed": {"added": [[135, "                buffer.writeBytes(Integer.toHexString(length - offset).getBytes(\"UTF-8\"));"], [136, "                buffer.writeBytes(CHUNK_DELIMITER);"], [139, "            buffer.writeBytes(data, offset, length);"], [141, "                buffer.writeBytes(CHUNK_DELIMITER);"], [144, "            channel.write(buffer).addListener(listener);"], [179, "        AtmosphereResource r = response != null ? response.resource() : null;"], [203, "            buffer.writeBytes(ENDCHUNK);"], [204, "            channel.write(buffer).addListener(new ChannelFutureListener() {"], [205, "                @Override"], [206, "                public void operationComplete(ChannelFuture future) throws Exception {"], [207, "                    if (!keepAlive) {"], [208, "                        channel.close().awaitUninterruptibly();"], [210, "                }"], [211, "            });"]], "deleted": [[24, "import org.jboss.netty.buffer.ChannelBufferOutputStream;"], [135, "            ChannelBufferOutputStream c = new ChannelBufferOutputStream(buffer);"], [136, ""], [138, "                c.write(Integer.toHexString(length - offset).getBytes(\"UTF-8\"));"], [139, "                c.write(CHUNK_DELIMITER);"], [142, "            c.write(data, offset, length);"], [144, "                c.write(CHUNK_DELIMITER);"], [147, "            channel.write(c.buffer()).addListener(listener);"], [182, "        AtmosphereResource r =  response != null ? response.resource() : null;"], [206, "            ChannelBufferOutputStream c = new ChannelBufferOutputStream(buffer);"], [207, "            try {"], [208, "                c.write(ENDCHUNK);"], [209, "                channel.write(buffer).addListener(new ChannelFutureListener() {"], [210, "                    @Override"], [211, "                    public void operationComplete(ChannelFuture future) throws Exception {"], [212, "                        if (!keepAlive) {"], [213, "                            channel.close().awaitUninterruptibly();"], [214, "                        }"], [216, "                });"], [217, ""], [218, "            } catch (IOException e) {"], [219, "                logger.trace(\"Close error\", e);"], [220, "            }"]]}, "num_lines_added": 14, "num_lines_removed": 23}