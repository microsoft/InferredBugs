{"hash": "6143222e5cce6eab1cb940408f89ca6265ec42b1", "message": "fixed deadlock when HAVE message was not sended to some peer", "file_num_lines": 567, "diff_parsed": {"added": [[812, "    final String torrentHash;"], [814, "      torrentHash = torrent.getHexInfoHash();"], [858, ""], [859, "    // Send a HAVE message to all connected peers"], [860, "    PeerMessage have = PeerMessage.HaveMessage.craft(piece.getIndex());"], [861, "    for (SharingPeer remote : getConnectedPeers()) {"], [862, "      if (remote.getTorrent().getHexInfoHash().equals(torrentHash))"], [863, "        remote.send(have);"], [864, "    }"]], "deleted": [[828, "        // Send a HAVE message to all connected peers"], [829, "        PeerMessage have = PeerMessage.HaveMessage.craft(piece.getIndex());"], [830, "        final String torrentHash = torrent.getHexInfoHash();"], [831, "        for (SharingPeer remote : getConnectedPeers()) {"], [832, "          if (remote.getTorrent().getHexInfoHash().equals(torrentHash))"], [833, "            remote.send(have);"], [834, "        }"], [835, ""]]}, "num_lines_added": 9, "num_lines_removed": 8}