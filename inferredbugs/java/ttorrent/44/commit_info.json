{"hash": "4edd23d23f187ef1f377b4f749dbe8c882145170", "message": "added handling exception on incorrect URI in torrent file. Added logging dot torrent file path for debugging", "file_num_lines": 604, "diff_parsed": {"added": [[27, "import com.turn.ttorrent.common.protocol.TrackerMessage;"], [163, "    forceAnnounceAndLogError(torrent, finished ? COMPLETED : STARTED, announceableTorrent.getDotTorrentFilePath());"], [168, "  private void forceAnnounceAndLogError(AnnounceableTorrent torrent, TrackerMessage.AnnounceRequestMessage.RequestEvent event,"], [169, "                                        String dotTorrentFilePath) {"], [170, "    try {"], [171, "      this.announce.forceAnnounce(torrent, this, event);"], [172, "    } catch (IOException e) {"], [173, "      logger.warn(\"unable to force announce torrent {}. Dot torrent path is {}\", torrent.getHexInfoHash(), dotTorrentFilePath);"], [174, "      logger.debug(\"\", e);"], [175, "    }"], [176, "  }"], [177, ""], [189, "    sendStopEvent(torrentsPair.getAnnounceableFileTorrent(), torrentHash.getHexInfoHash());"], [199, "    sendStopEvent(torrentsPair.getAnnounceableFileTorrent(), torrentHash);"], [200, "  }"], [201, ""], [202, "  private void sendStopEvent(AnnounceableFileTorrent announceableFileTorrent, String torrentHash) {"], [203, "    if (announceableFileTorrent == null) {"], [205, "      return;"], [207, "    forceAnnounceAndLogError(announceableFileTorrent, STOPPED, announceableFileTorrent.getDotTorrentFilePath());"]], "deleted": [[162, "    this.announce.forceAnnounce(torrent, this, finished ? COMPLETED : STARTED);"], [178, "    final AnnounceableFileTorrent announceableFileTorrent = torrentsPair.getAnnounceableFileTorrent();"], [179, "    if (announceableFileTorrent == null) {"], [180, "      logger.info(\"Announceable torrent {} not found in storage on removing torrent\", torrentHash.getHexInfoHash());"], [181, "    }"], [182, "    try {"], [183, "      this.announce.forceAnnounce(announceableFileTorrent, this, STOPPED);"], [184, "    } catch (IOException e) {"], [185, "      LoggerUtils.warnAndDebugDetails(logger, \"can not send force stop announce event on delete torrent {}\", torrentHash.getHexInfoHash(), e);"], [186, "    }"], [196, "    final AnnounceableFileTorrent announceableFileTorrent = torrentsPair.getAnnounceableFileTorrent();"], [197, "    if (announceableFileTorrent != null) {"], [198, "      try {"], [199, "        this.announce.forceAnnounce(announceableFileTorrent, this, STOPPED);"], [200, "      } catch (IOException e) {"], [201, "        LoggerUtils.warnAndDebugDetails(logger, \"can not send force stop announce event on delete torrent {}\", torrentHash, e);"], [202, "      }"], [203, "    } else {"]]}, "num_lines_added": 20, "num_lines_removed": 18}