{"hash": "0c4788a74e68f8246686e92f5f38686594f789f8", "message": "Splashscreen", "file_num_lines": 89, "diff_parsed": {"added": [[21, "import java.io.*;"], [22, "import java.nio.file.Files;"], [23, "import java.nio.file.Path;"], [26, ""], [27, "import mediathek.daten.Daten;"], [28, "import mediathek.tool.Konstanten;"], [33, "    private Path historyFilePath = null;"], [35, "    public History() {"], [36, "        try {"], [37, "            historyFilePath = getHistoryFilePath();"], [38, "        } catch (IOException ex) {"], [39, "            ex.printStackTrace();"], [40, "        }"], [64, "    /**"], [65, "     * Get the Path to the history file"], [66, "     * @return Path object to history file"], [67, "     */"], [68, "    private Path getHistoryFilePath() throws IOException {"], [69, "        Path historyFilePath = null;"], [70, "        historyFilePath = Daten.getSettingsDirectory().resolve(\"history.txt\");"], [71, ""], [72, "        return historyFilePath;"], [73, "    }"], [74, ""], [77, ""], [78, "        if (Files.notExists(historyFilePath))"], [80, ""], [81, "        try (BufferedReader br = new BufferedReader(new InputStreamReader(new DataInputStream(Files.newInputStream(historyFilePath))))) {"], [86, ""], [88, "        } catch (Exception e) {"], [95, "        try (BufferedWriter br = new BufferedWriter(new OutputStreamWriter(new DataOutputStream(Files.newOutputStream(historyFilePath)))))"], [96, "        {"], [97, "            for (String h : this)"], [99, ""], [106, "    public void loeschen() {"], [108, ""], [109, "        if (Files.notExists(historyFilePath))"], [111, ""], [112, "        try {"], [113, "            Files.delete(historyFilePath);"], [114, "            ListenerMediathekView.notify(ListenerMediathekView.EREIGNIS_LISTE_HISTORY_GEAENDERT, History.class.getSimpleName());"], [115, "        } catch (IOException ignored) {"]], "deleted": [[21, "import java.io.BufferedReader;"], [22, "import java.io.BufferedWriter;"], [23, "import java.io.DataInputStream;"], [24, "import java.io.DataOutputStream;"], [25, "import java.io.File;"], [26, "import java.io.FileInputStream;"], [27, "import java.io.FileOutputStream;"], [28, "import java.io.InputStreamReader;"], [29, "import java.io.OutputStreamWriter;"], [37, "    private String datei = \"\";"], [38, ""], [39, "    public History(String history_datei) {"], [40, "        datei = history_datei;"], [66, "        File file = new File(datei);"], [67, "        if (!file.exists()) {"], [69, "        }"], [70, "        try {"], [71, "            FileInputStream fstream = new FileInputStream(datei);"], [72, "            DataInputStream in = new DataInputStream(fstream);"], [73, "            BufferedReader br = new BufferedReader(new InputStreamReader(in));"], [78, "            //Close the input stream"], [79, "            in.close();"], [81, "        } catch (Exception e) {//Catch exception if any"], [88, "        try {"], [89, "            FileOutputStream fstream = new FileOutputStream(datei);"], [90, "            DataOutputStream out = new DataOutputStream(fstream);"], [91, "            BufferedWriter br = new BufferedWriter(new OutputStreamWriter(out));"], [92, "            for (String h : this) {"], [94, "            }"], [96, "            out.close();"], [102, "    public void loschen() {"], [104, "        File file = new File(datei);"], [105, "        if (!file.exists()) {"], [108, "        file.delete();"], [109, "        ListenerMediathekView.notify(ListenerMediathekView.EREIGNIS_LISTE_HISTORY_GEAENDERT, History.class.getSimpleName());"]]}, "num_lines_added": 42, "num_lines_removed": 35}