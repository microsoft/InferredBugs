{"hash": "f2c8f394da4d87ab53b109f67cd7c380feae7c3f", "message": "(feat) Introduce feature set option", "file_num_lines": 835, "diff_parsed": {"added": [[591, "    if (opt == Options.FEATURE_SET) {"], [592, "      if (!getOptionValue(opt).featureSet.contains(Feature.Module)) {"], [600, "  /**"], [601, "   * Enable a script engine feature."], [602, "   *"], [603, "   * @see Feature"], [604, "   * @since 5.0.0"], [605, "   * @param feature"], [606, "   */"], [607, "  public void enableFeature(final Feature feature) {"], [608, "    this.options.get(Options.FEATURE_SET).featureSet.add(feature);"], [609, "    if (feature == Feature.Module) {"], [610, "      addLoadAndRequireFunction();"], [611, "    }"], [612, "  }"], [613, ""], [614, ""], [615, "  /**"], [616, "   * Disable a script engine feature."], [617, "   *"], [618, "   * @see Feature"], [619, "   * @since 5.0.0"], [620, "   * @param feature"], [621, "   */"], [622, "  public void disableFeature(final Feature feature) {"], [623, "    this.options.get(Options.FEATURE_SET).featureSet.remove(feature);"], [624, "    if (feature == Feature.Module) {"], [625, "      removeLoadAndRequireFunction();"], [626, "    }"], [627, "  }"], [628, ""], [903, "    if (this.options.get(Options.FEATURE_SET).featureSet.contains(Feature.Module)) {"], [904, "      addLoadAndRequireFunction();"], [905, "    }"], [1297, "        ASMCodeGenerator asmCodeGenerator ="], [1298, "            new ASMCodeGenerator(this, classLoader, this.traceOutputStream);"], [1302, "        return new OptimizeCodeGenerator(this, classLoader, this.traceOutputStream);"]], "deleted": [[591, "    if (opt == Options.ENABLE_REQUIRE_LOAD_SCRIPTS) {"], [592, "      if (getOptionValue(opt).bool) {"], [1265, "        ASMCodeGenerator asmCodeGenerator = new ASMCodeGenerator(this, classLoader,"], [1266, "            this.traceOutputStream, getOptionValue(Options.TRACE).bool);"], [1270, "        return new OptimizeCodeGenerator(this, classLoader, this.traceOutputStream,"], [1271, "            getOptionValue(Options.TRACE).bool);"]]}, "num_lines_added": 37, "num_lines_removed": 6}