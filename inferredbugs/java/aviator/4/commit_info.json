{"hash": "6b90fb6d2943cf8ab595557ffd2dc9f75782a1f6", "message": "(feat) tweak option", "file_num_lines": 420, "diff_parsed": {"added": [[31, "import com.googlecode.aviator.Options.Value;"], [109, "  /**"], [110, "   * Options"], [111, "   */"], [112, "  private volatile Map<Options, Value> options = new IdentityHashMap<Options, Value>();"], [113, ""], [114, ""], [161, "    Map<Options, Value> newOpts = new IdentityHashMap<>(this.options);"], [162, "    newOpts.put(opt, opt.intoValue(val));"], [173, "  @Deprecated"], [176, "    Value val = options.get(opt);"], [177, "    if (val == null) {"], [178, "      val = opt.getDefaultValueObject();"], [179, "    }"], [180, ""], [181, "    return (T) opt.intoObject(val);"], [182, "  }"], [183, ""], [184, "  /**"], [185, "   * Returns the current evaluator option value union, returns null if missing."], [186, "   *"], [187, "   * @param opt"], [188, "   * @return"], [189, "   */"], [190, "  public Value getOptionValue(Options opt) {"], [191, "    Value val = options.get(opt);"], [193, "      val = opt.getDefaultValueObject();"], [195, "    return val;"], [226, "    Map<Options, Object> ret = new HashMap<>();"], [227, "    for (Map.Entry<Options, Value> entry : this.options.entrySet()) {"], [228, "      ret.put(entry.getKey(), entry.getKey().intoObject(entry.getValue()));"], [229, "    }"], [230, "    return ret;"], [383, "    for (Options opt : Options.values()) {"], [384, "      options.put(opt, opt.getDefaultValueObject());"], [385, "    }"], [654, "    if (getOptionValue(Options.TRACE_EVAL).bool) {"], [661, "    return getOptionValue(Options.OPTIMIZE_LEVEL).level;"], [675, "            traceOutputStream, getOptionValue(Options.TRACE).bool);"], [680, "            getOptionValue(Options.TRACE).bool);"]], "deleted": [[108, "  private volatile Map<Options, Object> options = new IdentityHashMap<Options, Object>();"], [155, "    Map<Options, Object> newOpts = new IdentityHashMap<>(this.options);"], [156, "    newOpts.put(opt, val);"], [169, "    Object val = options.get(opt);"], [171, "      val = opt.getDefaultValue();"], [173, "    return (T) val;"], [204, "    return options;"], [625, "    if ((boolean) getOption(Options.TRACE_EVAL)) {"], [632, "    return getOption(Options.OPTIMIZE_LEVEL);"], [646, "            traceOutputStream, (Boolean) getOption(Options.TRACE));"], [651, "            (Boolean) getOption(Options.TRACE));"]]}, "num_lines_added": 40, "num_lines_removed": 11}