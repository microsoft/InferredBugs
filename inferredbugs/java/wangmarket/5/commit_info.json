{"hash": "c2052d8622aa0ec27430d3e651fc5c804cdb7573", "message": "1. \u4fee\u590d\u963f\u91cc\u4e91OSS\u5b58\u50a8\uff0c\u81ea\u5df1\u5f00\u53d1\u7684\u6a21\u7248\uff0c\u4e0a\u4f20\u540e\u8d44\u6e90\u7d20\u6750\u88ab\u91cd\u65b0\u547d\u540d\u5bfc\u81f4\u8bf7\u6c42\u4e0d\u5230\u8d44\u6e90\u7684\u95ee\u9898\u3002\n2. \u6a21\u7248\u5f00\u53d1\u63d2\u4ef6\u4f18\u5316\uff0c\u4f7f\u4e4b\u53ef\u4ee5\u66f4\u6539\u6a21\u7248\u7684\u540d\u5b57", "file_num_lines": 228, "diff_parsed": {"added": [[139, "\t\tSite site = getSite();"], [140, ""], [146, ""], [147, "\t\t//\u8d44\u6e90\u6587\u4ef6\u8bbe\u7f6e,\u521b\u5efa\u6216\u8005\u8f6c\u79fb"], [148, "\t\tif(site.getTemplateName() != null && site.getTemplateName().length() > 0){"], [149, "\t\t\t//return error(\"\u5f53\u524d\u5df2\u6709\u6a21\u7248\u7f16\u7801\uff0c\u4e0d\u53ef\u518d\u6b21\u8bbe\u7f6e\uff01\");"], [150, "\t\t\t//\u5f53\u524d\u5df2\u6709\u6a21\u7248\u7f16\u7801\uff0c\u5224\u65ad\u662f\u5426\u662f\u8fd9\u4e2a\u4eba\u7684\uff0c\u4e5f\u5c31\u662f\u5224\u65ad\u4e00\u4e0b\u662f\u5426\u6709\u539f\u672c\u6a21\u7248\u7f16\u7801\u7684\u6a21\u7248\u8d44\u6e90\u6587\u4ef6"], [151, "\t\t\tSystem.out.println(Global.getProjectPath()+getExportPath()+site.getTemplateName());"], [152, "\t\t\tif(!FileUtil.exists(Global.getProjectPath()+getExportPath()+site.getTemplateName())){"], [153, "\t\t\t\treturn error(\"\u6ca1\u6709\u53d1\u73b0\u6a21\u7248\u8d44\u6e90\u6587\u4ef6\uff01\u6a21\u7248\u662f\u4f60\u505a\u7684\u5417\uff1f\");"], [154, "\t\t\t}"], [155, "\t\t\tSystem.out.println(\"old----- \"+Global.getProjectPath()+getExportPath()+site.getTemplateName());"], [156, "\t\t\tFile file = new File(Global.getProjectPath()+getExportPath()+site.getTemplateName());"], [157, "\t\t\tfile.renameTo(new File(Global.getProjectPath()+getExportPath()+templateName));"], [158, "\t\t\tSystem.out.println(\"new------ \"+Global.getProjectPath()+getExportPath()+templateName);"], [159, ""], [160, "\t\t}else{"], [161, "\t\t\t//\u5f53\u524d\u8fd8\u6ca1\u6709\u6a21\u7248\u7f16\u7801"], [162, "\t\t\t//\u521b\u5efa\u6a21\u7248\u7f16\u7801\u7684\u6587\u4ef6\u5939"], [163, "\t\t\tFile file = new File(Global.getProjectPath()+getExportPath()+templateName);"], [164, "\t\t\tfile.mkdir();\t//\u521b\u5efa\u8fd9\u4e2a\u6587\u4ef6\u5939"], [165, "\t\t\t//\u521b\u5efa css \u6587\u4ef6\u5939"], [166, "\t\t\tnew File(Global.getProjectPath()+getExportPath()+templateName+\"/css\").mkdir();"], [167, "\t\t\t//\u521b\u5efa js \u6587\u4ef6\u5939"], [168, "\t\t\tnew File(Global.getProjectPath()+getExportPath()+templateName+\"/js\").mkdir();"], [169, "\t\t\t//\u521b\u5efa images \u6587\u4ef6\u5939"], [170, "\t\t\tnew File(Global.getProjectPath()+getExportPath()+templateName+\"/images\").mkdir();"], [171, ""], [172, "\t\t}"], [173, ""], [174, ""], [181, ""], [186, ""], [187, "\t\t//\u66f4\u65b0\u5f53\u524d\u7ad9\u70b9\u7684\u7f13\u5b58"]], "deleted": [[134, "\t\tSite site = getSite();"], [135, "\t\tif(site.getTemplateName() != null && site.getTemplateName().length() > 0){"], [136, "\t\t\treturn error(\"\u5f53\u524d\u5df2\u6709\u6a21\u7248\u7f16\u7801\uff0c\u4e0d\u53ef\u518d\u6b21\u8bbe\u7f6e\uff01\");"], [137, "\t\t}"], [164, "\t\t//\u521b\u5efa\u6a21\u7248\u7f16\u7801\u7684\u6587\u4ef6\u5939"], [165, "\t\tFile file = new File(Global.getProjectPath()+getExportPath()+templateName);"], [166, "\t\tfile.mkdir();\t//\u521b\u5efa\u8fd9\u4e2a\u6587\u4ef6\u5939"], [167, "\t\t//\u521b\u5efa css \u6587\u4ef6\u5939"], [168, "\t\tnew File(Global.getProjectPath()+getExportPath()+templateName+\"/css\").mkdir();"], [169, "\t\t//\u521b\u5efa js \u6587\u4ef6\u5939"], [170, "\t\tnew File(Global.getProjectPath()+getExportPath()+templateName+\"/js\").mkdir();"], [171, "\t\t//\u521b\u5efa images \u6587\u4ef6\u5939"], [172, "\t\tnew File(Global.getProjectPath()+getExportPath()+templateName+\"/images\").mkdir();"]]}, "num_lines_added": 34, "num_lines_removed": 13}