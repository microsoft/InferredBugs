{"hash": "f66860882ab5b1d1a00a875c397e8715567664e7", "message": "Fix system-image-path if custom tag is used in ABI\n\nHaving a tag prefixed to the ABI-String produced an\nincorrect system-image value for the sdkmanager to\nload and an incorrect package path for the avdmanager\nto create the AVD.\nBoth occurences are fixed, additionally the description\nof the tragetABI field was updated, to give more clear\ninstruction about how to prefix a tag.\nAlways specify --tags on create avd, autoselection does\nnot work on SDK Tools v26.0.1 and lower.", "file_num_lines": 212, "diff_parsed": {"added": [[161, "        assertEquals(\"sys-img-x86-android-23\", AndroidPlatform.valueOf(\"android-23\").getSystemImageName(\"x86\"));"], [162, "        assertEquals(\"sys-img-x86-google_apis-23\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:23\").getSystemImageName(\"x86\"));"], [163, "        assertEquals(\"sys-img-x86-google_apis-24\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getSystemImageName(\"x86\"));"], [164, "        assertEquals(\"sys-img-x86_64-apple_apis-24\", AndroidPlatform.valueOf(\"Apple Inc.:Apple APIs:24\").getSystemImageName(\"x86_64\"));"], [165, "        assertEquals(\"sys-img-x86_64-ms_apis-24\", AndroidPlatform.valueOf(\"MS Company:MS APIs:24\").getSystemImageName(\"x86_64\"));"], [178, "        assertEquals(\"sys-img-x86-google_apis-24\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getSystemImageName(\"/x86\"));"], [179, "        assertEquals(\"sys-img-x86-google_apis-24\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getSystemImageName(\"///////x86\"));"], [181, "        assertEquals(\"sys-img-x86_64-google_apis-24\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getSystemImageName(\"x86_64/\"));"], [182, "        assertEquals(\"sys-img-x86_64-google_apis-24\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getSystemImageName(\"x86_64////\"));"], [206, "        assertEquals(\"system-images;android-23;test;x86\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:23\").getPackagePathOfSystemImage(\"test/x86\"));"], [207, "        assertEquals(\"system-images;android-24;google_apis;x86\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getPackagePathOfSystemImage(\"x86\"));"], [208, "        assertEquals(\"system-images;android-24;apple_apis;x86_64\", AndroidPlatform.valueOf(\"Apple Inc.:Apple APIs:24\").getPackagePathOfSystemImage(\"x86_64\"));"], [209, "        assertEquals(\"system-images;android-24;test;x86_64\", AndroidPlatform.valueOf(\"MS Company:MS APIs:24\").getPackagePathOfSystemImage(\"test/x86_64\"));"], [210, "        assertEquals(\"system-images;android-23;test;armabi-v7a\", AndroidPlatform.valueOf(\"android-23\").getPackagePathOfSystemImage(\"test/armabi-v7a\"));"], [211, "        assertEquals(\"system-images;android-24;test;armabi-v7a\", AndroidPlatform.valueOf(\"android-24\").getPackagePathOfSystemImage(\"test/armabi-v7a\"));"], [212, "        assertEquals(\"system-images;android-26;test;arm64-v8a\", AndroidPlatform.valueOf(\"android-26\").getPackagePathOfSystemImage(\"test/arm64-v8a\"));"], [220, "        assertEquals(\"system-images;android-26;google_apis;x86\", AndroidPlatform.valueOf(\"android-26\").getPackagePathOfSystemImage(\"google_apis/x86\"));"], [221, ""]], "deleted": [[161, "        assertEquals(\"sys-img-x86-android-23\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:23\").getSystemImageName(\"x86\"));"], [162, "        assertEquals(\"sys-img-x86-android-24\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getSystemImageName(\"x86\"));"], [163, "        assertEquals(\"sys-img-x86_64-android-24\", AndroidPlatform.valueOf(\"Apple Inc.:Apple APIs:24\").getSystemImageName(\"x86_64\"));"], [164, "        assertEquals(\"sys-img-x86_64-android-24\", AndroidPlatform.valueOf(\"MS Company:MS APIs:24\").getSystemImageName(\"x86_64\"));"], [177, "        assertEquals(\"sys-img-x86-android-24\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getSystemImageName(\"/x86\"));"], [178, "        assertEquals(\"sys-img-x86-android-24\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getSystemImageName(\"///////x86\"));"], [180, "        assertEquals(\"sys-img-x86_64-android-24\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getSystemImageName(\"x86_64/\"));"], [181, "        assertEquals(\"sys-img-x86_64-android-24\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getSystemImageName(\"x86_64////\"));"], [205, "        assertEquals(\"system-images;test-23;google_apis;x86\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:23\").getPackagePathOfSystemImage(\"test/x86\"));"], [206, "        assertEquals(\"system-images;test-24;google_apis;x86\", AndroidPlatform.valueOf(\"Google Inc.:Google APIs:24\").getPackagePathOfSystemImage(\"test/x86\"));"], [207, "        assertEquals(\"system-images;test-24;apple_apis;x86_64\", AndroidPlatform.valueOf(\"Apple Inc.:Apple APIs:24\").getPackagePathOfSystemImage(\"test/x86_64\"));"], [208, "        assertEquals(\"system-images;test-24;ms_apis;x86_64\", AndroidPlatform.valueOf(\"MS Company:MS APIs:24\").getPackagePathOfSystemImage(\"test/x86_64\"));"], [209, "        assertEquals(\"system-images;test-23;default;armabi-v7a\", AndroidPlatform.valueOf(\"android-23\").getPackagePathOfSystemImage(\"test/armabi-v7a\"));"], [210, "        assertEquals(\"system-images;test-24;default;armabi-v7a\", AndroidPlatform.valueOf(\"android-24\").getPackagePathOfSystemImage(\"test/armabi-v7a\"));"], [211, "        assertEquals(\"system-images;test-26;default;arm64-v8a\", AndroidPlatform.valueOf(\"android-26\").getPackagePathOfSystemImage(\"test/arm64-v8a\"));"]]}, "num_lines_added": 18, "num_lines_removed": 15}