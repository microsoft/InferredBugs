{"hash": "364b62c34547a3a4e4b5496e1e50eee1d6daa514", "message": "PHOENIX-5580 Wrong values seen when updating a view for a table that has an index\n\nSigned-off-by: Abhishek Singh Chouhan <achouhan@apache.org>", "file_num_lines": 1621, "diff_parsed": {"added": [[335, "    private PTableType parentTableType;"], [397, ""], [437, "        PTable parentTable = dataTable;"], [443, "                parentTable = PhoenixRuntime.getTable(connection,"], [445, "                this.indexDataColumnCount = parentTable.getPKColumns().size();"], [450, "        this.parentTableType = parentTable.getType();"], [650, "                if (!viewConstantColumnBitSet.get(i) || isIndexOnBaseTable()) {"], [965, "        if (isIndexOnBaseTable()) {"], [966, "            return 0;"], [967, "        }"], [1441, "        if (proto.hasParentTableType()) {"], [1442, "            maintainer.parentTableType = PTableType.fromValue(proto.getParentTableType());"], [1443, "        }"], [1547, "        if (maintainer.parentTableType != null) {"], [1548, "            builder.setParentTableType(maintainer.parentTableType.toString());"], [1549, "        }"], [1667, "            if (!viewConstantColumnBitSet.get(i) || isIndexOnBaseTable()) {"], [1902, "    public boolean isIndexOnBaseTable() {"], [1903, "        if (parentTableType == null) {"], [1904, "            return false;"], [1905, "        }"], [1906, "        return parentTableType == PTableType.TABLE;"], [1907, "    }"], [1908, ""]], "deleted": [[396, ""], [441, "                PTable indexTable = PhoenixRuntime.getTable(connection,"], [443, "                this.indexDataColumnCount = indexTable.getPKColumns().size();"], [647, "                if (!viewConstantColumnBitSet.get(i)) {"], [1655, "            if (!viewConstantColumnBitSet.get(i)) {"]]}, "num_lines_added": 24, "num_lines_removed": 5}