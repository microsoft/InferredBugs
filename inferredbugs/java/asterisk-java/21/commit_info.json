{"hash": "4550d63145968f763fee2c8bee60cc737c5ca999", "message": "*Set->LinkedHashMap for high performance", "file_num_lines": 667, "diff_parsed": {"added": [[53, "    final LinkedHashMap<String,AsteriskChannelImpl> channels = new LinkedHashMap<String,AsteriskChannelImpl>();"], [116, "            for (AsteriskChannel channel : channels.values())"], [131, "            channels.put(channel.getId(), channel);"], [144, "            i = channels.values().iterator();"], [292, "            for (AsteriskChannelImpl tmp : channels.values())"], [294, "                if (name.equals(tmp.getName()))"], [334, "            for (AsteriskChannelImpl tmp : channels.values())"], [336, "                if (name.equals(tmp.getName()) && tmp.getState() != ChannelState.HUNGUP)"], [345, "    AsteriskChannelImpl getChannelImplById(String uniqueId) {"], [346, "      if (uniqueId == null) { return null;}"], [348, "      synchronized (channels) {"], [349, "\t      return channels.get(uniqueId);"], [350, "      }"], [351, "    }//getChannelImplById"], [451, "\t\t\t\tfinal String oldId = channel.getId();"], [452, "\t\t\t\tfinal String newId = event.getUniqueId();"], [453, ""], [454, "\t\t\t\tif (oldId != null && oldId.equals(newId)) { return;}"], [455, ""], [456, "\t\t\t\tlogger.info(\"Changing unique_id for '\" + channel.getName() + \"' from \" + oldId + \" to \" + newId +\" < \"+ event);"], [457, "\t\t\t\tsynchronized(channels) {"], [458, "\t\t\t\t\tchannels.remove(oldId);"], [459, "\t\t\t\t\tchannels.put(newId, channel);"], [460, "\t\t\t\t\tchannel.idChanged(event.getDateReceived(), newId);"], [461, "\t\t\t\t}"]], "deleted": [[53, "    final Set<AsteriskChannelImpl> channels;"], [66, "        this.channels = new HashSet<AsteriskChannelImpl>();"], [117, "            for (AsteriskChannel channel : channels)"], [132, "            channels.add(channel);"], [145, "            i = channels.iterator();"], [293, "            for (AsteriskChannelImpl tmp : channels)"], [295, "                if (tmp.getName() != null && tmp.getName().equals(name))"], [335, "            for (AsteriskChannelImpl tmp : channels)"], [337, "                if (tmp.getName() != null && tmp.getName().equals(name) && tmp.getState() != ChannelState.HUNGUP)"], [346, "    AsteriskChannelImpl getChannelImplById(String id)"], [347, "    {"], [348, "        if (id == null)"], [349, "        {"], [350, "            return null;"], [351, "        }"], [353, "        synchronized (channels)"], [354, "        {"], [355, "            for (AsteriskChannelImpl channel : channels)"], [356, "            {"], [357, "                if (id.equals(channel.getId()))"], [358, "                {"], [359, "                    return channel;"], [360, "                }"], [361, "            }"], [362, "        }"], [363, "        return null;"], [364, "    }"], [464, "\t\t\t\tlogger.info(\"Changing unique_id for '\" + channel.getName() + \"' from \" + channel.getId() + \" to \" + event.getUniqueId() +\" < \"+ event);"], [465, "\t\t\t\tchannel.idChanged(event.getDateReceived(), event.getUniqueId());"]]}, "num_lines_added": 25, "num_lines_removed": 29}