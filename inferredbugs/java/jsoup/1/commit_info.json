{"hash": "c95216aa6e1f0dc5d39aea88624b05b953953d3d", "message": "Implemented comment handling.\n\nNot very happy with token and parser. Would like to reimplement with some kind of expect / consumeTo behavior. Getting a bit too hacky.", "file_num_lines": 66, "diff_parsed": {"added": [[31, "        StringBuilder commentAccum = null;"], [32, ""], [36, "            if (token.isFullComment()) { // <!-- comment -->"], [37, "                Comment comment = new Comment(stack.peek(), token.getCommentData());"], [38, "                stack.getLast().addChild(comment);"], [39, "            } else if (token.isStartComment()) { // <!-- comment"], [40, "                commentAccum = new StringBuilder(token.getCommentData());"], [41, "            } else if (token.isEndComment() && commentAccum != null) { // comment -->"], [42, "                commentAccum.append(token.getCommentData());"], [43, "                Comment comment = new Comment(stack.peek(), commentAccum.toString());"], [44, "                stack.getLast().addChild(comment);"], [45, "                commentAccum = null;"], [46, "            } else if (commentAccum != null) { // within a comment"], [47, "                commentAccum.append(token.getData());"], [48, "            }"], [49, ""], [50, "            else if (token.isStartTag()) {"], [65, "            if (token.isEndTag() && commentAccum == null) { // empty tags are both start and end tags"], [69, ""], [70, ""]], "deleted": [[34, "            if (token.isStartTag()) {"], [49, "            if (token.isEndTag()) { // empty tags are both start and end tags"]]}, "num_lines_added": 20, "num_lines_removed": 2}