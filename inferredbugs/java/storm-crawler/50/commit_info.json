{"hash": "6a33d3bfe2314fcc555c835775fe687690321998", "message": "Fix NPE in elasticsearch CollapsingSpout #595", "file_num_lines": 176, "diff_parsed": {"added": [[228, "        // no more results?"], [229, "        if (numBuckets == 0) {"], [230, "            lastDate = null;"], [231, "            lastStartOffset = 0;"], [232, "        }"], [233, "        // still got some results but paging won't help"], [234, "        else if (numBuckets < maxBucketNum) {"], [235, "            lastStartOffset = 0;"], [236, "        } else {"], [237, "            lastStartOffset += numBuckets;"], [238, "        }"], [239, ""]], "deleted": [[172, "        // no more results?"], [173, "        if (numBuckets == 0) {"], [174, "            lastDate = null;"], [175, "            lastStartOffset = 0;"], [176, "        }"], [177, "        // still got some results but paging won't help"], [178, "        else if (numBuckets < maxBucketNum) {"], [179, "            lastStartOffset = 0;"], [180, "        } else {"], [181, "            lastStartOffset += numBuckets;"], [182, "        }"], [183, ""]]}, "num_lines_added": 12, "num_lines_removed": 12}