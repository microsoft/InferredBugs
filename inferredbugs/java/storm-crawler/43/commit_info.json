{"hash": "f6ebd795a228aac86bfb7a9a570e6dcf8a6ea91d", "message": "AdaptiveScheduler: check first for HTTP 304 not modified and ignore persisted signatures in this case", "file_num_lines": 120, "diff_parsed": {"added": [[259, "        if (metadata.getFirstValue(\"fetch.statusCode\").equals(\"304\")) {"], [260, "            // HTTP 304 Not Modified"], [261, "            // - no new signature calculated because no content fetched"], [262, "            // - do not compare persisted signatures"], [263, "        } else if (signature == null || oldSignature == null) {"], [268, "            // fall-back to DefaultScheduler"], [269, "            LOG.debug(\"No signature for FETCHED page: {}\", metadata);"], [270, "            return super.schedule(status, metadata);"], [272, "            // unchanged"], [277, "            if (setLastModified) {"], [279, "            }"], [290, "            if (customInterval.isPresent()) {"], [292, "            } else {"], [294, "            }"], [310, "            if (interval > maxFetchInterval) {"], [312, "            }"], [315, "            // remove old signature (do not keep same signature twice)"], [316, "            metadata.remove(SIGNATURE_OLD_KEY);"], [317, "            if (signatureModified == null) {"], [318, "                signatureModified = modifiedTimeString;"], [319, "            }"]], "deleted": [[259, "        if (signature == null || oldSignature == null) {"], [264, ""], [265, "            if (metadata.getFirstValue(\"fetch.statusCode\").equals(\"304\")) {"], [266, "                // HTTP 304 Not Modified"], [267, "            } else {"], [268, "                // fall-back to DefaultScheduler"], [269, "                LOG.debug(\"No signature for FETCHED page: {}\", metadata);"], [270, "                return super.schedule(status, metadata);"], [271, "            }"], [272, ""], [274, "            // unchanged, remove old signature (do not keep same signature"], [275, "            // twice)"], [276, "            metadata.remove(SIGNATURE_OLD_KEY);"], [277, "            if (signatureModified == null)"], [278, "                signatureModified = modifiedTimeString;"], [283, "            if (setLastModified)"], [295, "            if (customInterval.isPresent())"], [297, "            else"], [314, "            if (interval > maxFetchInterval)"]]}, "num_lines_added": 21, "num_lines_removed": 19}