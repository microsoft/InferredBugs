{"hash": "6c418c98cfe63f8780a7abb61f5aefcef33e58a3", "message": "METR-15511: refactor 1", "file_num_lines": 240, "diff_parsed": {"added": [[9, "import ru.yandex.metrika.clickhouse.copypaste.*;"], [33, "    public static String clickhousifySql(String sql) {"], [34, "        return clickhousifySql(sql, \"TabSeparatedWithNamesAndTypes\");"], [35, "    }"], [36, ""], [50, "        String csql = clickhousifySql(sql);"], [53, "            return new CHResultSet(properties.isCompress()"], [54, "                    ? new ClickhouseLZ4Stream(is) : is, properties.getBufferSize());"], [94, "        throw new UnsupportedOperationException();"], [99, "        try {"], [100, "            client.close();"], [101, "        } catch (IOException e) {"], [102, "            throw new CHException(\"HTTP client close exception\", e);"], [103, "        }"]], "deleted": [[3, "import ru.yandex.metrika.clickhouse.copypaste.*;"], [46, "        String csql = clickhousifySql(sql, \"TabSeparatedWithNamesAndTypes\");"], [49, "            return new HttpResult(properties.isCompress()"], [50, "                    ? new ClickhouseLZ4Stream(is) : is, is, properties.getBufferSize());"], [84, "            try { if (is != null) is.close(); } catch (IOException ignored) { }"], [91, "        return 0;"], [96, ""]]}, "num_lines_added": 14, "num_lines_removed": 7}