{"hash": "1cf6bcc19119fed9db5687e458a9fe435e22aef2", "message": "Simplified the tests checking the content of the generated packages", "file_num_lines": 44, "diff_parsed": {"added": [[16, ""], [20, "import java.io.IOException;"], [25, "import org.apache.commons.compress.archivers.tar.TarArchiveEntry;"], [57, "        final Map<String, TarArchiveEntry> filesInDeb = new HashMap<String, TarArchiveEntry>();"], [58, ""], [59, "        ArchiveWalker.walkData(deb, new ArchiveVisitor<TarArchiveEntry>() {"], [60, "            public void visit(TarArchiveEntry entry, byte[] content) throws IOException {"], [61, "                filesInDeb.put(entry.getName(), entry);"], [63, "        }, Compression.GZIP);"], [64, ""]], "deleted": [[19, "import java.io.FileInputStream;"], [22, "import java.util.zip.GZIPInputStream;"], [25, "import org.apache.commons.compress.archivers.ar.ArArchiveEntry;"], [26, "import org.apache.commons.compress.archivers.ar.ArArchiveInputStream;"], [27, "import org.apache.tools.tar.TarEntry;"], [28, "import org.apache.tools.tar.TarInputStream;"], [29, "import org.vafer.jdeb.ar.NonClosingInputStream;"], [61, "        final Map<String, TarEntry> filesInDeb = new HashMap<String, TarEntry>();"], [62, ""], [63, "        final ArArchiveInputStream ar = new ArArchiveInputStream(new FileInputStream(deb));"], [64, "        while (true) {"], [65, "            final ArArchiveEntry arEntry = ar.getNextArEntry();"], [66, "            if (arEntry == null) {"], [67, "                break;"], [69, ""], [70, "            if (\"data.tar.gz\".equals(arEntry.getName())) {"], [71, ""], [72, "                final TarInputStream tar = new TarInputStream(new GZIPInputStream(new NonClosingInputStream(ar)));"], [73, ""], [74, "                while (true) {"], [75, "                    final TarEntry tarEntry = tar.getNextEntry();"], [76, "                    if (tarEntry == null) {"], [77, "                        break;"], [78, "                    }"], [79, ""], [80, "                    filesInDeb.put(tarEntry.getName(), tarEntry);"], [81, "                }"], [82, ""], [83, "                tar.close();"], [84, "                break;"], [85, "            }"], [86, "            for (int i = 0; i < arEntry.getLength(); i++) {"], [87, "                ar.read();"], [88, "            }"], [89, "        }"], [90, ""], [91, "        ar.close();"], [92, ""]]}, "num_lines_added": 10, "num_lines_removed": 38}