{"bug_class": "PROVER", "kind": "ERROR", "bug_type": "THREAD_SAFETY_VIOLATION", "qualifier": "Read/Write race. Non-private method `org.apache.helix.messaging.handling.HelixStateTransitionHandler.preHandleMessage` indirectly reads without synchronization from `this.org.apache.helix.messaging.handling.HelixStateTransitionHandler._stateModel.org.apache.helix.participant.statemachine.StateModel._currentState`. Potentially races with write in method `HelixStateTransitionHandler.handleMessage()`.\n Reporting because another access to the same memory occurs on a background thread, although this access may not.", "severity": "HIGH", "visibility": "user", "line": 119, "column": -1, "procedure": "void HelixStateTransitionHandler.preHandleMessage()", "procedure_id": "org.apache.helix.messaging.handling.HelixStateTransitionHandler.preHandleMessage():void.422a93b1c324481e3c94a0ca0a98f58f", "procedure_start_line": 93, "file": "helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java", "bug_trace": [{"level": 0, "filename": "helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java", "line_number": 119, "column_number": -1, "description": "<Read trace>"}, {"level": 0, "filename": "helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java", "line_number": 119, "column_number": -1, "description": "call to String StateModel.getCurrentState()"}, {"level": 1, "filename": "helix-core/src/main/java/org/apache/helix/participant/statemachine/StateModel.java", "line_number": 37, "column_number": -1, "description": "access to `this.org.apache.helix.participant.statemachine.StateModel._currentState`"}, {"level": 0, "filename": "helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java", "line_number": 371, "column_number": -1, "description": "<Write trace>"}, {"level": 0, "filename": "helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java", "line_number": 371, "column_number": -1, "description": "call to void HelixStateTransitionHandler.postHandleMessage()"}, {"level": 1, "filename": "helix-core/src/main/java/org/apache/helix/messaging/handling/HelixStateTransitionHandler.java", "line_number": 238, "column_number": -1, "description": "call to boolean StateModel.updateState(String)"}, {"level": 2, "filename": "helix-core/src/main/java/org/apache/helix/participant/statemachine/StateModel.java", "line_number": 47, "column_number": -1, "description": "access to `this.org.apache.helix.participant.statemachine.StateModel._currentState`"}], "key": "HelixStateTransitionHandler.java|preHandleMessage|THREAD_SAFETY_VIOLATION", "node_key": "9c5d6d9028928346cc4fb44cced5dea1", "hash": "0f268efbb67a44434ebe35d7a24fd0be", "bug_type_hum": "Thread Safety Violation", "censored_reason": ""}