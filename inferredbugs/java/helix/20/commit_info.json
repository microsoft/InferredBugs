{"hash": "93d04d94c57a7e007aec5f90969ac971abf7a3ec", "message": "Add zkPropertyTransferclient on the participant side", "file_num_lines": 200, "diff_parsed": {"added": [[21, "import com.linkedin.helix.PropertyKey.Builder;"], [23, "import com.linkedin.helix.manager.zk.ZkBaseDataAccessor;"], [24, "import com.linkedin.helix.manager.zk.ZkClient;"], [25, "import com.linkedin.helix.model.LiveInstance;"], [49, "  ZkBaseDataAccessor<ZNRecord> _accessor;"], [50, "  String _zkAddress;"], [94, "        _accessor.updateChildren(paths, updaters, BaseDataAccessor.Option.PERSISTENT);"], [121, "  public void init(int localWebservicePort, String zkAddress)"], [125, "      LOG.error(\"Initializing with port \" + _localWebservicePort + \" zkAddress: \" + zkAddress);"], [127, "      _accessor = new ZkBaseDataAccessor<ZNRecord>(new ZkClient(zkAddress));"], [128, "      _zkAddress = zkAddress;"], [155, "      LOG.error(\"zkDataTransferServer inited:\" + _initialized"], [156, "          + \" shutdownFlag:\"+_shutdownFlag+\" , return\");"], [181, "    LOG.info(\"zkDataTransferServer starting on Port \" + _localWebservicePort + \" zkAddress \" + _zkAddress);"], [182, ""], [208, "    LOG.info(\"zkDataTransferServer started on Port \" + _localWebservicePort + \" zkAddress \" + _zkAddress);"], [218, "    LOG.info(\"zkDataTransferServer shuting down on Port \" + _localWebservicePort + \" zkAddress \" + _zkAddress);"], [233, ""], [234, "  public void reset()"], [235, "  {"], [236, "    if(_shutdownFlag == true)"], [237, "    {"], [238, "      _instance = null;"], [239, "      _shutdownFlag = false;"], [240, "      _initialized = false;"], [241, "    }"], [242, "  }"]], "deleted": [[45, "  HelixManager _manager;"], [89, "        _manager.getHelixDataAccessor().updateChildren(paths, updaters, BaseDataAccessor.Option.PERSISTENT);"], [116, "  public void init(int localWebservicePort, HelixManager manager)"], [121, "      _manager = manager;"], [148, "      LOG.error(\"inited:\" + _initialized + \" shutdownFlag:\"+_shutdownFlag+\" , return\");"], [173, "    LOG.info(\"Cluster \" + _manager.getClusterName() + \" \" + _manager.getInstanceName()"], [174, "        + \" zkDataTransferServer starting...\");"], [200, "    LOG.info(\"Cluster \" + _manager.getClusterName() + \" \" + _manager.getInstanceName()"], [201, "        + \" zkDataTransferServer started\");"], [211, "    LOG.info(\"Cluster \" + _manager.getClusterName() + \" \" + _manager.getInstanceName()"], [212, "        + \" zkDataTransferServer shuting down\");"]]}, "num_lines_added": 27, "num_lines_removed": 11}