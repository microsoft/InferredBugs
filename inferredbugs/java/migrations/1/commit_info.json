{"hash": "2ac13ca92a39ac9763e4c7047937ff030ddb9f8e", "message": "fixes #69 Variable substitution does not work in custom templates.", "file_num_lines": 37, "diff_parsed": {"added": [[2, " *    Copyright 2010-2017 the original author or authors."], [18, "import static org.junit.Assert.*;"], [19, ""], [24, "import org.junit.Before;"], [25, "import org.junit.Test;"], [45, "      try {"], [46, "        fileWriter.append(\"new_command.template=templates/col_new_template_migration.sql\");"], [47, "        fileWriter.flush();"], [48, "        templateName = ExternalResources.getConfiguredTemplate(tempFile.getAbsolutePath(),"], [49, "            \"new_command.template\");"], [50, "        assertEquals(\"templates/col_new_template_migration.sql\", templateName);"], [51, "      } finally {"], [52, "        fileWriter.close();"], [53, "      }"]], "deleted": [[2, " *    Copyright 2010-2016 the original author or authors."], [19, "import java.io.FileNotFoundException;"], [21, "import java.io.IOException;"], [23, "import org.junit.Test;"], [24, "import org.junit.Before;"], [26, ""], [27, "import static org.junit.Assert.*;"], [31, "  private File sourceFile;"], [32, "  private File destFile;"], [33, "  private File badFile;"], [43, "    sourceFile = File.createTempFile(\"test1\", \"sql\");"], [44, "    destFile = File.createTempFile(\"test2\", \"sql\");"], [45, "  }"], [46, ""], [47, "  @Test"], [48, "  public void testcopyExternalResource() {"], [49, ""], [50, "    try {"], [51, "      ExternalResources.copyExternalResource(sourceFile, destFile);"], [52, "    } catch (IOException e) {"], [53, "    }"], [54, ""], [55, "  }"], [56, ""], [57, "  @Test"], [58, "  public void testcopyExternalResource_fileNotFound() {"], [59, ""], [60, "    try {"], [61, "      badFile = new File(\"/tmp/nofile.sql\");"], [62, "      ExternalResources.copyExternalResource(badFile, destFile);"], [63, "    } catch (IOException e) {"], [64, "      assertTrue(e instanceof FileNotFoundException);"], [65, "    }"], [66, ""], [67, "  }"], [68, ""], [69, "  @Test"], [70, "  public void testcopyExternalResource_emptyStringAsFile() {"], [71, ""], [72, "    try {"], [73, "      badFile = new File(\" \");"], [74, "      ExternalResources.copyExternalResource(badFile, destFile);"], [75, "    } catch (Exception e) {"], [76, "      assertTrue(e instanceof FileNotFoundException);"], [77, "    }"], [78, ""], [84, ""], [87, "      fileWriter.append(\"new_command.template=templates/col_new_template_migration.sql\");"], [88, "      fileWriter.flush();"], [89, "      templateName = ExternalResources.getConfiguredTemplate(tempFile.getAbsolutePath(), \"new_command.template\");"], [90, "      assertEquals(\"templates/col_new_template_migration.sql\", templateName);"], [98, "    sourceFile.delete();"], [99, "    destFile.delete();"]]}, "num_lines_added": 14, "num_lines_removed": 53}