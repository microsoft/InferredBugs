{"hash": "63abb30b4e3e70ca1323bfec17171b45060b7594", "message": "Update test class", "file_num_lines": 38, "diff_parsed": {"added": [[42, "    InputStream inputStream = null;"], [43, "    OutputStream outputStream = null;"], [44, "    Socket socket = null;"], [45, "    StringBuffer response = null;"], [46, "    int length = 0;"], [47, "    byte[] buffer = new byte[2048];"], [50, "      SocksProxy proxy = new Socks5(new InetSocketAddress(\"localhost\", 1080));"], [51, "      socket = new SocksSocket(proxy, new InetSocketAddress(\"whois.internic.net\", 43));"], [53, "      inputStream = socket.getInputStream();"], [54, "      outputStream = socket.getOutputStream();"], [56, "      printWriter.print(\"domain google.com\\r\\n\"); // query google.com WHOIS."], [59, "      response = new StringBuffer();"], [60, "      while ((length = inputStream.read(buffer)) > 0) {"], [61, "        response.append(new String(buffer, 0, length));"], [63, ""], [64, "      System.out.println(response.toString());"], [65, ""], [68, "    } finally {"], [69, "      ResourceUtil.close(inputStream, outputStream, socket);"]], "deleted": [[23, "import java.net.UnknownHostException;"], [24, "import java.util.ArrayList;"], [29, "import fucksocks.common.SocksException;"], [45, "    SocksProxy proxy = new Socks5(new InetSocketAddress(\"localhost\", 1080));"], [49, "      @SuppressWarnings(\"resource\")"], [50, "      Socket socket = new SocksSocket(proxy, new InetSocketAddress(\"whois.internic.net\", 43));"], [51, ""], [52, "      InputStream inputStream = socket.getInputStream();"], [53, "      OutputStream outputStream = socket.getOutputStream();"], [55, "      printWriter.print(\"domain google.com\\r\\n\");"], [58, "      byte[] whoisrecords = new byte[2048];"], [59, "      java.util.List<Byte> bytelist = new ArrayList<>(1024 * 6);"], [60, "      int size = 0;"], [61, "      while ((size = inputStream.read(whoisrecords)) > 0) {"], [62, "        for (int i = 0; i < size; i++) {"], [63, "          bytelist.add(whoisrecords[i]);"], [64, "        }"], [65, "      }"], [66, "      System.out.println(\"size:\" + bytelist.size());"], [67, "      byte[] resultbyte = new byte[bytelist.size()];"], [68, "      for (int i = 0; i < resultbyte.length; i++) {"], [69, "        resultbyte[i] = bytelist.get(i);"], [71, "      String string = new String(resultbyte);"], [72, "      System.out.println(string);"], [73, "    } catch (UnknownHostException e) {"], [74, "      e.printStackTrace();"], [75, "    } catch (SocksException e) {"], [76, "      e.printStackTrace();"], [80, ""], [82, ""]]}, "num_lines_added": 19, "num_lines_removed": 30}