{"hash": "279e3860bef52725e2b55a8d871b707602636e9d", "message": "Incremental improvements to Enum serialization; fixing incorrect unit tests", "file_num_lines": 147, "diff_parsed": {"added": [[138, "    static class TestEnumModule extends SimpleModule {"], [139, "        public TestEnumModule() {"], [140, "            super(Version.unknownVersion());"], [141, "        }"], [142, ""], [143, "        @Override"], [144, "        public void setupModule(SetupContext context) {"], [145, "            context.setMixInAnnotations(TestEnum.class, TestEnumMixin.class);"], [146, "            SimpleSerializers keySerializers = new SimpleSerializers();"], [147, "            keySerializers.addSerializer(new TestEnumKeySerializer());"], [148, "            context.addKeySerializers(keySerializers);"], [149, "        }"], [150, "    }"], [151, ""], [164, "        ObjectMapper fancyObjectMapper = new ObjectMapper().registerModule(new TestEnumModule());"], [165, ""], [167, "        Map<TestEnum, Set<String>> map = fancyObjectMapper.convertValue(tree,"], [168, "                new TypeReference<Map<TestEnum, Set<String>>>() { } );"], [177, "        ObjectMapper mapper = new ObjectMapper().registerModule(new TestEnumModule());"], [178, ""], [185, ""], [188, ""]], "deleted": [[8, "import org.junit.Ignore;"], [109, "    static class TestEnumModule extends SimpleModule {"], [110, ""], [111, "        public TestEnumModule() {"], [112, "            super(Version.unknownVersion());"], [113, "        }"], [114, ""], [115, "        @Override"], [116, "        public void setupModule(SetupContext context) {"], [117, "            context.setMixInAnnotations(TestEnum.class, TestEnumMixin.class);"], [118, "            SimpleSerializers keySerializers = new SimpleSerializers();"], [119, "            keySerializers.addSerializer(new TestEnumKeySerializer());"], [120, "            context.addKeySerializers(keySerializers);"], [121, "        }"], [122, ""], [123, "        public static ObjectMapper setupObjectMapper(ObjectMapper mapper) {"], [124, "            final TestEnumModule module = new TestEnumModule();"], [125, "            mapper.registerModule(module);"], [126, "            return mapper;"], [127, "        }"], [128, "    }"], [129, ""], [172, "        ObjectMapper fancyObjectMapper = TestEnumModule.setupObjectMapper(new ObjectMapper());"], [174, "        Map<TestEnum, Set<String>> map = fancyObjectMapper.convertValue(tree, new TypeReference<Map<TestEnum, Set<String>>>() {"], [175, "        });"], [190, "        ObjectMapper mapper = TestEnumModule.setupObjectMapper(new ObjectMapper());"]]}, "num_lines_added": 22, "num_lines_removed": 26}