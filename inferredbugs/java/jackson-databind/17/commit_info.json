{"hash": "41be898f8d07e78d7b1da961bffd92c7b5ef21bf", "message": "Make TokenFilter final in ObjectReader to ensure thread-safety via immutability.\n  - Some cosmetic changes.", "file_num_lines": 910, "diff_parsed": {"added": [[96, "    private final TokenFilter _filter;"], [278, "    protected ObjectReader(ObjectReader base, TokenFilter filter) {"], [279, "        _config = base._config;"], [280, "        _context = base._context;"], [281, "        _rootDeserializers = base._rootDeserializers;"], [282, "        _parserFactory = base._parserFactory;"], [283, "        _valueType = base._valueType;"], [284, "        _rootDeserializer = base._rootDeserializer;"], [285, "        _valueToUpdate = base._valueToUpdate;"], [286, "        _schema = base._schema;"], [287, "        _injectableValues = base._injectableValues;"], [288, "        _unwrapRoot = base._unwrapRoot;"], [289, "        _dataFormatReaders = base._dataFormatReaders;"], [290, "        _filter = filter;"], [291, "    }"], [292, ""], [1102, "        return (T) _bindAndClose(_considerFilter(_parserFactory.createParser(src)));"], [1119, "        return (T) _bindAndClose(_considerFilter(_parserFactory.createParser(src)));"], [1136, "        return (T) _bindAndClose(_considerFilter(_parserFactory.createParser(src)));"], [1153, "        return (T) _bindAndClose(_considerFilter(_parserFactory.createParser(src)));"], [1170, "        return (T) _bindAndClose(_considerFilter(_parserFactory.createParser(src, offset, length)));"], [1181, "        return (T) _bindAndClose(_considerFilter(_parserFactory.createParser(src)));"], [1198, "        return (T) _bindAndClose(_considerFilter(_parserFactory.createParser(src)));"], [1216, "        return (T) _bindAndClose(_considerFilter(treeAsTokens(src)));"], [1235, "        return _bindAndCloseAsTree(_considerFilter(_parserFactory.createParser(in)));"], [1254, "        return _bindAndCloseAsTree(_considerFilter(_parserFactory.createParser(r)));"], [1273, "        return _bindAndCloseAsTree(_considerFilter(_parserFactory.createParser(json)));"], [1328, "        return _bindAndReadValues(_considerFilter(_parserFactory.createParser(src)));"], [1341, "        JsonParser p = _considerFilter(_parserFactory.createParser(src));"], [1360, "        JsonParser p = _considerFilter(_parserFactory.createParser(json));"], [1376, "        return _bindAndReadValues(_considerFilter(_parserFactory.createParser(src)));"], [1397, "        return _bindAndReadValues(_considerFilter(_parserFactory.createParser(src)));"], [1412, "        return _bindAndReadValues(_considerFilter(_parserFactory.createParser(src)));"], [1485, "    protected JsonParser _considerFilter(final JsonParser p) {"], [1486, "        return _filter == null || FilteringParserDelegate.class.isInstance(p)"], [1487, "                ? p : new FilteringParserDelegate(p, _filter, false, false);"], [1808, "    public ObjectReader at(final String value) {"], [1809, "        return new ObjectReader(this, new JsonPointerBasedFilter(value));"], [1810, "    }"], [1817, "    public ObjectReader at(final JsonPointer pointer) {"], [1818, "        return new ObjectReader(this, new JsonPointerBasedFilter(pointer));"], [1819, "    }"]], "deleted": [[96, "    private TokenFilter _filter;"], [1087, "        return (T) _bindAndClose(considerFilter(_parserFactory.createParser(src)));"], [1104, "        return (T) _bindAndClose(considerFilter(_parserFactory.createParser(src)));"], [1121, "        return (T) _bindAndClose(considerFilter(_parserFactory.createParser(src)));"], [1138, "        return (T) _bindAndClose(considerFilter(_parserFactory.createParser(src)));"], [1155, "        return (T) _bindAndClose(considerFilter(_parserFactory.createParser(src, offset, length)));"], [1166, "        return (T) _bindAndClose(considerFilter(_parserFactory.createParser(src)));"], [1183, "        return (T) _bindAndClose(considerFilter(_parserFactory.createParser(src)));"], [1201, "        return (T) _bindAndClose(considerFilter(treeAsTokens(src)));"], [1220, "        return _bindAndCloseAsTree(considerFilter(_parserFactory.createParser(in)));"], [1239, "        return _bindAndCloseAsTree(considerFilter(_parserFactory.createParser(r)));"], [1258, "        return _bindAndCloseAsTree(considerFilter(_parserFactory.createParser(json)));"], [1313, "        return _bindAndReadValues(considerFilter(_parserFactory.createParser(src)));"], [1326, "        JsonParser p = considerFilter(_parserFactory.createParser(src));"], [1345, "        JsonParser p = considerFilter(_parserFactory.createParser(json));"], [1361, "        return _bindAndReadValues(considerFilter(_parserFactory.createParser(src)));"], [1382, "        return _bindAndReadValues(considerFilter(_parserFactory.createParser(src)));"], [1397, "        return _bindAndReadValues(considerFilter(_parserFactory.createParser(src)));"], [1470, "    private JsonParser considerFilter(final JsonParser p) {"], [1471, "    \treturn _filter == null || FilteringParserDelegate.class.isInstance(p)"], [1472, "    \t\t\t? p : new FilteringParserDelegate(p, _filter, false, false);"], [1793, "\tpublic ObjectReader at(final String value) {"], [1794, "\t\t_filter = new JsonPointerBasedFilter(value);"], [1795, "\t\treturn this;"], [1796, "\t}"], [1803, "\tpublic ObjectReader at(final JsonPointer pointer) {"], [1804, "\t\t_filter = new JsonPointerBasedFilter(pointer);"], [1805, "\t\treturn this;"], [1806, "\t}"], [1807, ""]]}, "num_lines_added": 42, "num_lines_removed": 30}