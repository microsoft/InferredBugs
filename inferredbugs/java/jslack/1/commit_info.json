{"hash": "1dd499414652150bbe6c7c4931e0af0c393fd5e9", "message": "Apply improvements on app-backend and lightning", "file_num_lines": 192, "diff_parsed": {"added": [[5, "import com.amazonaws.services.s3.model.AmazonS3Exception;"], [6, "import com.amazonaws.services.s3.model.ObjectMetadata;"], [89, "        if (getObjectMetadata(s3, fullKey) == null && enterpriseId != null) {"], [94, "            S3Object nonGridObject = getObject(s3, nonGridKey);"], [106, "        S3Object s3Object = getObject(s3, fullKey);"], [122, "        if (getObjectMetadata(s3, fullKey) == null && enterpriseId != null) {"], [127, "            S3Object nonGridObject = getObject(s3, nonGridKey);"], [140, "        S3Object s3Object = getObject(s3, fullKey);"], [150, "    private ObjectMetadata getObjectMetadata(AmazonS3 s3, String fullKey) {"], [151, "        try {"], [152, "            return s3.getObjectMetadata(bucketName, fullKey);"], [153, "        } catch (AmazonS3Exception e) {"], [154, "            if (e.getStatusCode() == 404) {"], [155, "                return null;"], [156, "            } else {"], [157, "                throw e;"], [158, "            }"], [159, "        }"], [160, "    }"], [161, ""], [162, "    private S3Object getObject(AmazonS3 s3, String fullKey) {"], [163, "        try {"], [164, "            return s3.getObject(bucketName, fullKey);"], [165, "        } catch (AmazonS3Exception e) {"], [166, "            if (e.getStatusCode() == 404) {"], [167, "                return null;"], [168, "            } else {"], [169, "                throw e;"], [170, "            }"], [171, "        }"], [172, "    }"], [173, ""], [175, "        if (s3Object == null) {"], [176, "            return null;"], [177, "        }"], [183, "        if (s3Object == null) {"], [184, "            return null;"], [185, "        }"]], "deleted": [[87, "        if (s3.getObjectMetadata(bucketName, fullKey) == null && enterpriseId != null) {"], [92, "            S3Object nonGridObject = s3.getObject(bucketName, nonGridKey);"], [104, "        S3Object s3Object = s3.getObject(bucketName, fullKey);"], [120, "        if (s3.getObjectMetadata(bucketName, fullKey) == null && enterpriseId != null) {"], [125, "            S3Object nonGridObject = s3.getObject(bucketName, nonGridKey);"], [138, "        S3Object s3Object = s3.getObject(bucketName, fullKey);"]]}, "num_lines_added": 38, "num_lines_removed": 6}