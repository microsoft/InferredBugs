{"hash": "b6ae5f66e2789531209a57f659dfbdf8c37f1472", "message": "Add a test verifying #451", "file_num_lines": 222, "diff_parsed": {"added": [[8, "import com.slack.api.methods.response.chat.ChatPostMessageResponse;"], [13, "import com.slack.api.model.event.MessageBotEvent;"], [73, "    @Slf4j"], [74, "    public static class BotMessageHandler extends RTMEventHandler<MessageBotEvent> {"], [75, "        public final AtomicInteger counter = new AtomicInteger(0);"], [76, ""], [77, "        @Override"], [78, "        public void handle(MessageBotEvent event) {"], [79, "            log.info(\"bot message event: {}\", event);"], [80, "            counter.incrementAndGet();"], [81, "        }"], [82, "    }"], [83, ""], [125, "                BotMessageHandler bot = new BotMessageHandler();"], [126, "                dispatcher.register(bot);"], [127, ""], [128, "                ChatPostMessageResponse chatPostMessage = slack.methods(classicAppBotToken)"], [129, "                        .chatPostMessage(r -> r.channel(channelId).text(\"Hi!\"));"], [130, "                assertThat(chatPostMessage.getError(), is(nullValue()));"], [131, ""], [132, "                Thread.sleep(1000L);"], [133, "                assertThat(bot.counter.get(), is(1));"], [134, ""], [146, ""]], "deleted": []}, "num_lines_added": 24, "num_lines_removed": 0}