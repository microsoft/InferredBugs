{"hash": "8f1d045422f9e8cb44cdfbc6a9880f6fb9b9f69b", "message": "Cluster slaves change monitoring. #271", "file_num_lines": 545, "diff_parsed": {"added": [[491, "    public void slaveDown(MasterSlaveEntry entry, String host, int port) {"], [492, "        Collection<RedisPubSubConnection> allPubSubConnections = entry.slaveDown(host, port);"], [497, "                PubSubConnectionEntry pubSubEntry = mapEntry.getValue();"], [500, "                if (!pubSubEntry.getConnection().equals(redisPubSubConnection)) {"], [504, "                synchronized (pubSubEntry) {"], [505, "                    pubSubEntry.close();"], [507, "                    final Collection<RedisPubSubListener> listeners = pubSubEntry.getListeners(channelName);"], [508, "                    if (pubSubEntry.getConnection().getPatternChannels().get(channelName) != null) {"], [547, "    protected void slaveDown(ClusterSlotRange slotRange, String host, int port) {"], [548, "        MasterSlaveEntry entry = getEntry(slotRange);"], [549, "        slaveDown(entry, host, port);"], [550, "    }"], [551, ""]], "deleted": [[491, "    protected void slaveDown(ClusterSlotRange slotRange, String host, int port) {"], [492, "        Collection<RedisPubSubConnection> allPubSubConnections = getEntry(slotRange).slaveDown(host, port);"], [497, "                PubSubConnectionEntry entry = mapEntry.getValue();"], [500, "                if (!entry.getConnection().equals(redisPubSubConnection)) {"], [504, "                synchronized (entry) {"], [505, "                    entry.close();"], [507, "                    final Collection<RedisPubSubListener> listeners = entry.getListeners(channelName);"], [508, "                    if (entry.getConnection().getPatternChannels().get(channelName) != null) {"]]}, "num_lines_added": 13, "num_lines_removed": 8}