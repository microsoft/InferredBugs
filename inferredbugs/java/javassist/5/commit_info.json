{"hash": "9c01e324314959bcf6609bd26b5d098f5d3417e2", "message": "Implemented several methods (e.g. CtClass#getURL) to support security\npolicies based on code source.\n\n\ngit-svn-id: http://anonsvn.jboss.org/repos/javassist/trunk@59 30ef5769-5b8d-40dd-aea6-55b5d6557bb3", "file_num_lines": 94, "diff_parsed": {"added": [[48, "     *                          It must start with \"/\"."], [66, "     * @return null if the class file could not be found."], [70, "            URLConnection con = openClassfile0(classname);"], [71, "            if (con != null)"], [73, "        }"], [74, "        catch (IOException e) {}"], [75, "        return null;        // not found"], [76, "    }"], [77, ""], [78, "    private URLConnection openClassfile0(String classname) throws IOException {"], [79, "        if (packageName == null || classname.startsWith(packageName)) {"], [80, "            String jarname"], [81, "                    = directory + classname.replace('.', '/') + \".class\";"], [82, "            return fetchClass0(hostname, port, jarname);"], [83, "        }"], [84, "        else"], [85, "            return null;    // not found"], [86, "    }"], [87, ""], [88, "    /**"], [89, "     * Returns the URL."], [90, "     *"], [91, "     * @return null if the class file could not be obtained."], [92, "     */"], [93, "    public URL find(String classname) {"], [94, "        try {"], [95, "            URLConnection con = openClassfile0(classname);"], [96, "            InputStream is = con.getInputStream();"], [97, "            if (is != null) {"], [98, "                is.close();"], [99, "                return con.getURL();"], [103, "        return null;"], [118, "     *                          It must start with \"/\"."]], "deleted": [[65, "     * @return null if the class file is not found."], [69, "            if (packageName == null || classname.startsWith(packageName)) {"], [70, "                String jarname"], [71, "                    = directory + classname.replace('.', '/') + \".class\";"], [72, "                URLConnection con = fetchClass0(hostname, port, jarname);"], [77, "        return null;    // not found"]]}, "num_lines_added": 33, "num_lines_removed": 6}