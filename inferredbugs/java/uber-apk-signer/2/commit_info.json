{"hash": "4d805efb28b538babf9387dbd7313f5e9b1e2193", "message": "adds verify sha256 feature", "file_num_lines": 209, "diff_parsed": {"added": [[28, "    private final static String debugCertSha256 = \"3b9e8ae8fadc373d4fff5da150c2e94cc0ad642e7886ffeb9d0fc9327bc66388\";"], [29, ""], [167, "        List<File> signedApks = copyToTestPath(originalFolder, Collections.singletonList(singedApks.get(0)));"], [168, "        File signedApk = signedApks.get(0);"], [185, "    @Test"], [186, "    public void testCheckHash() throws Exception {"], [187, "        List<File> uApks = copyToTestPath(originalFolder, Collections.singletonList(unsingedApks.get(0)));"], [188, ""], [189, "        String cmd = \"-\" + CLIParser.ARG_APK_FILE + \" \" + originalFolder.getAbsolutePath() + \" -\" + CLIParser.ARG_APK_OUT +"], [190, "                \" \" + outFolder.getAbsolutePath() + \" --debug --verifySha256 \" + debugCertSha256 + \" --\" + CLIParser.ARG_SKIP_ZIPALIGN + \" --ksDebug \" + testDebugKeystore.getAbsolutePath();"], [191, "        testAndCheck(cmd, originalFolder, outFolder, uApks);"], [192, "    }"], [193, ""], [194, "    @Test"], [195, "    public void testVerifyWithCheckHashShouldNotBe() throws Exception {"], [196, "        copyToTestPath(originalFolder, Collections.singletonList(singedApks.get(0)));"], [197, "        String cmd = \"-\" + CLIParser.ARG_APK_FILE + \" \" + originalFolder.getAbsolutePath() + \" --\" + CLIParser.ARG_VERIFY + \" --\" + CLIParser.ARG_SKIP_ZIPALIGN + \" --debug --verifySha256 abcdef1234567890\";"], [198, "        System.out.println(cmd);"], [199, ""], [200, "        SignTool.Result result = SignTool.mainExecute(CLIParserTest.asArgArray(cmd));"], [201, "        assertNotNull(result);"], [202, "        assertEquals(1, result.unsuccessful);"], [203, "        assertEquals(0, result.success);"], [204, "    }"], [205, ""], [206, "    @Test"], [207, "    public void testVerifyWithCheckHash() throws Exception {"], [208, "        copyToTestPath(originalFolder, Collections.singletonList(singedApks.get(0)));"], [209, "        String cmd = \"-\" + CLIParser.ARG_APK_FILE + \" \" + originalFolder.getAbsolutePath() + \" --\" + CLIParser.ARG_VERIFY + \" --\" + CLIParser.ARG_SKIP_ZIPALIGN + \" --debug --verifySha256 a18bc579adba6819a57a665cdf2bfe0b6f2a81263cb2d6860a3d35fac428999a\";"], [210, "        System.out.println(cmd);"], [212, "        SignTool.Result result = SignTool.mainExecute(CLIParserTest.asArgArray(cmd));"], [213, "        assertNotNull(result);"], [214, "        assertEquals(0, result.unsuccessful);"], [215, "        assertEquals(1, result.success);"], [216, "    }"]], "deleted": [[165, "        copyToTestPath(originalFolder, Collections.singletonList(singedApks.get(0)));"], [166, "        File signedApk = originalFolder.listFiles()[0];"], [213, ""]]}, "num_lines_added": 35, "num_lines_removed": 3}