{"hash": "0d5c0c04a4e644ebbd8b0d4e25f99b9f6d8e5f45", "message": "First step to remove container network.", "file_num_lines": 194, "diff_parsed": {"added": [[14, "import java.util.HashMap;"], [16, "import java.util.Map;"], [19, "import java.util.stream.Collectors;"], [143, "    public void createContainer(String zaleniumContainerName, String image, Map<String, String> envVars,"], [144, "                                String nodePort) {"], [145, "        String containerName = String.format(\"%s_%s\", zaleniumContainerName, nodePort);"], [154, "        // TODO: Remove this if, only temporal to debug performance issues"], [155, "        if (getContainerId(String.format(\"/%s\", zaleniumContainerName)) == null) {"], [156, "            envVars.put(\"SELENIUM_NODE_HOST\", envVars.get(\"SELENIUM_HUB_HOST\"));"], [157, "        }"], [158, ""], [159, "        String noVncPort = envVars.get(\"NOVNC_PORT\");"], [160, ""], [161, "        final Map<String, List<PortBinding>> portBindings = new HashMap<>();"], [162, "        List<PortBinding> portBindingList = new ArrayList<>();"], [163, "        portBindingList.add(PortBinding.of(\"\", nodePort));"], [164, "        portBindings.put(nodePort, portBindingList);"], [165, "        portBindingList = new ArrayList<>();"], [166, "        portBindingList.add(PortBinding.of(\"\", noVncPort));"], [167, "        portBindings.put(noVncPort, portBindingList);"], [171, "                .portBindings(portBindings)"], [173, "                .privileged(true)"], [176, "        List<String> flattenedEnvVars = envVars.entrySet().stream()"], [177, "                .map(e -> e.getKey() + \"=\" + e.getValue())"], [178, "                .collect(Collectors.toList());"], [179, ""], [180, "        final String[] exposedPorts = {nodePort, noVncPort};"], [183, "                .env(flattenedEnvVars)"], [184, "                .exposedPorts(exposedPorts)"], [200, "            if (containerId == null) {"], [201, "                return;"], [202, "            }"]], "deleted": [[140, "    public void createContainer(String zaleniumContainerName, String containerName, String image, List<String> envVars) {"], [141, "        String networkMode = String.format(\"container:%s\", zaleniumContainerName);"], [152, "                .networkMode(networkMode)"], [159, "                .env(envVars)"]]}, "num_lines_added": 32, "num_lines_removed": 4}