{"hash": "6bb8e0bb389ba16f43deef0ca01c7d37a84df5aa", "message": "[BUA-812] Shutting down node when STOP_SESSION comes from client.", "file_num_lines": 290, "diff_parsed": {"added": [[24, "import org.openqa.grid.web.servlet.handler.RequestType;"], [25, "import org.openqa.grid.web.servlet.handler.WebDriverRequest;"], [30, "import javax.servlet.http.HttpServletResponse;"], [155, "        WebDriverRequest request = mock(WebDriverRequest.class);"], [156, "        HttpServletResponse response = mock(HttpServletResponse.class);"], [157, "        when(request.getMethod()).thenReturn(\"DELETE\");"], [158, "        when(request.getRequestType()).thenReturn(RequestType.STOP_SESSION);"], [159, ""], [161, "        proxy.afterCommand(newSession, request, response);"], [228, "            WebDriverRequest webDriverRequest = mock(WebDriverRequest.class);"], [229, "            HttpServletResponse response = mock(HttpServletResponse.class);"], [230, "            when(webDriverRequest.getMethod()).thenReturn(\"DELETE\");"], [231, "            when(webDriverRequest.getRequestType()).thenReturn(RequestType.STOP_SESSION);"], [232, ""], [234, "            spyProxy.afterCommand(newSession, webDriverRequest, response);"], [299, "            WebDriverRequest webDriverRequest = mock(WebDriverRequest.class);"], [300, "            HttpServletResponse response = mock(HttpServletResponse.class);"], [301, "            when(webDriverRequest.getMethod()).thenReturn(\"DELETE\");"], [302, "            when(webDriverRequest.getRequestType()).thenReturn(RequestType.STOP_SESSION);"], [303, ""], [305, "            spyProxy.afterCommand(newSession, webDriverRequest, response);"]], "deleted": []}, "num_lines_added": 21, "num_lines_removed": 0}