{"hash": "fd455e6b1fcdd87a0d80c9f5b95f24ae6250753b", "message": "getting travis happy", "file_num_lines": 776, "diff_parsed": {"added": [[71, "            new ConcurrentHashMap<String, Boolean>();"], [159, "            String device, String methodName) throws Exception {"], [184, "                + device_udid.replaceAll(\"\\\\W\", \"_\"));"], [186, "        AppiumServiceBuilder appiumServiceBuilder = checkOSAndStartServer(methodName);"], [187, "        if (appiumServiceBuilder != null) {"], [188, "            return appiumServiceBuilder;"], [193, ""], [226, "                    category + \"_\" + device_udid.replaceAll(\"\\\\W\", \"_\"));"], [228, "        AppiumServiceBuilder webKitPort = checkOSAndStartServer(methodName);"], [229, "        if (webKitPort != null) {"], [230, "            return webKitPort;"], [231, "        }"], [232, "        return null;"], [233, "    }"], [234, ""], [235, "    public AppiumServiceBuilder checkOSAndStartServer(String methodName) throws Exception {"], [237, "            if (getMobilePlatform(device_udid).equals(MobilePlatform.IOS)) {"], [238, "                AppiumServiceBuilder webKitPort = getAppiumServiceBuilder(methodName);"], [239, "                if (webKitPort != null) {"], [240, "                    return webKitPort;"], [241, "                }"], [242, "            } else {"], [243, "                return appiumMan.appiumServerForAndroid(device_udid, methodName);"], [252, "        String webKitPort = iosDevice.startIOSWebKit(device_udid);"], [253, "        return appiumMan.appiumServerForIOS(device_udid, methodName, webKitPort);"], [268, "                deviceId);"], [271, "                \"<a target=\\\"_parent\\\" href=\" + \"appiumlogs/\""], [272, "                        + device_udid.replaceAll(\"\\\\W\", \"_\") + \"__\" + methodName"], [273, "                        + \".txt\" + \">AppiumServerLogs</a>\");"], [276, "    public synchronized AppiumDriver<MobileElement> startAppiumServerInParallel("], [277, "            String methodName, DesiredCapabilities iosCaps,"], [278, "            DesiredCapabilities androidCaps) throws Exception {"], [283, "                    + device_udid.replaceAll(\"\\\\W\", \"_\"));"], [290, ""], [292, "            throws Exception {"], [296, "    public synchronized AppiumDriver<MobileElement> startAppiumServerInParallel("], [297, "            String methodName, DesiredCapabilities caps) throws Exception {"], [308, "                    .createNode(methodName,"], [309, "                            category + \"_\" + device_udid.replaceAll(\"\\\\W\", \"_\")).assignAuthor("], [310, "                            String.valueOf(listeners));"], [314, "                    category + \"_\" + device_udid.replaceAll(\"\\\\W\", \"_\"));"], [320, "            throws Exception {"], [325, "                if (prop.getProperty(\"IOS_APP_PATH\") != null"], [326, "                        && iosDevice.checkiOSDevice(device_udid)) {"], [355, ""], [381, "                        .startVideoRecording(device_udid, getClass().getName(),"], [382, "                                methodName, methodName);"], [393, "                    .replaceAll(\"\\\\W\", \"_\") + \"__\" + methodName + \".txt\");"], [418, "                        result.getMethod().getMethodName(), result.getMethod().getMethodName());"], [421, "                        result.getMethod().getMethodName(), result.getMethod().getMethodName());"], [432, "                    + device_udid.replaceAll(\"\\\\W\", \"_\") + \"/\""], [433, "                    + className + \"/\" + result.getMethod().getMethodName()"], [434, "                    + \"/\" + result.getMethod().getMethodName() + \".mp4\");"], [447, "                    .log(Status.FAIL, \"<pre>\" + result.getThrowable() + \"</pre>\");"], [451, "                        result.getTestClass().getName());"], [455, "                        result.getTestClass().getName());"], [459, "                        System.getProperty(\"user.dir\") + \"/target/screenshot/android/\" + device_udid"], [460, "                                .replaceAll(\"\\\\W\", \"_\") + \"/\" + className + \"/\" + result.getMethod()"], [461, "                                .getMethodName() + \"/\" + screenShotNameWithTimeStamp + deviceModel"], [462, "                                + \"_failed_\" + result.getMethod().getMethodName() + \"_framed.png\");"], [464, "                    log.addScreenCaptureFromPath("], [466, "                                    + className + \"/\" + result.getMethod().getMethodName()"], [467, "                                    + \"/\" + screenShotNameWithTimeStamp"], [468, "                                    + deviceModel + \"_failed_\" + result"], [469, "                                    .getMethod().getMethodName() + \"_framed.png\");"], [472, "                            \"screenshot/android/\" + device_udid.replaceAll(\"\\\\W\", \"_\") + \"/\""], [473, "                                    + className + \"/\" + result.getMethod().getMethodName() + \"/\""], [474, "                                    + screenShotNameWithTimeStamp + deviceModel + \"_\" + result"], [475, "                                    .getMethod().getMethodName() + \"_failed.png\");"], [482, "                        System.getProperty(\"user.dir\") + \"/target/screenshot/iOS/\" + device_udid"], [483, "                                .replaceAll(\"\\\\W\", \"_\") + \"/\" + className + \"/\" + result.getMethod()"], [484, "                                .getMethodName() + \"/\" + screenShotNameWithTimeStamp + deviceModel"], [485, "                                + \"_failed_\" + result.getMethod().getMethodName() + \"_framed.png\");"], [487, "                        + \"***********************\");"], [490, "                            + device_udid.replaceAll(\"\\\\W\", \"_\")"], [491, "                            + \"/\" + className"], [492, "                            + \"/\" + result.getMethod().getMethodName() + \"/\""], [493, "                            + screenShotNameWithTimeStamp + deviceModel + \"_failed_\" + result"], [494, "                            .getMethod().getMethodName() + \"_framed.png\");"], [497, "                            + device_udid.replaceAll(\"\\\\W\", \"_\")"], [498, "                            + \"/\" + className"], [499, "                            + \"/\" + result.getMethod().getMethodName() + \"/\""], [500, "                            + screenShotNameWithTimeStamp + deviceModel + \"_\" + result"], [501, "                            .getMethod().getMethodName() + \"_failed.png\");"], [520, "                if (new File(System.getProperty(\"user.dir\")"], [521, "                        + \"/target/screenshot/android/\" + device_udid"], [524, "                        .exists()) {"], [526, "                            + \"screenshot/android/\" + device_udid.replaceAll(\"\\\\W\", \"_\")"], [527, "                            + \"/\" + className"], [528, "                            + \"/\" + result.getMethod().getMethodName()"], [529, "                            + \"/\" + result.getMethod()"], [530, "                            .getMethodName() + \".mp4\" + \">Videologs</a>\");"], [533, "                if (new File(System.getProperty(\"user.dir\")"], [534, "                        + \"/target/screenshot/iOS/\" + device_udid"], [537, "                        .exists()) {"], [539, "                            + \"screenshot/iOS/\" + device_udid.replaceAll(\"\\\\W\", \"_\")"], [540, "                            + \"/\" + className"], [541, "                            + \"/\" + result.getMethod().getMethodName() + \"/\" + result.getMethod()"], [542, "                            .getMethodName() + \".mp4\" + \">Videologs</a>\");"], [554, "                    \"<a target=\\\"_parent\\\" href=\" + \"adblogs/\" + device_udid.replaceAll(\"\\\\W\", \"_\")"], [555, "                            + \"__\""], [556, "                            + result.getMethod().getMethodName() + \".txt\" + \">AdbLogs</a>\");"], [561, "    @AfterClass(alwaysRun = true)"], [562, "    public synchronized void killAppiumServer()"], [563, "            throws InterruptedException, IOException {"], [564, "        System.out.println(\"**************ClosingAppiumSession****************\""], [565, "                + Thread.currentThread().getId());"], [607, "                prop.getProperty(\"APP_ACTIVITY\"));"], [609, "                prop.getProperty(\"APP_PACKAGE\"));"], [613, "                .setCapability(MobileCapabilityType.APP, prop.getProperty(\"ANDROID_APP_PATH\"));"], [625, "                .setCapability(MobileCapabilityType.BROWSER_NAME, prop.getProperty(\"BROWSER_TYPE\"));"], [633, "        iOSCapabilities.setCapability(MobileCapabilityType.PLATFORM_VERSION,"], [634, "                iosDevice.getIOSDeviceProductVersion(device_udid));"], [637, "                .setCapability(IOSMobileCapabilityType.BUNDLE_ID, prop.getProperty(\"BUNDLE_ID\"));"], [640, "                .setCapability(MobileCapabilityType.DEVICE_NAME,"], [641, "                        iosDevice.getDeviceName(device_udid));"], [666, "                result.getMethod().getConstructorOrMethod().getMethod().getAnnotation(SkipIf.class);"], [677, "            throws IOException, InterruptedException {"], [681, "                .equals(\"NATIVE_APP\")) {"], [690, "                \"screenshot/\" + device + \"/\""], [691, "                        + device_udid.replaceAll(\"\\\\W\", \"_\")"], [692, "                        + \"/\" + className"], [693, "                        + \"/\" + methodName + \"/\" + deviceModel + \"_\""], [694, "                        + methodName + \"_failed\" + \".png\"));"], [703, "                                  String methodName) throws IOException, InterruptedException {"], [707, "                .equals(\"NATIVE_APP\")) {"], [719, "                    screenShotNameWithTimeStamp + androidDevice.getDeviceModel(device_udid);"], [721, "                    \"android\");"], [724, "                    .getIOSDeviceProductTypeAndVersion(device_udid);"], [726, "                    \"iOS\");"], [731, "            throws IOException, InterruptedException {"], [741, "    public void screenShotAndFrame(String screenShotName, int status,"], [742, "                                   File scrFile, String methodName,"], [743, "                                   String className, String model, String platform) {"], [745, "                System.getProperty(\"user.dir\") + \"/target/screenshot/\""], [746, "                        + platform + \"/\" + device_udid"], [747, "                        .replaceAll(\"\\\\W\", \"_\") + \"/\""], [748, "                        + className + \"/\" + methodName + \"/\""], [749, "                        + screenShotNameWithTimeStamp + deviceModel + \"_\""], [750, "                        + methodName + \"_failed\" + \".png\";"], [752, "                System.getProperty(\"user.dir\") + \"/target/screenshot/\""], [753, "                        + platform + \"/\" + device_udid"], [754, "                        .replaceAll(\"\\\\W\", \"_\") + \"/\" + className"], [755, "                        + \"/\" + methodName + \"/\" + screenShotName"], [756, "                        + \".png\";"], [758, "                System.getProperty(\"user.dir\") + \"/target/screenshot/\""], [759, "                        + platform + \"/\" + device_udid"], [760, "                        .replaceAll(\"\\\\W\", \"_\") + \"/\" + className"], [761, "                        + \"/\" + methodName + \"/\" + model + \"_\""], [762, "                        + screenShotName + \"_results.png\";"], [764, "                System.getProperty(\"user.dir\") + \"/target/screenshot/\""], [765, "                        + platform + \"/\" + device_udid"], [766, "                        .replaceAll(\"\\\\W\", \"_\") + \"/\" + className + \"/\" + methodName + \"/\" + model"], [767, "                        + \"_failed_\" + methodName + \"_framed.png\";"], [771, "                    new File(System.getProperty(\"user.dir\") + \"/src/test/resources/frames/\");"], [787, "                                .contains(fileName.split(\".png\")[0].toLowerCase())) {"], [792, "                                            framedFailedScreen);"], [794, "                                            screenShotName.toUpperCase());"], [799, "                                            framedCapturedScreen);"], [801, "                                            screenShotName.toUpperCase());"]], "deleted": [[65, "import static junit.framework.TestCase.fail;"], [66, ""], [67, ""], [74, "        new ConcurrentHashMap<String, Boolean>();"], [162, "        String device, String methodName) throws Exception {"], [187, "            + device_udid.replaceAll(\"\\\\W\", \"_\"));"], [189, "        if (System.getProperty(\"os.name\").toLowerCase().contains(\"mac\")) {"], [190, "            if (iosDevice.checkiOSDevice(device_udid)) {"], [191, "                AppiumServiceBuilder webKitPort = getAppiumServiceBuilder(methodName);"], [192, "                if (webKitPort != null) {"], [193, "                    return webKitPort;"], [194, "                }"], [195, "            } else {"], [196, "                return appiumMan.appiumServerForAndroid(device_udid, methodName);"], [197, "            }"], [202, ""], [235, "                category + \"_\" + device_udid.replaceAll(\"\\\\W\", \"_\"));"], [238, "            AppiumServiceBuilder webKitPort = getAppiumServiceBuilder(methodName);"], [239, "            if (webKitPort != null) {"], [240, "                return webKitPort;"], [249, "        if (iosDevice.checkiOSDevice(device_udid)) {"], [250, "            String webKitPort = iosDevice.startIOSWebKit(device_udid);"], [251, "            return appiumMan.appiumServerForIOS(device_udid, methodName, webKitPort);"], [252, "        } else if (!iosDevice.checkiOSDevice(device_udid)) {"], [253, "            return appiumMan.appiumServerForAndroid(device_udid, methodName);"], [254, "        }"], [255, "        return null;"], [270, "            deviceId);"], [273, "            \"<a target=\\\"_parent\\\" href=\" + \"appiumlogs/\""], [274, "                + device_udid.replaceAll(\"\\\\W\", \"_\") + \"__\" + methodName"], [275, "                + \".txt\" + \">AppiumServerLogs</a>\");"], [278, "    public synchronized AppiumDriver<MobileElement> startAppiumServerInParallel(String methodName,"], [279, "        DesiredCapabilities iosCaps, DesiredCapabilities androidCaps) throws Exception {"], [284, "                + device_udid.replaceAll(\"\\\\W\", \"_\"));"], [291, ""], [293, "        throws Exception {"], [297, "    public synchronized AppiumDriver<MobileElement> startAppiumServerInParallel(String methodName,"], [298, "        DesiredCapabilities caps) throws Exception {"], [309, "                .createNode(methodName,"], [310, "                    category + \"_\" + device_udid.replaceAll(\"\\\\W\", \"_\")).assignAuthor("], [311, "                    String.valueOf(listeners));"], [315, "                category + \"_\" + device_udid.replaceAll(\"\\\\W\", \"_\"));"], [321, "        throws Exception {"], [326, "                if (prop.getProperty(\"IOS_APP_PATH\") != null"], [327, "                    && iosDevice.checkiOSDevice(device_udid)) {"], [356, ""], [382, "                    .startVideoRecording(device_udid, getClass().getName(), methodName, methodName);"], [393, "                .replaceAll(\"\\\\W\", \"_\") + \"__\" + methodName + \".txt\");"], [418, "                    result.getMethod().getMethodName(), result.getMethod().getMethodName());"], [421, "                    result.getMethod().getMethodName(), result.getMethod().getMethodName());"], [432, "                + device_udid.replaceAll(\"\\\\W\", \"_\") + \"/\""], [433, "                + className + \"/\" + result.getMethod().getMethodName()"], [434, "                + \"/\" + result.getMethod().getMethodName() + \".mp4\");"], [447, "                .log(Status.FAIL, \"<pre>\" + result.getThrowable() + \"</pre>\");"], [451, "                    result.getTestClass().getName());"], [455, "                    result.getTestClass().getName());"], [459, "                    System.getProperty(\"user.dir\") + \"/target/screenshot/android/\" + device_udid"], [460, "                        .replaceAll(\"\\\\W\", \"_\") + \"/\" + className + \"/\" + result.getMethod()"], [461, "                        .getMethodName() + \"/\" + screenShotNameWithTimeStamp + deviceModel"], [462, "                        + \"_failed_\" + result.getMethod().getMethodName() + \"_framed.png\");"], [464, "                    log"], [465, "                        .addScreenCaptureFromPath("], [467, "                                + className + \"/\" + result.getMethod().getMethodName() + \"/\""], [468, "                                + screenShotNameWithTimeStamp + deviceModel + \"_failed_\" + result"], [469, "                                .getMethod().getMethodName() + \"_framed.png\");"], [472, "                        \"screenshot/android/\" + device_udid.replaceAll(\"\\\\W\", \"_\") + \"/\""], [473, "                            + className + \"/\" + result.getMethod().getMethodName() + \"/\""], [474, "                            + screenShotNameWithTimeStamp + deviceModel + \"_\" + result"], [475, "                            .getMethod().getMethodName() + \"_failed.png\");"], [482, "                    System.getProperty(\"user.dir\") + \"/target/screenshot/iOS/\" + device_udid"], [483, "                        .replaceAll(\"\\\\W\", \"_\") + \"/\" + className + \"/\" + result.getMethod()"], [484, "                        .getMethodName() + \"/\" + screenShotNameWithTimeStamp + deviceModel"], [485, "                        + \"_failed_\" + result.getMethod().getMethodName() + \"_framed.png\");"], [487, "                    + \"***********************\");"], [490, "                        + device_udid.replaceAll(\"\\\\W\", \"_\")"], [491, "                        + \"/\" + className"], [492, "                        + \"/\" + result.getMethod().getMethodName() + \"/\""], [493, "                        + screenShotNameWithTimeStamp + deviceModel + \"_failed_\" + result"], [494, "                        .getMethod().getMethodName() + \"_framed.png\");"], [497, "                        + device_udid.replaceAll(\"\\\\W\", \"_\")"], [498, "                        + \"/\" + className"], [499, "                        + \"/\" + result.getMethod().getMethodName() + \"/\""], [500, "                        + screenShotNameWithTimeStamp + deviceModel + \"_\" + result"], [501, "                        .getMethod().getMethodName() + \"_failed.png\");"], [520, "                if (new File("], [521, "                    System.getProperty(\"user.dir\") + \"/target/screenshot/android/\" + device_udid"], [524, "                    .exists()) {"], [526, "                        + \"screenshot/android/\" + device_udid.replaceAll(\"\\\\W\", \"_\")"], [527, "                        + \"/\" + className"], [528, "                        + \"/\" + result.getMethod().getMethodName()"], [529, "                        + \"/\" + result.getMethod()"], [530, "                        .getMethodName() + \".mp4\" + \">Videologs</a>\");"], [533, "                if (new File("], [534, "                    System.getProperty(\"user.dir\") + \"/target/screenshot/iOS/\" + device_udid"], [537, "                    .exists()) {"], [539, "                        + \"screenshot/iOS/\" + device_udid.replaceAll(\"\\\\W\", \"_\")"], [540, "                        + \"/\" + className"], [541, "                        + \"/\" + result.getMethod().getMethodName() + \"/\" + result.getMethod()"], [542, "                        .getMethodName() + \".mp4\" + \">Videologs</a>\");"], [554, "                \"<a target=\\\"_parent\\\" href=\" + \"adblogs/\" + device_udid.replaceAll(\"\\\\W\", \"_\")"], [555, "                    + \"__\""], [556, "                    + result.getMethod().getMethodName() + \".txt\" + \">AdbLogs</a>\");"], [561, "    @AfterClass(alwaysRun = true) public synchronized void killAppiumServer()"], [562, "        throws InterruptedException, IOException {"], [563, "        System.out.println("], [564, "            \"**************ClosingAppiumSession****************\" + Thread.currentThread().getId());"], [606, "            prop.getProperty(\"APP_ACTIVITY\"));"], [608, "            prop.getProperty(\"APP_PACKAGE\"));"], [612, "            .setCapability(MobileCapabilityType.APP, prop.getProperty(\"ANDROID_APP_PATH\"));"], [624, "            .setCapability(MobileCapabilityType.BROWSER_NAME, prop.getProperty(\"BROWSER_TYPE\"));"], [632, "        iOSCapabilities.setCapability(MobileCapabilityType.PLATFORM_VERSION,"], [633, "            iosDevice.getIOSDeviceProductVersion(device_udid));"], [636, "            .setCapability(IOSMobileCapabilityType.BUNDLE_ID, prop.getProperty(\"BUNDLE_ID\"));"], [639, "            .setCapability(MobileCapabilityType.DEVICE_NAME, iosDevice.getDeviceName(device_udid));"], [664, "            result.getMethod().getConstructorOrMethod().getMethod().getAnnotation(SkipIf.class);"], [675, "        throws IOException, InterruptedException {"], [679, "            .equals(\"NATIVE_APP\")) {"], [688, "            \"screenshot/\" + device + \"/\" + device_udid.replaceAll(\"\\\\W\", \"_\") + \"/\" + className"], [689, "                + \"/\" + methodName + \"/\" + deviceModel + \"_\" + methodName + \"_failed\" + \".png\"));"], [698, "        String methodName) throws IOException, InterruptedException {"], [702, "            .equals(\"NATIVE_APP\")) {"], [714, "                screenShotNameWithTimeStamp + androidDevice.getDeviceModel(device_udid);"], [716, "                \"android\");"], [719, "                .getIOSDeviceProductTypeAndVersion(device_udid);"], [721, "                \"iOS\");"], [726, "        throws IOException, InterruptedException {"], [736, "    public void screenShotAndFrame(String screenShotName, int status, File scrFile,"], [737, "        String methodName, String className, String model, String platform) {"], [739, "            System.getProperty(\"user.dir\") + \"/target/screenshot/\" + platform + \"/\" + device_udid"], [740, "                .replaceAll(\"\\\\W\", \"_\") + \"/\" + className + \"/\" + methodName + \"/\""], [741, "                + screenShotNameWithTimeStamp + deviceModel + \"_\" + methodName + \"_failed\" + \".png\";"], [743, "            System.getProperty(\"user.dir\") + \"/target/screenshot/\" + platform + \"/\" + device_udid"], [744, "                .replaceAll(\"\\\\W\", \"_\") + \"/\" + className + \"/\" + methodName + \"/\" + screenShotName"], [745, "                + \".png\";"], [747, "            System.getProperty(\"user.dir\") + \"/target/screenshot/\" + platform + \"/\" + device_udid"], [748, "                .replaceAll(\"\\\\W\", \"_\") + \"/\" + className + \"/\" + methodName + \"/\" + model + \"_\""], [749, "                + screenShotName + \"_results.png\";"], [751, "            System.getProperty(\"user.dir\") + \"/target/screenshot/\" + platform + \"/\" + device_udid"], [752, "                .replaceAll(\"\\\\W\", \"_\") + \"/\" + className + \"/\" + methodName + \"/\" + model"], [753, "                + \"_failed_\" + methodName + \"_framed.png\";"], [757, "                new File(System.getProperty(\"user.dir\") + \"/src/test/resources/frames/\");"], [773, "                            .contains(fileName.split(\".png\")[0].toLowerCase())) {"], [778, "                                        framedFailedScreen);"], [780, "                                        screenShotName.toUpperCase());"], [785, "                                        framedCapturedScreen);"], [787, "                                        screenShotName.toUpperCase());"]]}, "num_lines_added": 160, "num_lines_removed": 146}