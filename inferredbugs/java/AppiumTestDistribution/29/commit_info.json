{"hash": "40f7692eacbc858cffc9923b6208a3541d78a5e1", "message": "Added support for passing desired caps with Cucumber. (#144)", "file_num_lines": 782, "diff_parsed": {"added": [[293, "    public synchronized AppiumDriver<MobileElement> startAppiumServerInParallel(String methodName,"], [294, "        DesiredCapabilities iosCaps, DesiredCapabilities androidCaps) throws Exception {"], [306, ""], [307, "    public synchronized AppiumDriver<MobileElement> startAppiumServerInParallel(String methodName)"], [308, "        throws Exception {"], [309, "        return startAppiumServerInParallel(methodName, null, null);"], [310, "    }"], [314, "        return startAppiumServerInParallel(methodName, caps, caps);"], [341, "                if (prop.getProperty(\"IOS_APP_PATH\") != null"], [342, "                    && iosDevice.checkiOSDevice(device_udid)) {"], [343, "                    if (iosCaps == null) {"], [344, "                        iosCaps = iosNative();"], [345, "                    }"], [348, "                    if (androidCaps == null) {"], [349, "                        androidCaps = androidNative();"], [350, "                    }"], [355, "                if (androidCaps == null) {"], [356, "                    androidCaps = androidNative();"], [357, "                }"], [364, "    public void startingServerInstance() throws Exception {"], [365, "        startingServerInstance(null, null);"], [366, "    }"], [367, ""], [368, "    public void startingServerInstance(DesiredCapabilities caps) throws Exception {"], [369, "        startingServerInstance(caps, caps);"], [370, "    }"], [371, ""], [648, "    public synchronized DesiredCapabilities iosNative() throws InterruptedException, IOException {"], [651, "        iOSCapabilities.setCapability(MobileCapabilityType.PLATFORM_VERSION,"], [652, "            iosDevice.getIOSDeviceProductVersion(device_udid));"], [657, "        iOSCapabilities"], [658, "            .setCapability(MobileCapabilityType.DEVICE_NAME, iosDevice.getDeviceName(device_udid));"]], "deleted": [[293, "    public synchronized AppiumDriver<MobileElement> startAppiumServerInParallel(String methodName)"], [294, "        throws Exception {"], [303, "        startingServerInstance();"], [304, "        return driver;"], [305, "    }"], [306, ""], [307, "    public synchronized AppiumDriver<MobileElement> startAppiumServerInParallel(String methodName,"], [308, "        DesiredCapabilities iosCaps, DesiredCapabilities androidCaps) throws Exception {"], [309, "        if (prop.getProperty(\"FRAMEWORK\").equalsIgnoreCase(\"testng\")) {"], [310, "            setAuthorName(methodName);"], [311, "        }"], [312, "        Thread.sleep(3000);"], [319, "        if (prop.getProperty(\"FRAMEWORK\").equalsIgnoreCase(\"testng\")) {"], [320, "            setAuthorName(methodName);"], [321, "        }"], [322, "        startingServerInstance(caps);"], [323, "        return driver;"], [344, "    public void startingServerInstance() throws Exception {"], [345, "        if (prop.getProperty(\"APP_TYPE\").equalsIgnoreCase(\"web\")) {"], [346, "            driver = new AndroidDriver<>(appiumMan.getAppiumUrl(), androidWeb());"], [347, "        } else {"], [348, "            if (System.getProperty(\"os.name\").toLowerCase().contains(\"mac\")) {"], [349, "                if (iosDevice.checkiOSDevice(device_udid)) {"], [350, "                    driver = new IOSDriver<>(appiumMan.getAppiumUrl(), iosNative());"], [351, "                } else if (!iosDevice.checkiOSDevice(device_udid)) {"], [352, "                    driver = new AndroidDriver<>(appiumMan.getAppiumUrl(), androidNative());"], [353, "                }"], [354, "            } else {"], [355, "                driver = new AndroidDriver<>(appiumMan.getAppiumUrl(), androidNative());"], [356, "            }"], [357, "        }"], [358, "    }"], [359, ""], [360, "    public void startingServerInstance(DesiredCapabilities caps) throws Exception {"], [361, "        if (prop.getProperty(\"APP_TYPE\").equalsIgnoreCase(\"web\")) {"], [362, "            driver = new AndroidDriver<>(appiumMan.getAppiumUrl(), androidWeb());"], [363, "        } else {"], [364, "            if (System.getProperty(\"os.name\").toLowerCase().contains(\"mac\")) {"], [365, "                if (caps.asMap().get(\"bundleId\") != null) {"], [366, "                    driver = new IOSDriver<>(appiumMan.getAppiumUrl(), caps);"], [367, "                } else {"], [368, "                    checkSelendroid(caps);"], [369, "                    driver = new AndroidDriver<>(appiumMan.getAppiumUrl(), caps);"], [370, "                }"], [371, "            } else {"], [372, "                driver = new AndroidDriver<>(appiumMan.getAppiumUrl(), caps);"], [373, "            }"], [374, "        }"], [375, "    }"], [376, ""], [383, "                if (iosDevice.checkiOSDevice(device_udid)) {"], [672, "    public synchronized DesiredCapabilities iosNative() {"], [675, "        iOSCapabilities.setCapability(MobileCapabilityType.PLATFORM_VERSION, \"9.0\");"], [680, "        iOSCapabilities.setCapability(MobileCapabilityType.DEVICE_NAME, \"iPhone\");"]]}, "num_lines_added": 32, "num_lines_removed": 54}