{"hash": "e1d26d4bcc3fa1a26d0341eb8b6dcd13141eab67", "message": "Follow HTTP redirects when downloading binaries", "file_num_lines": 294, "diff_parsed": {"added": [[24, "import java.net.HttpURLConnection;"], [91, "\t\t\tHttpURLConnection conn = getConnection(url);"], [92, "\t\t\tint responseCode = conn.getResponseCode();"], [93, "\t\t\tlog.debug(\"Response HTTP {}\", responseCode);"], [94, "\t\t\tif (responseCode == HttpURLConnection.HTTP_MOVED_TEMP"], [95, "\t\t\t\t\t|| responseCode == HttpURLConnection.HTTP_MOVED_PERM"], [96, "\t\t\t\t\t|| responseCode == HttpURLConnection.HTTP_SEE_OTHER) {"], [97, "\t\t\t\t// HTTP Redirect"], [98, "\t\t\t\tURL newUrl = new URL(conn.getHeaderField(\"Location\"));"], [99, "\t\t\t\tlog.debug(\"Redirect to {}\", newUrl);"], [100, "\t\t\t\tconn = getConnection(newUrl);"], [101, "\t\t\t}"], [102, ""], [119, "\tprivate static HttpURLConnection getConnection(URL url) throws IOException {"], [120, "\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();"], [121, "\t\tconn.setRequestProperty(\"User-Agent\", \"Mozilla/5.0\");"], [122, "\t\tconn.addRequestProperty(\"Connection\", \"keep-alive\");"], [123, "\t\tconn.setInstanceFollowRedirects(true);"], [124, "\t\tHttpURLConnection.setFollowRedirects(true);"], [125, "\t\tconn.connect();"], [126, "\t\treturn conn;"], [127, "\t}"], [128, ""]], "deleted": [[25, "import java.net.URLConnection;"], [91, "\t\t\tURLConnection conn = url.openConnection();"], [92, "\t\t\tconn.setRequestProperty(\"User-Agent\", \"Mozilla/5.0\");"], [93, "\t\t\tconn.addRequestProperty(\"Connection\", \"keep-alive\");"], [94, "\t\t\tconn.connect();"]]}, "num_lines_added": 23, "num_lines_removed": 5}