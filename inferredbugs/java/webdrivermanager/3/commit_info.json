{"hash": "a9bbc0935d37f68a6862c0668b4c5c1ec66801fc", "message": "Proper changes for running wdm on Microsoft Windows", "file_num_lines": 230, "diff_parsed": {"added": [[17, "import static org.apache.commons.lang3.SystemUtils.IS_OS_WINDOWS;"], [18, ""], [85, "\t\t\tif (!export.contains(\"edge\")) {"], [87, "\t\t\t\ttargetFile.delete();"], [88, "\t\t\t} else {"], [89, "\t\t\t\tbinary = targetFile;"], [91, ""], [177, "\t\tfile = checkPhantom(compressedFile, export);"], [178, ""], [209, "\t\tFile target = checkPhantom(archive, export);"], [210, ""], [211, "\t\treturn target;"], [212, "\t}"], [213, ""], [214, "\tprivate static File checkPhantom(File archive, String export)"], [215, "\t\t\tthrows IOException {"], [217, "\t\tString phantomName = \"phantomjs\";"], [218, "\t\tif (export.contains(phantomName)) {"], [219, "\t\t\tString fileNoExtension = archive.getName().replace(\".tar.bz2\", \"\")"], [220, "\t\t\t\t\t.replace(\".zip\", \"\");"], [221, ""], [222, "\t\t\tFile phantomjs = null;"], [223, "\t\t\ttry {"], [224, "\t\t\t\tphantomjs = new File(archive.getParentFile().getAbsolutePath()"], [225, "\t\t\t\t\t\t+ File.separator + fileNoExtension + File.separator"], [226, "\t\t\t\t\t\t+ \"bin\" + File.separator).listFiles()[0];"], [227, "\t\t\t} catch (Exception e) {"], [228, "\t\t\t\tString extension = IS_OS_WINDOWS ? \".exe\" : \"\";"], [229, "\t\t\t\tphantomjs = new File(archive.getParentFile().getAbsolutePath()"], [230, "\t\t\t\t\t\t+ File.separator + fileNoExtension + File.separator"], [231, "\t\t\t\t\t\t+ phantomName + extension);"], [232, "\t\t\t}"], [235, "\t\t\t\t\t+ File.separator + phantomjs.getName());"], [262, "\t\t\t\t.replace(\".msi\", \"\").replace(\".exe\", \"\")"], [263, "\t\t\t\t.replace(\"_\", File.separator);"], [272, "\t\t\tint iPoint = target.lastIndexOf(\".tar\") != -1"], [273, "\t\t\t\t\t? target.lastIndexOf(\".tar\") : target.lastIndexOf(\".zip\");"], [283, "\t\t\tint iPoint = target.lastIndexOf(\".gz\") != -1"], [284, "\t\t\t\t\t? target.lastIndexOf(\".gz\") : target.lastIndexOf(\".zip\");"]], "deleted": [[83, "\t\t\tif (export.contains(\"edge\")) {"], [84, "\t\t\t\tbinary = extractMsi(targetFile);"], [85, "\t\t\t} else {"], [88, "\t\t\ttargetFile.delete();"], [206, "\t\tString phantomjsName = \"phantomjs\";"], [207, "\t\tif (export.contains(phantomjsName)) {"], [208, "\t\t\tString fileNoExtension = archive.getName().replace(\".tar.bz2\", \"\");"], [209, "\t\t\tFile phantomjs = new File(archive.getParentFile().getAbsolutePath()"], [210, "\t\t\t\t\t+ File.separator + fileNoExtension + File.separator + \"bin\""], [211, "\t\t\t\t\t+ File.separator + phantomjsName);"], [213, "\t\t\t\t\t+ File.separator + phantomjsName);"], [240, "\t\t\t\t.replace(\".msi\", \"\").replace(\"_\", File.separator);"], [249, "\t\t\tint iPoint = target.lastIndexOf(\".tar\");"], [259, "\t\t\tint iPoint = target.lastIndexOf(\".gz\");"]]}, "num_lines_added": 39, "num_lines_removed": 14}