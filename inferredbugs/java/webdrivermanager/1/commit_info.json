{"hash": "e6caf7163b1aafc71fa7dad0b21ebc20482ca759", "message": "Support for Microsoft Edge", "file_num_lines": 120, "diff_parsed": {"added": [[22, "import java.util.Collection;"], [31, "import com.google.common.io.Files;"], [32, ""], [55, "\t\t\tif (export.contains(\"edge\")) {"], [56, "\t\t\t\tbinary = extractMsi(targetFile);"], [57, "\t\t\t} else {"], [58, "\t\t\t\tbinary = unZip(targetFile);"], [59, "\t\t\t}"], [62, "\t\t\tbinary = FileUtils"], [63, "\t\t\t\t\t.listFiles(targetFile.getParentFile(), null, true)"], [64, "\t\t\t\t\t.iterator().next();"], [74, "\tpublic static final File extractMsi(File msi) throws IOException {"], [75, "\t\tFile tmpMsi = new File(Files.createTempDir().getAbsoluteFile()"], [76, "\t\t\t\t+ File.separator + msi.getName());"], [77, "\t\tFiles.move(msi, tmpMsi);"], [78, "\t\tlog.trace(\"Temporal msi file: {}\", tmpMsi);"], [79, ""], [80, "\t\tProcess process = Runtime.getRuntime().exec("], [81, "\t\t\t\tnew String[] { \"msiexec\", \"/a\", tmpMsi.toString(), \"/qb\","], [82, "\t\t\t\t\t\t\"TARGETDIR=\" + msi.getParent() });"], [83, "\t\ttry {"], [84, "\t\t\tprocess.waitFor();"], [85, "\t\t} catch (InterruptedException e) {"], [86, "\t\t\tlog.error(\"Exception waiting to msiexec to be finished\", e);"], [87, "\t\t} finally {"], [88, "\t\t\tprocess.destroy();"], [89, "\t\t}"], [90, ""], [91, "\t\ttmpMsi.delete();"], [92, ""], [93, "\t\tCollection<File> listFiles = FileUtils.listFiles("], [94, "\t\t\t\tnew File(msi.getParent()), new String[] { \"exe\" }, true);"], [95, "\t\treturn listFiles.iterator().next();"], [149, "\t\tint iLast = iFirst != zip.lastIndexOf(\"_\") ? zip.lastIndexOf(\"_\") : zip"], [150, "\t\t\t\t.length();"], [151, "\t\tString folder = zip.substring(0, iLast).replace(\".zip\", \"\")"], [152, "\t\t\t\t.replace(\".msi\", \"\").replace(\"_\", File.separator);"]], "deleted": [[52, "\t\t\tbinary = unZip(targetFile);"], [55, "\t\t\tbinary = targetFile.getParentFile().listFiles()[0];"], [65, "\tpublic static final File unZip(String fileInput, String outputFolder)"], [66, "\t\t\tthrows IOException {"], [67, "\t\treturn null;"], [121, "\t\tint iLast = iFirst != zip.lastIndexOf(\"_\") ? zip.lastIndexOf(\"_\")"], [122, "\t\t\t\t: zip.length();"], [123, "\t\tString folder = zip.substring(0, iLast).replace(\".zip\", \"\").replace(\"_\","], [124, "\t\t\t\tFile.separator);"]]}, "num_lines_added": 37, "num_lines_removed": 9}