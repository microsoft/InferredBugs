{"hash": "ebabdbf570b50af0d868a5f4e5acf6fe5adc4876", "message": "RATIS-1188. Change MiniRaftCluster.getLeader() to return RaftServer.Division. (#306)", "file_num_lines": 118, "diff_parsed": {"added": [[66, "    final long oldLastApplied = RaftServerTestUtil.getLastAppliedIndex(cluster.getLeader());"], [92, "    final long leaderApplied = RaftServerTestUtil.getLastAppliedIndex(cluster.getLeader());"], [94, "    for (RaftServer.Division server : cluster.iterateDivisions()) {"], [96, "      if (RaftServerTestUtil.getLastAppliedIndex(server) < leaderApplied) {"], [102, "      Assert.assertEquals(1, count(RaftServerTestUtil.getRaftLog(server), oldLastApplied + 1));"], [135, "      final long oldLastApplied = RaftServerTestUtil.getLastAppliedIndex(cluster.getLeader());"], [165, "      Assert.assertEquals(0, count(RaftServerTestUtil.getRaftLog(cluster.getLeader()), oldLastApplied + 1));"]], "deleted": [[31, "import org.apache.ratis.server.impl.RaftServerImpl;"], [67, "    long oldLastApplied = cluster.getLeader().getState().getLastAppliedIndex();"], [93, "    long leaderApplied = cluster.getLeader().getState().getLastAppliedIndex();"], [95, "    for (RaftServerImpl server : cluster.iterateServerImpls()) {"], [97, "      if (server.getState().getLastAppliedIndex() < leaderApplied) {"], [103, "      Assert.assertEquals(1, count(server.getState().getLog(), oldLastApplied + 1));"], [136, "      long oldLastApplied = cluster.getLeader().getState().getLastAppliedIndex();"], [166, "      Assert.assertEquals(0, count(cluster.getLeader().getState().getLog(), oldLastApplied + 1));"]]}, "num_lines_added": 7, "num_lines_removed": 8}