{"hash": "c76ab77da3c501cf51dd0c21d9b66ca484556ab4", "message": "RATIS-718. TimeoutScheduler throws IllegalStateException. Contributed by Tsz Wo Nicholas Sze.", "file_num_lines": 179, "diff_parsed": {"added": [[50, "    final TimeoutScheduler scheduler = TimeoutScheduler.newInstance();"], [81, "    scheduler.setGracePeriod(grace);"], [86, "    final TimeoutScheduler scheduler = TimeoutScheduler.newInstance();"], [132, "    final TimeoutScheduler scheduler = TimeoutScheduler.newInstance();"], [182, "    final TimeoutScheduler scheduler = TimeoutScheduler.newInstance();"], [213, "  @Test(timeout = 10_000)"], [215, "    final TimeoutScheduler scheduler = TimeoutScheduler.newInstance();"], [226, "    JavaUtils.attempt(() -> Assert.assertEquals(1, scheduler.getQueueSize()),"], [227, "        10, HUNDRED_MILLIS, \"only 1 shutdown task is scheduled\", LOG);"], [237, "    JavaUtils.attempt(() -> Assert.assertEquals(1, scheduler.getQueueSize()),"], [238, "        10, HUNDRED_MILLIS, \"only 1 shutdown task is scheduled\", LOG);"]], "deleted": [[50, "    final TimeoutScheduler scheduler = TimeoutScheduler.newInstance(1);"], [85, "    final TimeoutScheduler scheduler = TimeoutScheduler.newInstance(1);"], [131, "    final TimeoutScheduler scheduler = TimeoutScheduler.newInstance(1);"], [181, "    final TimeoutScheduler scheduler = TimeoutScheduler.newInstance(1);"], [212, "  @Test(timeout = 1000)"], [214, "    final TimeoutScheduler scheduler = TimeoutScheduler.newInstance(0);"], [225, "    Assert.assertEquals(1, scheduler.getQueueSize()); // only 1 shutdown task is scheduled"], [235, "    Assert.assertEquals(1, scheduler.getQueueSize()); // only 1 shutdown task is scheduled"]]}, "num_lines_added": 11, "num_lines_removed": 8}