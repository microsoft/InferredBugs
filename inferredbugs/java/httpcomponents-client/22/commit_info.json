{"hash": "d19daa3dcd26bc74f7b5256ae77cbd9be091bec4", "message": "HTTPCLIENT-1137: The values for the Via header are created by httpclient-cache\nfor each cached and backend request. Committing patch by alinachegalati at yahoo dot com.\n\ngit-svn-id: https://svn.apache.org/repos/asf/httpcomponents/httpclient/trunk@1197713 13f79535-47bb-0310-9956-ffa450edef68", "file_num_lines": 633, "diff_parsed": {"added": [[32, "import java.util.HashMap;"], [123, ""], [124, "    private final Map<ProtocolVersion, String> viaHeaders = new HashMap<ProtocolVersion, String>(4);"], [125, ""], [377, ""], [607, ""], [608, "        final ProtocolVersion pv = msg.getProtocolVersion();"], [609, "        String existingEntry = viaHeaders.get(pv);"], [610, "        if (existingEntry != null) return existingEntry;"], [611, ""], [614, ""], [615, "        String value;"], [617, "            value = String.format(\"%d.%d localhost (Apache-HttpClient/%s (cache))\", pv.getMajor(), pv.getMinor(),"], [618, "                    release);"], [620, "            value = String.format(\"%s/%d.%d localhost (Apache-HttpClient/%s (cache))\", pv.getProtocol(), pv.getMajor(),"], [621, "                    pv.getMinor(), release);"], [623, "        viaHeaders.put(pv, value);"], [624, ""], [625, "        return value;"]], "deleted": [[122, ""], [374, ""], [606, "        final ProtocolVersion pv = msg.getProtocolVersion();"], [608, "            return String.format(\"%d.%d localhost (Apache-HttpClient/%s (cache))\","], [609, "                pv.getMajor(), pv.getMinor(), release);"], [611, "            return String.format(\"%s/%d.%d localhost (Apache-HttpClient/%s (cache))\","], [612, "                    pv.getProtocol(), pv.getMajor(), pv.getMinor(), release);"]]}, "num_lines_added": 19, "num_lines_removed": 7}