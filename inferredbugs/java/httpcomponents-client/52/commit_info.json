{"hash": "195753c5621ec4e0a6c12a3edf4a7f2ba152a758", "message": "Deprecated old non-thread safe public suffix domain filter in favor of new thread safe implementation\n\ngit-svn-id: https://svn.apache.org/repos/asf/httpcomponents/httpclient/trunk@1621183 13f79535-47bb-0310-9956-ffa450edef68", "file_num_lines": 63, "diff_parsed": {"added": [[30, "import java.io.InputStream;"], [33, "import org.apache.http.Consts;"], [34, "import org.apache.http.conn.util.PublicSuffixList;"], [35, "import org.apache.http.conn.util.PublicSuffixMatcher;"], [42, ""], [43, "    private static final String SOURCE_FILE = \"suffixlist.txt\";"], [44, ""], [45, "    private PublicSuffixDomainFilter filter;"], [49, "        final ClassLoader classLoader = getClass().getClassLoader();"], [50, "        final InputStream in = classLoader.getResourceAsStream(SOURCE_FILE);"], [51, "        Assert.assertNotNull(in);"], [52, "        final PublicSuffixList suffixList;"], [53, "        try {"], [54, "            final org.apache.http.conn.util.PublicSuffixListParser parser = new org.apache.http.conn.util.PublicSuffixListParser();"], [55, "            suffixList = parser.parse(new InputStreamReader(in, Consts.UTF_8));"], [56, "        } finally {"], [57, "            in.close();"], [58, "        }"], [59, "        final PublicSuffixMatcher matcher = new PublicSuffixMatcher(suffixList.getRules(), suffixList.getExceptions());"], [60, "        this.filter = new PublicSuffixDomainFilter(new RFC2109DomainHandler(), matcher);"]], "deleted": [[31, "import java.io.Reader;"], [39, "    private static final String LIST_FILE = \"/suffixlist.txt\";"], [40, "    private PublicSuffixFilter filter;"], [44, "        final Reader r = new InputStreamReader(getClass().getResourceAsStream(LIST_FILE), \"UTF-8\");"], [45, "        filter = new PublicSuffixFilter(new RFC2109DomainHandler());"], [46, "        final PublicSuffixListParser parser = new PublicSuffixListParser(filter);"], [47, "        parser.parse(r);"]]}, "num_lines_added": 20, "num_lines_removed": 7}