{"hash": "fff2464e37ead644c3498803de30c4e764bcdcda", "message": "Make price and size format configurable in stock ticker", "file_num_lines": 89, "diff_parsed": {"added": [[14, "import com.paritytrading.parity.util.Instrument;"], [15, "import com.paritytrading.parity.util.Instruments;"], [45, "        switch (args.length) {"], [46, "        case 1:"], [48, "            return;"], [49, "        case 2:"], [50, "            read(taq, config(args[0]), new File(args[1]));"], [51, "            return;"], [52, "        default:"], [53, "            usage();"], [54, "            return;"], [59, "        Instruments instruments = Instruments.fromConfig(config, \"instruments\");"], [61, "        MarketDataListener listener = taq ? new TAQFormat(instruments) : new DisplayFormat(instruments);"], [65, "        for (Instrument instrument : instruments)"], [66, "            market.open(instrument.asLong());"], [93, "    private static void read(boolean taq, Config config, File file) throws IOException {"], [94, "        Instruments instruments = Instruments.fromConfig(config, \"instruments\");"], [95, ""], [96, "        MarketDataListener listener = taq ? new TAQFormat(instruments) : new DisplayFormat(instruments);"], [100, "        for (Instrument instrument : instruments)"], [101, "            market.open(instrument.asLong());"], [109, "        System.err.println(\"Usage: parity-ticker [-t] <configuration-file> [<input-file>]\");"]], "deleted": [[43, "        if (args.length < 1)"], [44, "            usage();"], [45, ""], [46, "        try {"], [48, "        } catch (ConfigException.Parse e) {"], [49, "            read(taq, new File(args[0]), asList(copyOfRange(args, 1, args.length)));"], [54, "        List<String> instruments = config.getStringList(\"instruments\");"], [56, "        MarketDataListener listener = taq ? new TAQFormat() : new DisplayFormat(instruments);"], [60, "        for (String instrument : instruments)"], [61, "            market.open(ASCII.packLong(instrument));"], [88, "    private static void read(boolean taq, File file, List<String> instruments) throws IOException {"], [89, "        MarketDataListener listener = taq ? new TAQFormat() : new DisplayFormat(instruments);"], [93, "        for (String instrument : instruments)"], [94, "            market.open(ASCII.packLong(instrument));"], [102, "        System.err.println(\"Usage: parity-ticker [-t] <configuration-file>\");"], [103, "        System.err.println(\"       parity-ticker [-t] <input-file> [<instrument> ...]\");"]]}, "num_lines_added": 22, "num_lines_removed": 16}