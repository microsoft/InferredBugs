{"hash": "d85a02bc2e4c66573267ed92c963f4e4ebbd163b", "message": "\u672c\u5730\u5b58\u50a8\u914d\u7f6e\u4fe1\u606f", "file_num_lines": 189, "diff_parsed": {"added": [[4, "import org.apache.log4j.Logger;"], [6, "import pojo.Config;"], [13, "import java.util.Iterator;"], [14, "import java.util.Properties;"], [15, "import java.util.Scanner;"], [23, "    private static Logger logger = Logger.getLogger(MainGUI.class);"], [27, "    private static ButtonGroup ocrSelectionButton = new ButtonGroup();"], [28, "    private static ButtonGroup searchSelectionButton = new ButtonGroup();"], [29, "    private static ButtonGroup patternSelectionButton = new ButtonGroup();"], [30, "    private static int ocrSelection = 1;"], [31, "    private static int patternSelection = 1;"], [32, "    private static int searchSelection = 1;"], [36, "    private static Properties heroProperties = new Properties();"], [37, ""], [42, "        try{"], [43, "            loadConfig();"], [44, "        }catch (Exception e){"], [45, "            initConfig();"], [47, "        loadConfig();"], [63, ""], [69, "        adbPathText = new JTextField(heroProperties.getProperty(\"ADB_PATH\"), 30);"], [73, ""], [79, "        imagePathText = new JTextField(heroProperties.getProperty(\"PHOTO_PATH\"), 30);"], [83, ""], [88, "        addOCRSelection(panel, 100, \"TessOCR\", 1);"], [89, "        addOCRSelection(panel, 300, \"BaiDuOCR\", 2);"], [92, ""], [93, "    private static void addOCRSelection(JPanel panel, int X, String text, final int selection) {"], [94, "        final JRadioButton ocrButton = new JRadioButton(text);"], [98, "        ActionListener listener = new ActionListener() {"], [101, "                ocrSelection = selection;"], [103, "                if (selection == 2) {"], [111, ""], [116, "        addSearchSelection(panel, 100, \"\u767e\u5ea6\", 1);"], [117, "        addSearchSelection(panel, 300, \"\u641c\u72d7\", 2);"], [120, ""], [121, "    private static void addSearchSelection(JPanel panel, int X, String text, final int selection) {"], [122, "        final JRadioButton searchButton = new JRadioButton(text);"], [126, "        ActionListener listener = new ActionListener() {"], [129, "                searchSelection = selection;"], [134, ""], [139, "        addPatternSelection(panel, 100, \"\u767e\u4e07\u82f1\u96c4\", 1);"], [140, "        addPatternSelection(panel, 300, \"\u51b2\u9876\u5927\u4f1a\", 2);"], [143, ""], [144, "    private static void addPatternSelection(JPanel panel, int X, String text, final int selection) {"], [145, "        final JRadioButton patternButton = new JRadioButton(text);"], [149, "        ActionListener listener = new ActionListener() {"], [152, "                patternSelection = selection;"], [159, "    private static void addSetFinishButton(JPanel panel) {"], [160, "        final JButton setFinishButton = new JButton(\"\u8bbe\u7f6e\u5b8c\u6210\");"], [163, "        ActionListener listener = new ActionListener() {"], [166, "                Utils utils = new Utils(adbPathText.getText() + \"\\\\adb\", imagePathText.getText());"], [174, ""], [176, "    private static void addRunButton(JPanel panel) {"], [177, "        final JButton runButton = new JButton(\"\u83b7\u53d6\u7b54\u6848\");"], [180, "        ActionListener listener = new ActionListener() {"], [184, "                    String result = COMMON_PATTERN.run();"], [194, ""], [197, "        resultTextArea = new JTextArea();"], [201, ""], [202, "    private static void initConfig() throws IOException {"], [203, "        FileOutputStream fileOutputStream = new FileOutputStream(\"hero.properties\", true);"], [204, "        heroProperties.setProperty(\"ADB_PATH\", \"D:\\\\adb\\\\adb\");"], [205, "        heroProperties.setProperty(\"PHOTO_PATH\", \"D:\\\\Photo\");"], [206, "        heroProperties.setProperty(\"APP_ID\", \"10697064\");"], [207, "        heroProperties.setProperty(\"API_KEY\", \"Y2Dyel1bZwvsVRS00RZ9iBzh\");"], [208, "        heroProperties.setProperty(\"SECRET_KEY\", \"ED50nYFA3GbhM9AdyoZhC0qqweP9WjtY\");"], [209, "        heroProperties.store(fileOutputStream, \"million hero properties\");"], [210, "        fileOutputStream.close();"], [211, "    }"], [212, ""], [213, "    private static void loadConfig() throws IOException {"], [214, "        InputStream in = new BufferedInputStream(new FileInputStream(\"hero.properties\"));"], [215, "        heroProperties.load(in);"], [216, "        for (String key : heroProperties.stringPropertyNames()) {"], [217, "            Config.set(key, heroProperties.getProperty(key));"], [218, "        }"], [219, "        in.close();"], [220, "    }"], [221, ""], [222, ""]], "deleted": [[18, ""], [22, "    private static ButtonGroup ocrSelectionButton=new ButtonGroup();"], [23, "    private static ButtonGroup searchSelectionButton=new ButtonGroup();"], [24, "    private static ButtonGroup patternSelectionButton=new ButtonGroup();"], [25, "    private static int ocrSelection=1;"], [26, "    private static int patternSelection=1;"], [27, "    private static int searchSelection=1;"], [35, "        String path=MainGUI.class.getProtectionDomain().getCodeSource().getLocation().getFile();"], [36, "        path=path.substring(0,path.lastIndexOf(\"/\"));"], [37, "        System.out.println(path);"], [38, "        File config = new File(path,  \"hero.config\");"], [39, "        System.out.println(config.getAbsolutePath());"], [40, "        if(config.createNewFile()){"], [41, "            FileOutputStream fileOutputStream=new FileOutputStream(config);"], [42, "            fileOutputStream.write(\"\u6d4b\u8bd5\".getBytes());"], [43, "        }else{"], [44, "            System.out.println(\"nothing\");"], [46, "        System.out.println(config.getAbsolutePath());"], [47, ""], [68, "        adbPathText = new JTextField(\"D:\\\\adb\", 30);"], [77, "        imagePathText = new JTextField(\"D:\\\\Photo\", 30);"], [85, "        addOCRSelection(panel,100,\"TessOCR\",1);"], [86, "        addOCRSelection(panel,300,\"BaiDuOCR\",2);"], [89, "    private static void addOCRSelection(JPanel panel, int X, String text, final int selection){"], [90, "        final JRadioButton ocrButton=new JRadioButton(text);"], [94, "        ActionListener listener=new ActionListener() {"], [97, "                ocrSelection=selection;"], [99, "                if(selection==2){"], [111, "        addSearchSelection(panel,100,\"\u767e\u5ea6\",1);"], [112, "        addSearchSelection(panel,300,\"\u641c\u72d7\",2);"], [115, "    private static void addSearchSelection(JPanel panel, int X, String text, final int selection){"], [116, "        final JRadioButton searchButton=new JRadioButton(text);"], [120, "        ActionListener listener=new ActionListener() {"], [123, "                searchSelection=selection;"], [132, "        addPatternSelection(panel,100,\"\u767e\u4e07\u82f1\u96c4\",1);"], [133, "        addPatternSelection(panel,300,\"\u51b2\u9876\u5927\u4f1a\",2);"], [136, "    private static void addPatternSelection(JPanel panel, int X, String text, final int selection){"], [137, "        final JRadioButton patternButton=new JRadioButton(text);"], [141, "        ActionListener listener=new ActionListener() {"], [144, "                patternSelection=selection;"], [151, "    private static void addSetFinishButton(JPanel panel){"], [152, "        final JButton setFinishButton=new JButton(\"\u8bbe\u7f6e\u5b8c\u6210\");"], [155, "        ActionListener listener=new ActionListener() {"], [158, "                Utils utils=new Utils(adbPathText.getText()+\"\\\\adb\",imagePathText.getText());"], [167, "    private static void addRunButton(JPanel panel){"], [168, "        final JButton runButton=new JButton(\"\u83b7\u53d6\u7b54\u6848\");"], [171, "        ActionListener listener=new ActionListener() {"], [175, "                    String result=COMMON_PATTERN.run();"], [187, "        resultTextArea=new JTextArea();"]]}, "num_lines_added": 81, "num_lines_removed": 49}