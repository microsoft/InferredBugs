{"hash": "0f1eddf9de8d076fe910fe5ee247b881ff45c7ab", "message": "Correct handling of unknown namespace alias for XML serialization", "file_num_lines": 264, "diff_parsed": {"added": [[240, "      String uri = getNamespaceUriForAliasHandlingUnknown(errorOnUnknown, alias);"], [283, "  /**"], [284, "   * Returns the namespace URI to use for serialization for a given namespace alias, possibly using"], [285, "   * a predictable made-up namespace URI if the alias is not recognized."], [286, "   *"], [287, "   * <p>"], [288, "   * Specifically, if the namespace alias is not recognized, the namespace URI returned will be"], [289, "   * {@code \"http://unknown/\"} plus the alias, unless {@code errorOnUnknown} is {@code true} in"], [290, "   * which case it will throw an {@link IllegalArgumentException}."], [291, "   * </p>"], [292, "   *"], [293, "   * @param errorOnUnknown whether to thrown an exception if the namespace alias is not recognized"], [294, "   * @param alias namespace alias"], [295, "   * @return namespace URI, using a predictable made-up namespace URI if the namespace alias is not"], [296, "   *         recognized"], [297, "   * @throws IllegalArgumentException if the namespace alias is not recognized and {@code"], [298, "   *         errorOnUnkown} is {@code true}"], [299, "   */"], [300, "  String getNamespaceUriForAliasHandlingUnknown(boolean errorOnUnknown, String alias) {"], [301, "    String result = getUriForAlias(alias);"], [302, "    if (result == null) {"], [303, "      Preconditions.checkArgument("], [304, "          !errorOnUnknown, \"unrecognized alias: %s\", alias.length() == 0 ? \"(default)\" : alias);"], [305, "      return \"http://unknown/\" + alias;"], [306, "    }"], [307, "    return result;"], [308, "  }"], [309, ""], [349, "        elementNamespaceUri = getNamespaceUriForAliasHandlingUnknown(errorOnUnknown, alias);"], [373, "            errorOnUnknown, attributeName.substring(0, colon));"]], "deleted": [[240, "      String uri = getUriForAlias(alias);"], [315, "    String getNamespaceUriForAliasHandlingUnknown(String alias) {"], [316, "      String result = getUriForAlias(alias);"], [317, "      if (result == null) {"], [318, "        if (errorOnUnknown) {"], [319, "          throw new IllegalArgumentException("], [320, "              \"unrecognized alias: \" + (alias.length() == 0 ? \"(default)\" : alias));"], [321, "        }"], [322, "        return \"http://unknown/\" + alias;"], [323, "      }"], [324, "      return result;"], [325, "    }"], [326, ""], [334, "        elementNamespaceUri = getNamespaceUriForAliasHandlingUnknown(alias);"], [335, "        if (elementNamespaceUri == null) {"], [336, "          elementNamespaceUri = \"http://unknown/\" + alias;"], [337, "        }"], [361, "            attributeName.substring(0, colon));"]]}, "num_lines_added": 30, "num_lines_removed": 18}