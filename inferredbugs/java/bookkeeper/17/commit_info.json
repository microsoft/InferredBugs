{"hash": "fbfd10fa94d909144c369e1514db31669a16872b", "message": "BOOKKEEPER-371: NPE in hedwig hub client causes hedwig hub to shut down. (Aniruddha via sijie)\n\ngit-svn-id: https://svn.apache.org/repos/asf/zookeeper/bookkeeper/trunk@1378112 13f79535-47bb-0310-9956-ffa450edef68", "file_num_lines": 178, "diff_parsed": {"added": [[24, "import org.apache.hedwig.client.exceptions.NoResponseHandlerException;"], [206, "        try {"], [207, "            HedwigClientImpl.getResponseHandlerFromChannel(channel).txn2PubSubData.put(txnId, pubSubData);"], [208, "        } catch (NoResponseHandlerException e) {"], [209, "            logger.error(\"No response handler found while storing the publish callback.\");"], [210, "            // Callback on pubsubdata indicating failure."], [211, "            pubSubData.getCallback().operationFailed(pubSubData.context, new CouldNotConnectException(\"No response \" +"], [212, "                    \"handler found while attempting to publish. So could not connect.\"));"], [213, "            return;"], [214, "        }"], [251, "            try {"], [252, "                HedwigClientImpl.getResponseHandlerFromChannel(channel).handleChannelClosedExplicitly();"], [253, "            } catch (NoResponseHandlerException e) {"], [254, "                logger.error(\"Could not get response handler while closing channel.\");"], [255, "            }"], [272, "            try {"], [273, "                client.getResponseHandlerFromChannel(channel).handleChannelClosedExplicitly();"], [274, "            } catch (NoResponseHandlerException e) {"], [275, "                logger.error(\"No response handler while trying explicitly close Publisher channel \" + channel);"], [276, "            }"]], "deleted": [[205, "        HedwigClientImpl.getResponseHandlerFromChannel(channel).txn2PubSubData.put(txnId, pubSubData);"], [242, "            HedwigClientImpl.getResponseHandlerFromChannel(channel).handleChannelClosedExplicitly();"], [259, "            client.getResponseHandlerFromChannel(channel).handleChannelClosedExplicitly();"]]}, "num_lines_added": 20, "num_lines_removed": 3}