{"hash": "792cc4bf0980765c8983acc1cecbda6eefa5bf7b", "message": "add a exists() that takes a ReadPreference on AdvancedDatastore. should resolve #486", "file_num_lines": 1058, "diff_parsed": {"added": [[60, "import com.mongodb.ReadPreference;"], [630, "    final Query<?> query = buildExistsQuery(entityOrKey);"], [631, "    return query.getKey();"], [632, "  }"], [633, ""], [634, "  public Key<?> exists(final Object entityOrKey, final ReadPreference readPreference) {"], [635, "    final Query<?> query = buildExistsQuery(entityOrKey);"], [636, "    if(readPreference != null) {"], [637, "      query.useReadPreference(readPreference);"], [638, "    }"], [639, "    return query.getKey();"], [640, "  }"], [641, ""], [642, "  private Query<?> buildExistsQuery(final Object entityOrKey) {"], [655, "    return find(collName, key.getKindClass()).filter(Mapper.ID_KEY, key.getId());"]], "deleted": [[641, "    return find(collName, key.getKindClass()).filter(Mapper.ID_KEY, key.getId()).getKey();"]]}, "num_lines_added": 15, "num_lines_removed": 1}