{"hash": "939efe97ed82effdd558e9f61ed0b4735e8d2846", "message": "new - RpcFuture implements Future<V>", "file_num_lines": 97, "diff_parsed": {"added": [[17, "\tprivate volatile RpcMessage response ;"], [18, "\tprivate volatile Exception  exception;"], [19, "\tprivate volatile boolean    done     ;"], [20, "\tprivate volatile int        waiters  ;"], [31, "\t\t\tif (done)               return done;"], [32, "\t\t\tif (timeoutMillis <= 0) return done;"], [35, "\t\t\t\twhile (!done) {"], [37, "\t\t\t\t\tif (endTime < System.currentTimeMillis() && !done) {"], [46, "\t\treturn done;"], [51, "\t\treturn exception;"], [62, "\t\treturn response;"], [68, "\t\t\tif (done) return;"], [70, "\t\t\tdone = true;"], [80, "\t\t\tif (done) return;"], [82, "\t\t\tdone = true;"], [88, ""], [90, "\tpublic V get() throws InterruptedException, ExecutionException {"], [91, "\t\ttry { return get(Long.MAX_VALUE, TimeUnit.DAYS); } catch (TimeoutException e) { throw new InterruptedException(e.getMessage()); }"], [94, "\t@SuppressWarnings(\"unchecked\")"], [96, "\tpublic V get(long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException {"], [97, "\t\tawait(timeout, TimeUnit.MILLISECONDS);"], [98, "\t\ttry {"], [99, "\t\t\tRpcMessage rsp = getResponse();"], [100, "\t\t\treturn (V) RpcMessages.unpackResponseMessage(rsp);"], [101, "\t\t} catch (Exception e) {"], [102, "\t\t\tthrow new ExecutionException(e);"], [103, "\t\t}"], [107, "\tpublic boolean cancel(boolean mayInterruptIfRunning) {"], [112, "\tpublic boolean isCancelled() {"], [113, "\t\treturn false;"], [117, "\tpublic boolean isDone() {"], [118, "\t\treturn done;"]], "deleted": [[17, "\tprivate RpcMessage response ;"], [18, "\tprivate Exception  exception;"], [19, "\tprivate boolean    ready    ;"], [20, "\tprivate int        waiters  ;"], [31, "\t\t\tif (ready)              return ready;"], [32, "\t\t\tif (timeoutMillis <= 0) return ready;"], [35, "\t\t\t\twhile (!ready) {"], [37, "\t\t\t\t\tif (endTime < System.currentTimeMillis() && !ready) {"], [46, "\t\treturn ready;"], [51, "\t\tsynchronized (this) {"], [52, "\t\t\treturn exception;"], [53, "\t\t}"], [64, ""], [65, "\t\tsynchronized (this) {"], [66, "\t\t\treturn response;"], [67, "\t\t}"], [73, "\t\t\tif (ready) return;"], [75, "\t\t\tready = true;"], [85, "\t\t\tif (ready) return;"], [87, "\t\t\tready = true;"], [93, ""], [95, "\tpublic boolean cancel(boolean mayInterruptIfRunning) {"], [96, "\t\t// TODO Auto-generated method stub"], [97, "\t\treturn false;"], [101, "\tpublic boolean isCancelled() {"], [102, "\t\t// TODO Auto-generated method stub"], [103, "\t\treturn false;"], [107, "\tpublic boolean isDone() {"], [108, "\t\t// TODO Auto-generated method stub"], [113, "\tpublic V get() throws InterruptedException, ExecutionException {"], [114, "\t\t// TODO Auto-generated method stub"], [115, "\t\treturn null;"], [119, "\tpublic V get(long timeout, TimeUnit unit) throws InterruptedException, ExecutionException, TimeoutException {"], [120, "\t\t// TODO Auto-generated method stub"], [121, "\t\treturn null;"]]}, "num_lines_added": 32, "num_lines_removed": 35}