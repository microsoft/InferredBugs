{"hash": "f413802225d0ff0f0f43241c683a5fa156bfc55d", "message": "Auto-close JAR file", "file_num_lines": 41, "diff_parsed": {"added": [[18, "        try (JarFile jarfile = new JarFile(new File(jarPath))) {"], [19, "            Enumeration<JarEntry> enu = jarfile.entries();"], [21, "            // Get current working directory path"], [22, "            Path currentPath = FileSystems.getDefault().getPath(\"\").toAbsolutePath();"], [23, "            //Create Temporary directory"], [24, "            Path path = Files.createTempDirectory(currentPath.toAbsolutePath(), \"jenkinsfile-runner\");"], [25, "            File destDir = path.toFile();"], [27, "            while (enu.hasMoreElements()) {"], [28, "                JarEntry je = enu.nextElement();"], [29, "                File file = new File(destDir, je.getName());"], [30, "                if (!file.exists()) {"], [31, "                    file.getParentFile().mkdirs();"], [32, "                    file = new File(destDir, je.getName());"], [33, "                }"], [34, "                if (je.isDirectory()) {"], [35, "                    continue;"], [36, "                }"], [37, "                InputStream is = jarfile.getInputStream(je);"], [39, "                try (FileOutputStream fo = new FileOutputStream(file)) {"], [40, "                    while (is.available() > 0) {"], [41, "                        fo.write(is.read());"], [42, "                    }"], [43, "                    fo.close();"], [44, "                    is.close();"], [47, "            return destDir;"]], "deleted": [[18, "        JarFile jarfile = new JarFile(new File(jarPath));"], [19, "        Enumeration<JarEntry> enu = jarfile.entries();"], [21, "        // Get current working directory path"], [22, "        Path currentPath = FileSystems.getDefault().getPath(\"\").toAbsolutePath();"], [23, "        //Create Temporary directory"], [24, "        Path path = Files.createTempDirectory(currentPath.toAbsolutePath(), \"jenkinsfile-runner\");"], [25, "        File destDir = path.toFile();"], [27, "        while(enu.hasMoreElements()) {"], [28, "            JarEntry je = enu.nextElement();"], [29, "            File file = new File(destDir, je.getName());"], [30, "            if (!file.exists()) {"], [31, "                file.getParentFile().mkdirs();"], [32, "                file = new File(destDir, je.getName());"], [33, "            }"], [34, "            if (je.isDirectory()) {"], [35, "                continue;"], [36, "            }"], [37, "            InputStream is = jarfile.getInputStream(je);"], [39, "            try (FileOutputStream fo = new FileOutputStream(file)) {"], [40, "                while (is.available() > 0) {"], [41, "                    fo.write(is.read());"], [43, "                fo.close();"], [44, "                is.close();"], [47, "        return destDir;"]]}, "num_lines_added": 25, "num_lines_removed": 24}