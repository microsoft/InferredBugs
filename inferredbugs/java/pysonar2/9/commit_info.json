{"hash": "3c446e731b15fc298952e9b64af9d1a8b6ff4a3c", "message": "first experiment towards fixing #3. made partial model for 'sys'", "file_num_lines": 743, "diff_parsed": {"added": [[5, "import org.apache.commons.io.FileUtils;"], [13, "import java.net.URL;"], [39, "        exchangeFile = _.locateTmp(\"json\");"], [40, "        endMark = _.locateTmp(\"end\");"], [41, "        jsonizer = _.locateTmp(\"dump_python\");"], [42, "        parserLog = _.locateTmp(\"parser_log\");"], [822, "            URL url = Thread.currentThread().getContextClassLoader().getResource(dumpPythonResource);"], [823, "            FileUtils.copyURLToFile(url, new File(jsonizer));"], [825, "            _.die(\"Failed to copy resource file:\" + dumpPythonResource);"]], "deleted": [[11, "import java.io.FileWriter;"], [12, "import java.io.InputStream;"], [38, "        String tmpDir = _.getSystemTempDir();"], [39, "        String sid = _.newSessionId();"], [41, "        exchangeFile = _.makePathString(tmpDir, \"pysonar2\", \"json.\" + sid);"], [42, "        endMark = _.makePathString(tmpDir, \"pysonar2\", \"end.\" + sid);"], [43, "        jsonizer = _.makePathString(tmpDir, \"pysonar2\", \"dump_python.\" + sid);"], [44, "        parserLog = _.makePathString(tmpDir, \"pysonar2\", \"parser_log.\" + sid);"], [821, "        String jsonizeStr;"], [825, "            InputStream jsonize ="], [826, "                    Thread.currentThread()"], [827, "                            .getContextClassLoader()"], [828, "                            .getResourceAsStream(dumpPythonResource);"], [829, "            jsonizeStr = _.readWholeStream(jsonize);"], [831, "            _.die(\"Failed to open resource file:\" + dumpPythonResource);"], [832, "            return null;"], [833, "        }"], [834, ""], [835, "        try {"], [836, "            FileWriter fw = new FileWriter(jsonizer);"], [837, "            fw.write(jsonizeStr);"], [838, "            fw.close();"], [839, "        } catch (Exception e) {"], [840, "            _.die(\"Failed to write into: \" + jsonizer);"]]}, "num_lines_added": 9, "num_lines_removed": 24}