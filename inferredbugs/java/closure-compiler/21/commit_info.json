{"hash": "cc4ec1a70e6fa02bda751582c3902b3c19f85bbb", "message": "Automated g4 rollback.\n\n*** Reason for rollback ***\n\nFixed invalid \"this\" replacement within inner functions.\n\n*** Original change description ***\n\nAutomated g4 rollback.\n\n*** Reason for rollback ***\n\nBreaks things\n\n*** Original change description ***\n\nWhen it is possible to make the ES5 Strict mode assumptions about a\nfunction's \"this\" it is easier to inline a function referencing \"this\".\nAdd \"CompilerOption.assumeStrictThis\" and take advantage of it during\nfunction inlining.\n\nR=moedinger\nDELTA=263  (223 added, 4 deleted, 36 changed)\n\n\nRevision created by MOE tool push_codebase.\nMOE_MIGRATION=2320\n\n\ngit-svn-id: https://closure-compiler.googlecode.com/svn/trunk@1188 b0f006be-c8cd-11de-a2e8-8d36a3108c74", "file_num_lines": 455, "diff_parsed": {"added": [[45, "  private final boolean assumeStrictThis;"], [55, "      boolean allowDecomposition,"], [56, "      boolean assumeStrictThis) {"], [62, "    this.assumeStrictThis = assumeStrictThis;"], [203, "        if (!assumeStrictThis) {"], [204, "          Node thisValue = callNode.getFirstChild().getNext();"], [205, "          if (thisValue == null || thisValue.getType() != Token.THIS) {"], [206, "            return false;"], [207, "          }"], [261, "          null, safeReturnNode, null, argMap);"], [639, "        if (cArg == null || cArg.getType() != Token.THIS) {"], [640, "          return CanInlineResult.NO;"], [641, "        }"]], "deleted": [[54, "      boolean allowDecomposition) {"], [200, "        Node thisValue = callNode.getFirstChild().getNext();"], [201, "        if (thisValue == null || thisValue.getType() != Token.THIS) {"], [202, "          return false;"], [256, "          safeReturnNode, null, argMap);"], [634, "        Preconditions.checkNotNull(cArg);"], [635, "        Preconditions.checkState(cArg.getType() == Token.THIS);"]]}, "num_lines_added": 13, "num_lines_removed": 7}