{"hash": "e3efe2480df845d76482cb554e7f8f5bf7cd72df", "message": "FAB-3718 Keep continuous orderer connection\n\nChange-Id: I86bd13918c8d84461d4b948c7876f90bee1c11c7\nSigned-off-by: rickr <cr22rc@gmail.com>", "file_num_lines": 136, "diff_parsed": {"added": [[37, "    private volatile EndorserClient endorserClent;"], [144, "        EndorserClient localEndorserClient = endorserClent; //work off thread local copy."], [145, ""], [146, "        if (null == localEndorserClient || !localEndorserClient.isChannelActive()) {"], [147, "            endorserClent = localEndorserClient = new EndorserClient(new Endpoint(url, properties).getChannelBuilder());"], [148, "        }"], [149, ""], [150, "        try {"], [151, "            return localEndorserClient.sendProposalAsync(proposal);"], [152, "        } catch (PeerException e) { //Any error start with a clean connection."], [153, "            endorserClent = null;"], [154, "            throw e;"], [155, "        } catch (Throwable t) {"], [156, "            endorserClent = null;"], [157, "            throw t;"], [158, "        }"], [167, "        EndorserClient localEndorserClient = endorserClent; //work off thread local copy."], [168, ""], [169, "        if (null == localEndorserClient || !localEndorserClient.isChannelActive()) {"], [170, "            endorserClent = localEndorserClient = new EndorserClient(new Endpoint(url, properties).getChannelBuilder());"], [171, "        }"], [172, ""], [173, "        try {"], [174, "            return localEndorserClient.sendProposal(proposal);"], [175, "        } catch (PeerException e) { //Any error start with a clean connection."], [176, "            endorserClent = null;"], [177, "            throw e;"], [178, "        } catch (Throwable t) {"], [179, "            endorserClent = null;"], [180, "            throw t;"], [181, "        }"]], "deleted": [[37, "    private EndorserClient endorserClent;"], [60, "        this.endorserClent = new EndorserClient(new Endpoint(url, this.properties).getChannelBuilder());"], [61, ""], [146, "        return endorserClent.sendProposalAsync(proposal);"], [155, "        return endorserClent.sendProposal(proposal);"]]}, "num_lines_added": 31, "num_lines_removed": 5}