{"hash": "76aea4f885cb2ef267ec2fc5889a54ce0013bcf1", "message": "Have FailoverAppender retry after user specified interval. JMS appenders now retry after connection failure at initialization.\n\ngit-svn-id: https://svn.apache.org/repos/asf/logging/log4j/log4j2/trunk@1427540 13f79535-47bb-0310-9956-ffa450edef68", "file_num_lines": 161, "diff_parsed": {"added": [[105, "        try {"], [106, "            super.send(object, info.session, info.sender);"], [107, "        } catch (Exception ex) {"], [108, "            cleanup(true);"], [109, "            throw ex;"], [110, "        }"], [115, "        if (info != null) {"], [116, "            cleanup(false);"], [117, "        }"], [118, "    }"], [119, ""], [120, "    private void cleanup(boolean quiet) {"], [122, "            info.session.close();"], [123, "        } catch (Exception e) {"], [124, "            if (!quiet) {"], [125, "                LOGGER.error(\"Error closing session for \" + getName(), e);"], [126, "            }"], [127, "        }"], [128, "        try {"], [129, "            info.conn.close();"], [130, "        } catch (Exception e) {"], [131, "            if (!quiet) {"], [132, "                LOGGER.error(\"Error closing connection for \" + getName(), e);"], [135, "        info = null;"]], "deleted": [[105, "        super.send(object, info.session, info.sender);"], [111, "            if (info != null) {"], [112, "                info.session.close();"], [113, "                info.conn.close();"], [115, "        } catch (final JMSException ex) {"], [116, "            LOGGER.error(\"Error closing \" + getName(), ex);"], [117, "        } finally {"], [118, "            info = null;"]]}, "num_lines_added": 24, "num_lines_removed": 8}