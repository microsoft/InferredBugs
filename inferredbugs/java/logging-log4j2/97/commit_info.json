{"hash": "d6b7f4832a3562d615b7f251aff7c3d51107c0c2", "message": "LOG4J2-1248 Fixed broken nanotime in pattern layout\n\n- removed NanoClockFactory (which essentially served as a global variable)\n- Configuration now has nanoClock accessors\n- AbstractConfiguration now has a nanoClock field with a DummyNanoClock as initial value\n- PatternParser sets its Configuration's nanoClock when it detects a nanotime conversion pattern", "file_num_lines": 61, "diff_parsed": {"added": [[62, "        final long DUMMYNANOTIME = -53;"], [63, "        log.getContext().getConfiguration().setNanoClock(new DummyNanoClock(DUMMYNANOTIME));"], [64, "        log.updateConfiguration(log.getContext().getConfiguration());"], [65, ""], [68, ""], [71, ""], [89, ""]], "deleted": [[29, "import org.apache.logging.log4j.core.util.NanoClockFactory;"], [30, "import org.apache.logging.log4j.core.util.NanoClockFactory.Mode;"], [64, "        NanoClockFactory.setMode(Mode.Dummy);"], [65, "        final long DUMMYNANOTIME = 0;"], [66, ""], [69, ""], [72, ""], [90, ""]]}, "num_lines_added": 7, "num_lines_removed": 8}