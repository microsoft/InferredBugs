{"hash": "2ca58a37c26a5a1a7580b0d147beeefe0dc96b5a", "message": "Make sure no resources are leaked managing streams and readers.\n\ngit-svn-id: https://svn.apache.org/repos/asf/logging/log4j/log4j2/trunk@1516477 13f79535-47bb-0310-9956-ffa450edef68", "file_num_lines": 194, "diff_parsed": {"added": [[35, ""], [190, "    /**"], [191, "     *"], [192, "     * @param uri"], [193, "     * @param charset MUST not be null"], [194, "     * @return"], [195, "     * @throws IOException"], [196, "     */"], [198, "        if (charset == null) {"], [199, "            throw new IllegalArgumentException(\"charset must not be null\");"], [200, "        }"], [201, "        Reader reader = null;"], [203, "            InputStream in = uri.toURL().openStream();"], [204, "            // The stream is open and charset is not null, we can create the reader safely without a possible NPE."], [205, "            reader = new InputStreamReader(in, charset);"], [215, "                if (reader != null) {"], [216, "                    reader.close();"], [217, "                }"]], "deleted": [[190, "        InputStream in = null;"], [192, "            in = uri.toURL().openStream();"], [193, "            final Reader reader = new InputStreamReader(in, charset);"], [203, "                in.close();"]]}, "num_lines_added": 18, "num_lines_removed": 4}